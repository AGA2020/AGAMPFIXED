
### German Influence Points ###

HUN_add_10_influence_points = {
	
	if = {
		limit = { GER =  { check_variable = { var = ger_alignment_influence value = 90 compare = less_than_or_equals } } }
		custom_effect_tooltip = HUN_like_germans_tt
		GER = { add_to_variable = { var = ger_alignment_influence value = 10 } }
	}
	
}

HUN_add_15_influence_points = {
	
	if = {
		limit = {
			GER =  { check_variable = { var = ger_alignment_influence value = 85 compare = less_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_alignment_influence value = 15 } }
		custom_effect_tooltip = HUN_like_germans_15_tt
	}
	
}

HUN_add_20_influence_points = {
	
	if = {
		limit = {
			GER =  { check_variable = { var = ger_alignment_influence value = 80 compare = less_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_alignment_influence value = 20 } }
		custom_effect_tooltip = HUN_like_germans_20_tt
	}
	
}

HUN_substract_10_influence_points = {
	
	if = {
		limit = { GER =  { check_variable = { var = ger_alignment_influence value = 10 compare = greater_than_or_equals } } }
		custom_effect_tooltip = HUN_distance_from_germans_tt
		GER = { add_to_variable = { var = ger_alignment_influence value = -10 } }
	}
	
}

HUN_substract_15_influence_points = {
	
	if = {
		limit = { GER =  { check_variable = { var = ger_alignment_influence value = 15 compare = greater_than_or_equals } } }
		custom_effect_tooltip = HUN_less_influence_15_tt
		GER = { add_to_variable = { var = ger_alignment_influence value = -15 } }
	}
	
}

### Hitler Agitation ###

HUN_add_10_agitation = {
	
	if = {
		limit = {
			GER =  { check_variable = { var = ger_agitation_value value = 0.90 compare = less_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_agitation_value value = 0.1 } }
		custom_effect_tooltip = HUN_germans_more_agitated_10_tt
	}
	
}

HUN_add_15_agitation = {
	
	if = {
		limit = {
			GER =  { check_variable = { var = ger_agitation_value value = 0.85 compare = less_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_agitation_value value = 0.15 } }
		custom_effect_tooltip = HUN_germans_more_agitated_15_tt
	}
	
}

HUN_add_20_agitation = {
	
	if = {
		limit = {
			GER =  { check_variable = { var = ger_agitation_value value = 0.80 compare = less_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_agitation_value value = 0.20 } }
		custom_effect_tooltip = HUN_germans_more_agitated_20_tt
	}
	
}

HUN_substract_10_agitation = {
	
	if = {
		limit = { 
			GER =  { check_variable = { var = ger_agitation_value value = 0.10 compare = greater_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_agitation_value value = -0.10 } }
		custom_effect_tooltip = HUN_germans_less_agitated_10_tt
	}
	
}

HUN_substract_15_agitation = {
	
	if = {
		limit = { 
			GER =  { check_variable = { var = ger_agitation_value value = 0.15 compare = greater_than_or_equals } }
		}
		GER = { add_to_variable = { var = ger_agitation_value value = -0.15 } }
		custom_effect_tooltip = HUN_germans_less_agitated_15_tt
	}
	
}

### Change Trade Agreement cost based on German Influence ###

HUN_set_trade_cost = {
	if = {
		limit = { 
			AND = {
				GER =  { check_variable = { var = ger_alignment_influence value = 10 compare = greater_than_or_equals } } 
				GER =  { check_variable = { var = ger_alignment_influence value = 20 compare = less_than } } 
			}
		}	
		set_variable = { HUN_trade_deal_cost = 30 }
		set_variable = { HUN_trade_deal_cost_germany = 15 }
		custom_effect_tooltip = HUN_multiply_by_3
	}
	else_if = {
		limit = { 
			AND = {
				GER =  { check_variable = { var = ger_alignment_influence value = 20 compare = greater_than_or_equals } } 
				GER =  { check_variable = { var = ger_alignment_influence value = 30 compare = less_than } } 
			}
		}	
		set_variable = { HUN_trade_deal_cost = 40 }
		set_variable = { HUN_trade_deal_cost_germany = 10 }
		custom_effect_tooltip = HUN_multiply_by_4
	}
	else_if = {
		limit = { 
			GER =  { check_variable = { var = ger_alignment_influence value = 30 compare = greater_than_or_equals } } 
		}	
		set_variable = { HUN_trade_deal_cost = 50 }
		set_variable = { HUN_trade_deal_cost_germany = 5 }
		custom_effect_tooltip = HUN_multiply_by_5
	}
	else_if = {
		limit = { 
			GER =  { check_variable = { var = ger_alignment_influence value = 10 compare = less_than } } 
		}	
		set_variable = { HUN_trade_deal_cost = 10 }
		set_variable = { HUN_trade_deal_cost_germany = 20 }
		custom_effect_tooltip = HUN_normal_cost
	}
}

### National Unity ###

add_5_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.95 compare = less_than_or_equals } }
		add_to_variable = { var = national_unity value = 0.05 }
		custom_effect_tooltip = HUN_add_5_unity 
	}
}

add_10_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.90 compare = less_than_or_equals } }
		add_to_variable = { var = national_unity value = 0.10 }
		custom_effect_tooltip = HUN_add_10_unity 
	}
}

add_15_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.85 compare = less_than_or_equals } }
		add_to_variable = { var = national_unity value = 0.15 }
		custom_effect_tooltip = HUN_add_15_unity 
	}
}

add_20_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.80 compare = less_than_or_equals } }
		add_to_variable = { var = national_unity value = 0.20 }
		custom_effect_tooltip = HUN_add_20_unity 
	}
}

add_25_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.75 compare = less_than_or_equals } }
		add_to_variable = { var = national_unity value = 0.25 }
		custom_effect_tooltip = HUN_add_25_unity 
	}
}


remove_10_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.00 compare = greater_than_or_equals } }
		add_to_variable = { var = national_unity value = -0.10 }
		custom_effect_tooltip = HUN_remove_10_unity 
	}
}

remove_15_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.00 compare = greater_than_or_equals } }
		add_to_variable = { var = national_unity value = -0.15 }
		custom_effect_tooltip = HUN_remove_15_unity 
	}
}

remove_20_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.00 compare = greater_than_or_equals } }
		add_to_variable = { var = national_unity value = -0.20 }
		custom_effect_tooltip = HUN_remove_20_unity 
	}
}

remove_25_national_unity = {
	if = {
		limit = { check_variable = { var = national_unity value = 0.00 compare = greater_than_or_equals } }
		add_to_variable = { var = national_unity value = -0.25 }
		custom_effect_tooltip = HUN_remove_25_unity 
	}
}

### Set Habsburg Monarchy Idea after Ausgleich ###

set_ausgleich_idea_habsburg = {
	if = {
		limit = {
			AND = {
				has_country_flag = HUN_all_languages_allowed_flag
				has_country_flag = HUN_multiple_currencies_flag
				has_country_flag = HUN_regional_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_A
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_all_languages_allowed_flag
				has_country_flag = HUN_multiple_currencies_flag
				has_country_flag = HUN_central_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_B
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_all_languages_allowed_flag
				has_country_flag = HUN_one_currency_flag
				has_country_flag = HUN_regional_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_C
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_all_languages_allowed_flag
				has_country_flag = HUN_one_currency_flag
				has_country_flag = HUN_central_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_D
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_central_language_flag
				has_country_flag = HUN_multiple_currencies_flag
				has_country_flag = HUN_regional_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_E
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_central_language_flag
				has_country_flag = HUN_multiple_currencies_flag
				has_country_flag = HUN_central_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_F
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_central_language_flag
				has_country_flag = HUN_one_currency_flag
				has_country_flag = HUN_regional_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_G
	}
	else_if = {
		limit = {
			AND = {
				has_country_flag = HUN_central_language_flag
				has_country_flag = HUN_one_currency_flag
				has_country_flag = HUN_central_education_flag
			}
		}
		add_ideas = HUN_habsburg_restored_H
	}
}

### Modify Habsburg idea to next step (Medieval Ideals) ###

HUN_medieval_ideals_habsburg = {
	if = {
		limit = { has_idea = HUN_habsburg_restored_A }
		swap_ideas = {
			remove_idea = HUN_habsburg_restored_A
			add_idea = HUN_habsburg_restored_A_2
		}
	}

}

### Change Country flag for random uprisings ###

activate_random_uprising = {
	if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 1 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
	else_if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 2 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
	else_if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 3 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
	else_if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 4 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
	else_if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 5 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
	else_if = {
		limit = { has_country_flag = { flag = HUN_religions_uprisings_flag value = 6 } }
		modify_country_flag = { flag = HUN_religions_uprisings_flag value = 1 }
	}
}

HUN_transfer_ukrainean_states = {
				if = {
					limit = {
						199 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 199 
					} 
				}
				else_if = {
					limit = {
						199 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 199 } }
						50 = { }
					}
				}
				if = {
					limit = {
						198 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 198 
					}
				}
				else_if = {
					limit = {
						198 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 198 } }
						50 = { }
					}
				}
				if = {
					limit = {
						201 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 201 
					}
				}
				else_if = {
					limit = {
						201 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 201 } }
						50 = { }
					}
				}
				if = {
					limit = {
						202 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 202 
					}
				}
				else_if = {
					limit = {
						202 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 202 } }
						50 = { }
					}
				}
				if = {
					limit = {
						834 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 834 
					}
				}
				else_if = {
					limit = {
						834 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 834 } }
						50 = { }
					}
				}
				if = {
					limit = {
						192 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 192 
					}
				}
				else_if = {
					limit = {
						192 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 192 } }
						50 = { }
					}
				}
				if = {
					limit = {
						203 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 203 
					}
				}
				else_if = {
					limit = {
						203 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 203 } }
						50 = { }
					}
				}
				if = {
					limit = {
						197 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 197 
					}
				}
				else_if = {
					limit = {
						197 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 197 } }
						50 = { }
					}
				}
				if = {
					limit = {
						196 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 196 
					}
				}
				else_if = {
					limit = {
						196 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 196 } }
						50 = { }
					}
				}
				if = {
					limit = {
						193 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 193 
					}
				}
				else_if = {
					limit = {
						193 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 193 } }
						50 = { }
					}
				}
				if = {
					limit = {
						225 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 225 
					}
				}
				else_if = {
					limit = {
						225 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 225 } }
						50 = { }
					}
				}
				if = {
					limit = {
						259 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 259 
					}
				}
				else_if = {
					limit = {
						259 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 259 } }
						50 = { }
					}
				}
				if = {
					limit = {
						226 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 226 
					}
				}
				else_if = {
					limit = {
						226 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 226 } }
						50 = { }
					}
				}
				if = {
					limit = {
						200 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 200 
					}
				}
				else_if = {
					limit = {
						200 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 200 } }
						50 = { }
					}
				}
				if = {
					limit = {
						221 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 221 
					}
				}
				else_if = {
					limit = {
						221 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 221 } }
						50 = { }
					}
				}
				if = {
					limit = {
						227 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 227 
					}
				}
				else_if = {
					limit = {
						227 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 227 } }
						50 = { }
					}
				}
				if = {
					limit = {
						228 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 228 
					}
				}
				else_if = {
					limit = {
						228 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 228 } }
						50 = { }
					}
				}
				if = {
					limit = {
						93 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 93 
					}
				}
				else_if = {
					limit = {
						93 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 93 } }
						50 = { }
					}
				}
				if = {
					limit = {
						91 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 91 
					}
				}
				else_if = {
					limit = {
						91 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 91 } }
						50 = { }
					}
				}
				if = {
					limit = {
						89 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 89 
					}
				}
				else_if = {
					limit = {
						89 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 89 } }
						50 = { }
					}
				}
				if = {
					limit = {
						80 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 80 
					}
				}
				else_if = {
					limit = {
						80 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 80 } }
						50 = { }
					}
				}
				if = {
					limit = {
						766 = { check_variable = { HABSBURG_claims < 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					SOV = {
						transfer_state = 766 
					}
				}
				else_if = {
					limit = {
						766 = { check_variable = { HABSBURG_claims = 1 } has_state_flag = HUN_owned_by_soviet_flag }
					}
					random_list = {
						50 = { SOV = { transfer_state = 766 } }
						50 = { }
					}
				}
}


### Change Rákosi or Kádár Balance of Power

HUN_add_kadar_rakosi_bop_0_15 = {
	if = { 
		limit = { has_country_flag = HUN_rakosi_leader_flag }
		add_power_balance_value = {
			id = HUN_rakosi_tree_bop
			value = 0.15
		}
	}
	else_if = { 
		limit = { has_country_flag = HUN_kadar_leader_flag }
		add_power_balance_value = {
			id = HUN_kadar_bad_tree_bop
			value = 0.15
		}
	}
}

HUN_add_kadar_rakosi_bop_0_2 = {
	if = { 
		limit = { has_country_flag = HUN_rakosi_leader_flag }
		add_power_balance_value = {
			id = HUN_rakosi_tree_bop
			value = 0.2
		}
	}
	else_if = { 
		limit = { has_country_flag = HUN_kadar_leader_flag }
		add_power_balance_value = {
			id = HUN_kadar_bad_tree_bop
			value = 0.2
		}
	}
}

HUN_add_kadar_rakosi_bop_0_25 = {
	if = { 
		limit = { has_country_flag = HUN_rakosi_leader_flag }
		add_power_balance_value = {
			id = HUN_rakosi_tree_bop
			value = 0.25
		}
	}
	else_if = { 
		limit = { has_country_flag = HUN_kadar_leader_flag }
		add_power_balance_value = {
			id = HUN_kadar_bad_tree_bop
			value = 0.25
		}
	}
}

HUN_add_kadar_rakosi_bop_0_35 = {
	if = {
		limit = { has_country_flag = HUN_rakosi_leader_flag }
		add_power_balance_value = {
			id = HUN_rakosi_tree_bop
			value = 0.35
		}
	}
	else_if = {
		limit = { has_country_flag = HUN_kadar_leader_flag }
		add_power_balance_value = {
			id = HUN_kadar_bad_tree_bop
			value = 0.35
		}
	}
}

### BOP CHANGE PRIME MINISTER IF IMREDY OR SZALASI GET ENOUGH POWER AGAINST THE KING

HUN_switch_leader = {
	### IMREDY SIDE
	if = {	### IMREDY BECOMES LEADER INSTEAD OF KING
		limit = {	
			has_country_flag = HUN_imredy_prime_flag
			HUN_bela_imredy_prime = {
				is_hired_as_advisor = yes
			}
			power_balance_value = {
				id = HUN_fascist_tree_bop
				value > 0
			}
		}
		deactivate_advisor = HUN_bela_imredy_prime
		promote_character = HUN_bela_imredy
		if = {	### FRIEDRICH IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_friedrich_power
				}
			}
			add_ideas = HUN_friedrich_franz_idea
		}
		else_if = {	### ALBRECHT IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_albrecht_power
				}
			}
			add_ideas = HUN_albrecht_franz_idea
		}
	}
	else_if = {	### KING BECOMES LEADER INSTEAD OF IMREDY
		limit = {	
			has_country_flag = HUN_imredy_prime_flag
			HUN_bela_imredy = {
				is_hired_as_advisor = no
			}
			power_balance_value = {
				id = HUN_fascist_tree_bop
				value < 0
			}
		}
		activate_advisor = HUN_bela_imredy_prime
		if = {	### PROMOTE FRIEDRICH
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_friedrich_power
				}
			}
			remove_ideas = HUN_friedrich_franz_idea
			promote_character = {
				character = HUN_franz_friedrich
				ideology = nazism
			}
		}
		else_if = {	### ALBRECHT IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_albrecht_power
				}
			}
			remove_ideas = HUN_albrecht_franz_idea
			promote_character = {
				character = HUN_albrecht_habsburg
				ideology = gen_nazism
			}
		}
	}
	### SZALASI SIDE
	if = {	### SZALASI BECOMES LEADER INSTEAD OF KING
		limit = {	
			has_country_flag = HUN_szalasi_prime_flag
			HUN_szalasi_ferenc_prime = {
				is_hired_as_advisor = yes
			}
			power_balance_value = {
				id = HUN_fascist_tree_bop
				value > 0
			}
		}
		deactivate_advisor = HUN_szalasi_ferenc_prime
		promote_character = HUN_szalasi_ferenc
		if = {	### FRIEDRICH IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_friedrich_power
				}
			}
			add_ideas = HUN_friedrich_franz_idea
		}
		else_if = {	### ALBRECHT IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_albrecht_power
				}
			}
			add_ideas = HUN_albrecht_franz_idea
		}
	}
	else_if = {	### KING BECOMES LEADER INSTEAD OF SZALASI
		limit = {	
			has_country_flag = HUN_szalasi_prime_flag
			HUN_szalasi_ferenc_prime = {
				is_hired_as_advisor = no
			}
			power_balance_value = {
				id = HUN_fascist_tree_bop
				value < 0
			}
		}
		activate_advisor = HUN_szalasi_ferenc_prime
		if = {	### PROMOTE FRIEDRICH
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_friedrich_power
				}
			}
			remove_ideas = HUN_friedrich_franz_idea
			promote_character = {
				character = HUN_franz_friedrich
				ideology = nazism
			}
		}
		else_if = {	### ALBRECHT IDEA
			limit = {
				is_power_balance_side_active = {
					id = HUN_fascist_tree_bop
					side = HUN_albrecht_power
				}
			}
			remove_ideas = HUN_albrecht_franz_idea
			promote_character = {
				character = HUN_albrecht_habsburg
				ideology = gen_nazism
			}
		}
	}
}	

### ADD POPE HAPPINESS ###

HUN_pope_smile_10 = {
	add_to_variable = { var = pope_smile value = 0.1 }
	clamp_temp_variable = {
		var = pope_smile
		max = 1
	}
	custom_effect_tooltip = HUN_pope_smile_plus_10_tt
}

HUN_pope_smile_15 = {
	add_to_variable = { var = pope_smile value = 0.15 }
	clamp_temp_variable = {
		var = pope_smile
		max = 1
	}
	custom_effect_tooltip = HUN_pope_smile_plus_15_tt
}

HUN_pope_smile_20 = {
	add_to_variable = { var = pope_smile value = 0.20 }
	clamp_temp_variable = {
		var = pope_smile
		max = 1
	}
	custom_effect_tooltip = HUN_pope_smile_plus_20_tt
}

HUN_pope_smile_30 = {
	add_to_variable = { var = pope_smile value = 0.30 }
	clamp_temp_variable = {
		var = pope_smile
		max = 1
	}
	custom_effect_tooltip = HUN_pope_smile_plus_30_tt
}

HUN_give_congress_reward = {
	if = {
		limit = { check_variable = { var = pope_smile value = 0.8 compare = greater_than_or_equals } }
		set_country_flag = HUN_pope_can_take_power_flag
		set_country_flag = HUN_can_invite_catholic_nations_flag
		custom_effect_tooltip = HUN_greatest_reward_congress_tt
		add_political_power = 200
		add_stability = 0.2
		if = {
			limit = { has_country_flag = HUN_tourists_invited_flag }
			custom_effect_tooltip = HUN_receive_250_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 250
			}
		}
		else = {
			custom_effect_tooltip = HUN_receive_200_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 200
			}
		}
		country_event = { id = LH.470 days = 3 }
	}
	else_if = {
		limit = { check_variable = { var = pope_smile value = 0.5 compare = less_than_or_equals } }
		custom_effect_tooltip = HUN_lowest_reward_congress_tt
		add_political_power = 50
		add_stability = 0.05
		if = {
			limit = { has_country_flag = HUN_tourists_invited_flag }
			custom_effect_tooltip = HUN_receive_70_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 70
			}
		}
		else = {
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
		}
		country_event = { id = LH.471 days = 3 }
	}
	else_if = {
		limit = { 
			check_variable = { var = pope_smile value = 0.5 compare = greater_than } 
			check_variable = { var = pope_smile value = 0.6 compare = less_than } 
		}
		set_country_flag = HUN_can_invite_catholic_nations_flag
		custom_effect_tooltip = HUN_low_reward_congress_tt
		add_political_power = 100
		add_stability = 0.1
		if = {
			limit = { has_country_flag = HUN_tourists_invited_flag }
			custom_effect_tooltip = HUN_receive_150_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 150
			}
		}
		else = {
			custom_effect_tooltip = HUN_receive_100_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 100
			}
		}
		country_event = { id = LH.470 days = 3 }
	}
	else_if = {
		limit = { 
			check_variable = { var = pope_smile value = 0.6 compare = greater_than } 
			check_variable = { var = pope_smile value = 0.8 compare = less_than } 
		}
		set_country_flag = HUN_can_invite_catholic_nations_flag
		custom_effect_tooltip = HUN_middle_reward_congress_tt
		add_political_power = 150
		add_stability = 0.15
		if = {
			limit = { has_country_flag = HUN_tourists_invited_flag }
			custom_effect_tooltip = HUN_receive_200_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 200
			}
		}
		else = {
			custom_effect_tooltip = HUN_receive_150_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 150
			}
		}
		country_event = { id = LH.470 days = 3 }
	}
}

HUN_get_szalasi_destination = { #For scripted Localisation to show the state name
	random_list = {
		10 = {
			modifier = {
				factor = 0 
				973 = { is_capital = yes } #No point on visiting your own city...
			}
			set_variable = { HUN_szalasi_destination = 1 } # Sofia
		}
		10 = {
			set_variable = { HUN_szalasi_destination = 2 } # Transdanubia
		}
		10 = {
			set_variable = { HUN_szalasi_destination = 3 } # Bacs
		}
		10 = {
			set_variable = { HUN_szalasi_destination = 4 } # Northern Hungary
		}
		10 = {
			set_variable = { HUN_szalasi_destination = 5 } # Alföld
		}
	}
}

































