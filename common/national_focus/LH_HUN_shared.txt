
#	focus = {
#		id = HUN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}
	
	############################
	##### Industrial Tree ######
	############################
	
	shared_focus = {
		id = HUN_industrial_rev 
		icon = GFX_goal_generic_construction2
		x = 77
		y = 0
		
		offset = {
			x = -45
			y = 0
			trigger = {
				has_completed_focus = HUN_empower_the_far_right
			}
		}
		
		offset = {
			x = -26
			y = 0
			trigger = {
				has_completed_focus = HUN_continue_bethlens_consolidation
			}
		}
		
		offset = {
			x = -44
			y = 0
			trigger = {
				has_country_flag = HUN_left_side_chosen_flag
			}
		}
		
		#offset = {
		#	x = 24
		#	y = 0
		#	trigger = {
		#		AND = {
		#			has_country_flag = HUN_fascist_side_chosen_flag
		#			has_country_flag = HUN_monarchy_side_chosen_flag
		#		}
		#	}
		#}
		
		#offset = {
		#	x = 40
		#	y = 0
		#	trigger = {
		#		AND = {
		#			has_country_flag = HUN_fascist_side_chosen_flag
		#			has_country_flag = HUN_left_side_chosen_flag
		#		}
		#	}
		#}
		
		offset = {
			x = -13
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = HUN_meet_with_the_members_of_the_rongyos_garda
			}
		}
		
		offset = {
			x = -15
			y = 0
			trigger = {
				has_game_rule = {
					rule = obsolete_focus_branches_visibility
					option = HIDE
				}
				has_completed_focus = HUN_pardon_political_extremists
			}
		}

		cost = 5


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_chose_side_tt
				OR = {
					has_completed_focus = HUN_empower_the_far_right
					has_completed_focus = HUN_continue_bethlens_consolidation
					has_completed_focus = HUN_social_reforms
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
		
			custom_effect_tooltip = HUN_industrial_rev_event_chain_start_tt
		
			if = {
				limit = {
					43 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				43 = {
					add_extra_state_shared_building_slots = 3
				}
			}
			
			add_tech_bonus = {
				name = HUN_industrial_revitalization
				bonus = 1.0
				uses = 1
				category = industry
			}
			
			if = {
				limit = { has_completed_focus = HUN_empower_the_far_right }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_emil_szakvary
			}
			else_if = {
				limit = { has_completed_focus = HUN_continue_bethlens_consolidation }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_jozsef_varga
			}
			
			set_country_flag = {
				flag = HUN_special_construction_cooldown_flag
				days = 10
				value = 1
			}
		}
	}
	
	shared_focus = {
		id = HUN_austro_hungarian_railways
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = {focus = HUN_industrial_rev}
		
		x = 0
		y = 1
		relative_position_id = HUN_industrial_rev
		
		cost = 7


		available = {
			has_completed_focus = HUN_reintegrate_railroads
		}
		
		bypass = {

		}
		
		allow_branch = {
			has_completed_focus = HUN_accept_the_habsburg_prince
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_2
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_reintegrate_the_railroads_Inf_3
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 155 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf
			}
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_2
			}
			random_owned_controlled_state = {
				prioritize = { 664 }
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_reintegrate_the_railroads_Inf_3
			}
		}
	}
	
	
	shared_focus = {
		id = HUN_improve_pengo
		icon = GFX_focus_improve_pengo
		#prerequisite = {focus = HUN_industrial_rev}
		x = 8
		y = 0
		relative_position_id = HUN_industrial_rev
		
		cost = 5


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_chose_side_tt
				OR = {
					has_completed_focus = HUN_empower_the_far_right
					has_completed_focus = HUN_continue_bethlens_consolidation
					has_completed_focus = HUN_social_reforms
				}
			}
			
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			add_political_power = 50
			add_timed_idea = { idea = HUN_improve_pengo_idea days = 365 }
			custom_effect_tooltip = HUN_budget_decisions_unlock_tt
			
			### Make Trade Agreements cost more for other countries and less for Germnany ###
			HUN_set_trade_cost = yes
			set_country_flag = HUN_no_trade_partner_flag
			if = {
				limit = { has_completed_focus = HUN_empower_the_far_right }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_lajos_remenyi_schneller
			}
			else_if = {
				limit = { has_completed_focus = HUN_continue_bethlens_consolidation }
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_tihamer_fabinyi
			}
		}
	}
	
	shared_focus = {
		id = HUN_test
		icon = GFX_focus_improve_pengo
		#prerequisite = {focus = HUN_industrial_rev}
		x = 75
		y = 0
		#relative_position_id = HUN_industrial_rev
		
		cost = 5


		available = {
			OR = {
				has_completed_focus = HUN_empower_the_far_right
				has_completed_focus = HUN_continue_bethlens_consolidation
				has_completed_focus = HUN_social_reforms
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			add_timed_idea = { idea = HUN_improve_pengo_idea days = 365 }
			custom_effect_tooltip = HUN_budget_decisions_unlock_tt
		}
	}
	
	shared_focus = {
		id = HUN_reintegrate_railroads
		icon = GFX_goal_generic_construct_infrastructure
		#prerequisite = {focus = HUN_industrial_rev}
		prerequisite = {focus = HUN_improve_pengo}
		x = -4
		y = 1
		relative_position_id = HUN_improve_pengo
		
		cost = 7


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
		
			
			
			build_railway = {	# Between Szolnok, Debrecen and Nyíregyháza
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 11659 6735 3730 9706 11691 }
			  #start_province = 6720
			  #target_province = 3700
			}
			
			build_railway = {	# Between Miskolc and Nyíregyháza
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 3713 11520 3730 }
			  #start_province = 6720
			  #target_province = 3700
			}
			
			build_railway = {	# Between Szolnok and Szeged
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 6716 684 6700 }
			  #start_province = 6720
			  #target_province = 3700
			}
			
			build_railway = {	# Between Balaton and Pécs
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 682 6685 11610 }
			  #start_province = 6720
			  #target_province = 3700
			}
			
			build_railway = {	# Between Györ, Szombathely and Nagykanizsa
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 6720 3683 11627 3670 }
			  #start_province = 6720
			  #target_province = 3700
			}		
		
			### AUSTRIA ###
		
			AUS = {
				build_railway = {
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  #path = { 9660 9690 }
				  start_province = 11666
				  target_province = 3673
				}
			
				build_railway = {
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  #path = { 9660 9690 }
				  start_province = 11666
				  target_province = 688
				}
				
				build_railway = {	# Between Györ and Eisenstadt
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  path = { 6720 13238 3700 }
				  start_province = 6720
				  target_province = 3700
				}
				
				build_railway = {	# Between Szombathely and Graz
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  path = { 11627 13236 11630 9648 }
				  #start_province = 6720
				  #target_province = 3700
				}
			}
		
			### CZECHOSLOVAKIA ###
		
			CZE = {
				build_railway = {
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  #path = { 9692 9690 }
				  start_province = 9692
				  target_province = 11539
				}
			
				build_railway = {
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  #path = { 9660 9690 }
				  start_province = 9692
				  target_province = 3581
				}
				
				
				build_railway = {	# Between Kosice and Presov and Miskolc
				  level = 1
				  controller_priority = {
					base = 1
				  }
				  path = { 3581 6573 11520 }
				  #start_province = 6720
				  #target_province = 3700
				}
			}
		
			if = {
				limit = { country_exists = AUS }
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_reintegrate_the_railroads }
			}
			if = {
				limit = { country_exists = CZE }
				reverse_add_opinion_modifier = { target = CZE modifier = HUN_reintegrate_the_railroads }
			}
		}
	}
	
	shared_focus = {
		id = HUN_support_domestic_ind
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = {focus = HUN_reintegrate_railroads}
		prerequisite = {focus = HUN_industrial_rev}
		x = -3
		y = 1
		relative_position_id = HUN_reintegrate_railroads
		
		cost = 14


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_support_domestic_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_support_domestic_industry_IC
			}
			custom_effect_tooltip = HUN_receive_10_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 10
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_3_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	shared_focus = {
		id = HUN_open_up_old_factories
		icon = GFX_goal_generic_construct_civ_factory	
		prerequisite = { focus = HUN_support_domestic_ind }
		x = -2
		y = 1
		relative_position_id = HUN_support_domestic_ind
		
		cost = 5


		available = {
			
		}
		
		allow_branch = {
			has_completed_focus = HUN_accept_the_habsburg_prince
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_old_factories
		}
	}
	
	shared_focus = {
		id = HUN_regionalisation
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = HUN_open_up_old_factories }
		mutually_exclusive = { focus = HUN_centralisation }
		x = -1
		y = 1
		relative_position_id = HUN_open_up_old_factories
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_regionlisation_flag
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_regionlisation__mil_flag
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_old_factories
				add_idea = HUN_regionalisation_idea
			}
		
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_regionlisation_flag
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_regionlisation__mil_flag
			}
		}
	}
	
	shared_focus = {
		id = HUN_centralisation
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = { focus = HUN_open_up_old_factories }
		mutually_exclusive = { focus = HUN_regionalisation }
		x = 1
		y = 1
		relative_position_id = HUN_open_up_old_factories
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_old_factories
				add_idea = HUN_centralisation_idea
			}
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 1
				uses = 1
				category = industry
			}
			973 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			973 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_liberalization_of_the_empire
		icon = GFX_goal_continuous_boost_freedom
		prerequisite = { focus = HUN_regionalisation focus = HUN_centralisation }
		
		x = 1
		y = 1
		relative_position_id = HUN_regionalisation
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_focus_under_construction_tt
		}
	}
	
	
	
	
	shared_focus = {
		id = HUN_institute_for_ind_techniques
		icon = GFX_focus_research2
		prerequisite = {focus = HUN_support_domestic_ind focus = HUN_urban}
		x = 3
		y = 1
		relative_position_id = HUN_support_domestic_ind
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_research_slot = 1
		}
	}
	
	shared_focus = {
		id = HUN_civilian_ind
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = HUN_institute_for_ind_techniques }
		prerequisite = { focus = HUN_industrial_work_reforms }
		mutually_exclusive = { focus = HUN_domestic_arms_ind }
		x = -2
		y = 1
		relative_position_id = HUN_institute_for_ind_techniques

		cost = 10

		ai_will_do = {
			factor = 40
		}

		available = {

		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		
		search_filters = { FOCUS_FILTER_INDUSTRY }
		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_civilian_industry_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_civilian_industry_IC
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_construction = yes
		}
	}
	
	
	
	
	
	
	shared_focus = {
		id = HUN_hungarian_motorway_network
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = {focus = HUN_reintegrate_railroads}
		x = -1
		y = 1
		relative_position_id = HUN_reintegrate_railroads
		
		cost = 5


		available = {
			owns_state = 43 	#Northern Hungary
			owns_state = 154 	#Alföld
			owns_state = 155 	#Transdanubia
			owns_state = 972 	#Bacs-Kiskun
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_tt = yes 
			HUN_add_3_construction = yes
			43 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			154 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			155 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			972 = {
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_industrial_work_reforms
		icon = GFX_goal_generic_construction
		prerequisite = {focus = HUN_support_domestic_ind}
		
		x = -2
		y = 1
		relative_position_id = HUN_hungarian_motorway_network
		
		cost = 14


		available = {
			if = {
				limit = {
					original_tag = HUN
					has_dlc = "Death or Dishonor"
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					NOT = { has_idea = HUN_treaty_of_triannon_aat }
				}
				else = {
					NOT = { has_idea = HUN_treaty_of_triannon  }
				}
			}
			NOT = { has_idea = HUN_treaty_of_triannon_2 }
			owns_state = 972 	#Bacs-Kiskun
			owns_state = 43 	#Northern Hungary
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_political_power = 100
			972 = {		#Bacs-Kiskun
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			43 = {		#Northern Hungary
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_10_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 10
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes 
			HUN_add_2_consumer = yes
			HUN_add_2_construction = yes
		}
	}
	
	
	
	shared_focus = {
		id = HUN_agricultural_modernization
		icon = GFX_goal_generic_production2
		prerequisite = {focus = HUN_civilian_ind}
		
		x = 1
		y = 1
		relative_position_id = HUN_civilian_ind
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 1
				category = industry
			}
			155 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	
	
	shared_focus = {
		id = HUN_urban
		icon = GFX_goal_generic_construct_civilian
		prerequisite = {focus = HUN_reintegrate_railroads}
		#prerequisite = { focus = HUN_artillery_factory_in_szeged }
		x = 1
		y = 1
		relative_position_id = HUN_reintegrate_railroads
		
		cost = 7


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			if = {
				limit = {
					973 = {
						free_building_slots = {
							building = industrial_complex
							size > 1
							include_locked = yes
						}
					}
				}
				973 = {
					add_extra_state_shared_building_slots = 3
				}
			}
			custom_effect_tooltip = HUN_receive_10_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 10
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	shared_focus = {
		id = HUN_autark
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = {focus = HUN_civilian_ind focus = HUN_domestic_arms_ind }
		x = 3
		y = 1
		relative_position_id = HUN_civilian_ind
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_synthetic_industry
				bonus = 3.0
				uses = 1
				category = synth_resources
			}
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	shared_focus = {
		id = HUN_invite_foreign_invest
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = {focus = HUN_civilian_ind}
		x = -1
		y = 1
		relative_position_id = HUN_civilian_ind
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_invite_foreign_investors
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_3_factory_output = yes
		}
	}
	
	shared_focus = {
		id = HUN_found_maort
		icon = GFX_goal_generic_oil_refinery
		prerequisite = {focus = HUN_industrial_rev}
		#prerequisite = {focus = HUN_improve_pengo}
		x = -1
		y = 1
		relative_position_id = HUN_industrial_rev
		
		cost = 10


		available = {
			owns_state = 155 	#Transdanubia
			has_tech = synth_oil_experiments
			OR = {
				has_country_flag = HUN_eurogasco_ready_flag
				has_country_flag = HUN_eurogasco_completed_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_maort_bonus
				bonus = 0.75
				uses = 1
				category = excavation_tech
			}
			add_resource = {
				type = oil
				amount = 15
				state = 155
			}
			add_resource = {
				type = oil
				amount = 5
				state = 972
			}
			if = { 
				limit = { has_country_flag = HUN_ger_trade_partner_flag }
				give_resource_rights = {
					receiver = GER
					state = 972
					resources = { oil }
				}
			}
			else_if = { 
				limit = { has_country_flag = HUN_sov_trade_partner_flag }
				give_resource_rights = {
					receiver = SOV
					state = 972
					resources = { oil }
				}
			}
			else_if = { 
				limit = { has_country_flag = HUN_ita_trade_partner_flag }
				give_resource_rights = {
					receiver = ITA
					state = 972
					resources = { oil }
				}
			}
			else = { 
				give_resource_rights = {
					receiver = USA
					state = 972
					resources = { oil }
				}
			}
			
			155 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
			
			if = {
				limit = { NOT = { has_country_flag = HUN_maort_expanded_flag } }
				custom_effect_tooltip = available_designer
				show_ideas_tooltip = HUN_maort
			}
		}
	}
	
	shared_focus = {
		id = HUN_oil_surveys
		icon = GFX_goal_generic_oil_refinery
		prerequisite = {focus = HUN_found_maort}
		x = 0
		y = 1
		relative_position_id = HUN_found_maort
		
		cost = 10


		available = {
			OR = {
				owns_state = 664		#southern Slovakia
				SLO = {
					owns_state = 664		#southern Slovakia
					is_subject_of = ROOT
				}
			}
			owns_state = 73		#Carpathian Ruthenia
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_resource = {
				type = oil
				amount = 10
				state = 664		#southern Slovakia
			}
			add_resource = {
				type = oil
				amount = 6
				state = 73		#Carpathian Ruthenia
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_3_factory_output = yes
		}
	}
	
	
	
	
	shared_focus = {
		id = HUN_synth_industry
		icon = GFX_goal_generic_oil_refinery
		prerequisite = {focus = HUN_autark}
		x = 0
		y = 1
		relative_position_id = HUN_autark
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_synthetic_industry_AF1
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = { NOT = { has_tech = synth_oil_experiments } }
				custom_effect_tooltip = HUN_synthetic_oil_tt
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = synthetic_refinery
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_refinery
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_synthetic_industry_AF1
			}
		}
	}
	
	shared_focus = {
		id = HUN_expand_oil_storage
		icon = GFX_goal_generic_oil_refinery
		prerequisite = {focus = HUN_synth_industry}
		x = 0
		y = 1
		relative_position_id = HUN_synth_industry
		
		cost = 10


		available = {
			owns_state = 155 	#Transdanubia
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			973 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
			155 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = fuel_silo
					level = 1
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_expand_aluminium_industry
		icon = GFX_goal_generic_construct_civilian
		prerequisite = {focus = HUN_invite_foreign_invest}
		x = 2
		y = 1
		relative_position_id = HUN_invite_foreign_invest
		
		cost = 10


		available = {
			ROOT = { has_full_control_of_state = 43 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_increase_metal_processing_capacity
		icon = GFX_focus_generic_steel
		prerequisite = {focus = HUN_expand_aluminium_industry}
		x = 0
		y = 1
		relative_position_id = HUN_expand_aluminium_industry
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_metal_processing_F
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}

		completion_reward = {
		
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}

				set_state_flag = HUN_metal_processing_F
				add_resource = {
					type = steel
					amount = 8
				}
			}
		
		
			add_ideas = HUN_resource_efficiency
		}
	}
	
	shared_focus = {
		id = HUN_expand_manfred_weiss
		icon = GFX_focus_generic_steel
		prerequisite = {focus = HUN_invite_foreign_invest}
		x = 0
		y = 1
		relative_position_id = HUN_invite_foreign_invest
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_expand_the_manfred_weiss_steel_works_IC
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = no
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_expand_the_manfred_weiss_steel_works_IC
				add_resource = {
					type = steel
					amount = 12
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_expand_rubber_industry
		icon = GFX_focus_generic_rubber
		prerequisite = {focus = HUN_expand_aluminium_industry focus = HUN_expand_manfred_weiss}
		x = 0
		y = 1
		relative_position_id = HUN_expand_manfred_weiss
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			modify_building_resources = {
        	   building = synthetic_refinery
        	   resource = rubber
        	   amount = 2
        	}
		}
	}
	
	
	
	
	
	############################
	#### Secret Rearmament #####
	############################
	
	shared_focus = {
		id = HUN_secret_armament
		icon = GFX_focus_secret_rearmament
		x = 16
		y = 0
		
		relative_position_id = HUN_industrial_rev
		
		cost = 7


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_chose_side_tt
				OR = {
					has_completed_focus = HUN_council_of_commisars
					has_completed_focus = HUN_utilize_the_march_front
					has_completed_focus = HUN_continue_bethlens_consolidation
					has_completed_focus = HUN_empower_the_far_right
				}
			}
			
			if = {
				limit = { has_country_flag = HUN_italy_leaning }
				NOT = { has_global_flag = second_italo_ethiopian_war_flag }
			}
		}
		
		bypass = {
			if = {
				limit = {
					original_tag = HUN
					has_dlc = "Death or Dishonor"
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					NOT = { has_idea = HUN_treaty_of_triannon_aat }
				}
				else = {
					NOT = { has_idea = HUN_treaty_of_triannon  }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_secret_armament_artillery_bonus
				bonus = 1.2
				uses = 1 
				technology = artillery1
			}
			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = HUN_continue_bethlens_consolidation
							has_completed_focus = HUN_council_of_commisars
							has_completed_focus = HUN_utilize_the_march_front
							has_completed_focus = HUN_empower_the_far_right
						}
					}
				}
				custom_effect_tooltip = HUN_establish_secret_trade_route_decision_tt
				custom_effect_tooltip = HUN_supporting_countries_focus_tt
			} 
			else = {
				custom_effect_tooltip = HUN_establish_secret_trade_route_decision_2_tt
				if = {	limit = { has_completed_focus = HUN_continue_bethlens_consolidation } custom_effect_tooltip = HUN_sweden_supports_tt SWE = { set_country_flag = HUN_supports_hun_flag } set_country_flag = HUN_sweden_supports_hun_flag 
					add_relation_rule_override = { 
						target = SWE
						usage_desc = HUN_secret_trade
						can_access_market = yes
					}
					SWE = { add_opinion_modifier = { modifier = HUN_secret_trade target = ROOT } }
					SWE = { give_market_access = HUN }
				}
				if = {	limit = { has_completed_focus = HUN_council_of_commisars } custom_effect_tooltip = HUN_soviet_supports_tt SOV = { set_country_flag = HUN_supports_hun_flag } set_country_flag = HUN_soviet_supports_hun_flag 
					add_relation_rule_override = { 
						target = SOV
						usage_desc = HUN_secret_trade
						can_access_market = yes
					}
					SOV = { add_opinion_modifier = { modifier = HUN_secret_trade target = ROOT } }
					SOV = { give_market_access = HUN }
				}
				if = {	limit = { has_completed_focus = HUN_utilize_the_march_front } custom_effect_tooltip = HUN_england_supports_tt ENG = { set_country_flag = HUN_supports_hun_flag } set_country_flag = HUN_england_supports_hun_flag 
					add_relation_rule_override = { 
						target = ENG
						usage_desc = HUN_secret_trade
						can_access_market = yes
					}
					ENG = { add_opinion_modifier = { modifier = HUN_secret_trade target = ROOT } }
					ENG = { give_market_access = HUN }
				}
				if = {	limit = { has_country_flag = HUN_germany_leaning } custom_effect_tooltip = HUN_germany_supports_tt GER = { set_country_flag = HUN_supports_hun_flag } set_country_flag = HUN_germany_supports_hun_flag 
					add_relation_rule_override = { 
						target = GER
						usage_desc = HUN_secret_trade
						can_access_market = yes
					}
					GER = { add_opinion_modifier = { modifier = HUN_secret_trade target = ROOT } }
					GER = { give_market_access = HUN }
				}
				if = {	limit = { has_country_flag = HUN_italy_leaning } custom_effect_tooltip = HUN_italy_supports_tt ITA = { set_country_flag = HUN_supports_hun_flag } set_country_flag = HUN_italy_supports_hun_flag 
					add_relation_rule_override = { 
						target = ITA
						usage_desc = HUN_secret_trade
						can_access_market = yes
					}
					ITA = { add_opinion_modifier = { modifier = HUN_secret_trade target = ROOT } }
					ITA = { give_market_access = HUN }
				}
			}
			add_ideas = HUN_secret_rearmament
			add_war_support = 0.05
			if = {
				limit = { 
					difficulty > 3
				}
				add_political_power = 100
			}
			else_if = {
				limit = { 
					difficulty > 2
					difficulty < 4
				}
				add_political_power = 50
			}
			else_if = {
				limit = { 
					difficulty > 0
					difficulty < 2
				}
				add_political_power = -50
			}
			else_if = {
				limit = { 
					difficulty < 1
				}
				add_political_power = -100
			}
			create_equipment_variant = {		## COSTS 30xp
				name = "Straussler V4"
				type = light_tank_chassis_1
				allow_without_tech = yes
				modules = {
					engine_type_slot = tank_petrol_electric_engine
					armor_type_slot = tank_welded_armor
					suspension_type_slot = tank_wheeled_suspension
					turret_type_slot = tank_light_one_man_tank_turret
					main_armament_slot = tank_small_cannon
					special_type_slot_1 = additional_machine_guns
					special_type_slot_2 = tank_radio_1
				}
				upgrades = {
					tank_nsb_engine_upgrade = 4
					tank_nsb_armor_upgrade = 3
				}
				icon = "GFX_HUN_basic_light_tank_medium"
				model = commonwealth_gfx_light_armor_entity
				design_team = mio:HUN_mw_tank_organization
				obsolete = no
			}
			custom_effect_tooltip = HUN_enable_economy_law_tt
			show_ideas_tooltip = partial_economic_mobilisation
		}
	}
	
	shared_focus = {
		id = HUN_military_attaches
		icon = GFX_focus_send_attaches
		prerequisite = { focus = HUN_secret_armament }
		x = 0
		y = 1
		
		relative_position_id = HUN_secret_armament
		
		cost = 5


		available = {

		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			country_event = LH.421
		}
	}
	
	
	shared_focus = {
		id = HUN_gyor_program
		icon = GFX_goal_generic_production
		prerequisite = {focus = HUN_improve_pengo focus = HUN_secret_armament }
		#prerequisite = { }
		x = -4
		y = 1
		relative_position_id = HUN_secret_armament
		
		cost = 4


		available = {
			OR = {
				date > 1937.06.01
				OR = {
					has_country_flag = HUN_daranyi_prime_flag
					has_country_flag = HUN_imredy_prime_flag
					HUN_bela_imredy = {
						is_hired_as_advisor = yes
					}
				}
			}
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			mio:HUN_femaru_fegyver_es_gepgyar_organization = {
				add_mio_size = 1
			}
			mio:HUN_digep_organization = {
				add_mio_size = 1
			}
			army_experience = 10
			air_experience = 10
			add_political_power = 100
			custom_effect_tooltip = HUN_gyor_program_start_tt
			country_event = LH.326
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_vilmos_roder
		}
	}
	
	
	shared_focus = {
		id = HUN_agreement_bled
		icon = GFX_goal_generic_military_deal
		prerequisite = {focus = HUN_gyor_program }
		x = 3
		y = 1
		relative_position_id = HUN_gyor_program
		
		cost = 3


		available = {

		}
		
		bypass = {
			OR = {
				AND = {
					if = {
						limit = {
							original_tag = HUN
							has_dlc = "Death or Dishonor"
						}
						if = {
							limit = {
								has_dlc = "Arms Against Tyranny"
							}
							NOT = { has_idea = HUN_treaty_of_triannon_aat }
						}
						else = {
							NOT = { has_idea = HUN_treaty_of_triannon  }
						}
					}
					NOT = { has_idea = HUN_treaty_of_triannon_2 }
				}
				has_idea = HUN_treaty_of_triannon_3
				has_idea = HUN_treaty_of_triannon_2
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			if = {
				limit = {
					FRA = { has_completed_focus = FRA_strengthen_the_little_entente }
				}
				FRA = { country_event = DOD_hungary.140 }
			}
			if = {
				limit = {
					NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } }
				}
				ROM = { country_event = DOD_hungary.140 }
			}
			
			if = {
				limit = { has_completed_focus = HUN_strengthen_the_regency_monarch }
				set_rule = { can_send_volunteers = yes }
			}
			
			custom_effect_tooltip = HUN_bled_agreement_custom_effect_tooltip
			custom_effect_tooltip = HUN_no_longer_possible_to_import_tt
			
			add_political_power = 100
		}
	}
	
	
	shared_focus = {
		id = HUN_reorganisation_of_the_hungarian_army
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = HUN_agreement_bled }
		x = 0
		y = 1
		relative_position_id = HUN_agreement_bled
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

  

		completion_reward = {
			army_experience = 20
			air_experience = 10
			custom_effect_tooltip = HUN_hungarian_army_modifier_initial
			hidden_effect = {
				add_dynamic_modifier = { modifier = HUN_hungarian_army_modifier }
				add_to_variable = { var = HUN_hungarian_army_speed_factor value = 0.05 }
				add_to_variable = { var = HUN_hungarian_army_xp_gain value = 0.05 }
				add_to_variable = { var = HUN_hungarian_army_org_factor value = 0.05 }
				add_to_variable = { var = HUN_experience_gain_army value = 0.30 }
			}
			
		}
	}
	
	
	shared_focus = {
		id = HUN_develop_regained_territories
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_agreement_bled }
		x = 7
		y = 1
		relative_position_id = HUN_agreement_bled
		
		cost = 5


		available = {
			AND = {
			owns_state = 76 # Northern Transylvania
			owns_state = 664 # Southern Slovakia
			owns_state = 45 # Vojvodina
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_timed_idea = {idea = HUN_expand_regained_territories days = 365}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_tt = yes 
			HUN_add_3_construction = yes
		}
	}

	

	shared_focus = {
		id = HUN_metal_processing_in_vojvodina
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = {focus = HUN_develop_regained_territories}
		x = 0
		y = 1
		relative_position_id = HUN_develop_regained_territories
		
		cost = 10


		available = {
			owns_state = 45		#Vojvodina
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			45 = {
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			add_resource = {
				type = steel
				amount = 6
				state = 45
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_3_factory_output = yes
		}
	}
	
	############################
	######## Airforce ##########
	############################
	
	shared_focus = {
		id = HUN_establish_airforce
		icon = GFX_goal_generic_build_airforce
		#prerequisite = {focus = HUN_theoretical_air_effort}
		prerequisite = {focus = HUN_form_repulogepi_intezet focus = HUN_reorganisation_of_the_hungarian_army }
		prerequisite = { }
		x = -3
		y = 2
		relative_position_id = HUN_reorganisation_of_the_hungarian_army
		
		cost = 10


		available = {
			has_completed_focus = HUN_agreement_bled
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_airforce_decisions_tt
			air_experience = 50
			add_doctrine_cost_reduction = {
				name = HUN_establish_the_air_force
				cost_reduction = 0.5
				uses = 2
				category = air_doctrine
			}
			
			#add_ace = { 
			#	name = "István" 
			#	surname = "Horthy" 
			#	type = fighter_genius 
			#	is_female = no 
			#}
		}
	}
	
	shared_focus = {
		id = HUN_airbase_expansion
		icon = GFX_goal_generic_air_doctrine
		prerequisite = {focus = HUN_establish_airforce }
		x = 1
		y = 1
		relative_position_id = HUN_establish_airforce
		
		cost = 10


		available = {
			custom_trigger_tooltip =  {
				tooltip = enough_building_slots_for_airbase_tt
				
					any_owned_state = {
					free_building_slots = {
						building = air_base
						size > 1
					}
				}
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			air_experience = 25
			155 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			154 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
			add_doctrine_cost_reduction = {
				name = HUN_theoretical_air_efforts
				cost_reduction = 0.75
				uses = 1
				category = air_doctrine
			}
		}
	}
	
	
	
	
	
	
	
	
	
	
	
	
	
	shared_focus = {
		id = HUN_domestic_arms_ind
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = {focus = HUN_institute_for_ind_techniques}
		mutually_exclusive = { focus = HUN_civilian_ind}
		x = 3
		y = 1
		relative_position_id = HUN_institute_for_ind_techniques
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_domestic_arms_industry_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_domestic_arms_industry_AF1
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_5_construction = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	shared_focus = {
		id = HUN_artillery_factory_in_szeged
		icon = GFX_goal_generic_army_artillery2
		prerequisite = {focus = HUN_domestic_arms_ind}
		x = 1
		y = 2
		relative_position_id = HUN_domestic_arms_ind
		
		cost = 7


		available = {
			if = {
				limit = {
					original_tag = HUN
					has_dlc = "Death or Dishonor"
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					NOT = { has_idea = HUN_treaty_of_triannon_aat }
				}
				else = {
					NOT = { has_idea = HUN_treaty_of_triannon  }
				}
			}
			NOT = { has_idea = HUN_treaty_of_triannon_2 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			972 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_tech_bonus = {
				name = infantry_artillery_bonus
				bonus = 0.5
				uses = 1
				category = artillery
			}		
		}
	}
	
	shared_focus = {
		id = HUN_boost_aviation_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = {focus = HUN_establish_airforce }
		x = -1
		y = 1
		relative_position_id = HUN_establish_airforce
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_boost_hungarian_aviation_industry_AF1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_boost_hungarian_aviation_industry_AF1
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_tt = yes 
			HUN_add_3_construction = yes
		}
	}
	
	shared_focus = {
		id = HUN_seek_guidance_from_titans
		icon = GFX_goal_generic_production
		prerequisite = {focus = HUN_artillery_factory_in_szeged}
		x = -1
		y = 1
		relative_position_id = HUN_artillery_factory_in_szeged
		
		cost = 10


		available = {
			has_country_flag = HUN_titan_trade_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_titans_decisions_available_tt
		}
	}
	
	
	
	shared_focus = {
		id = HUN_modernize_mining_technology
		icon = GFX_goal_generic_construction2
		prerequisite = {focus = HUN_seek_guidance_from_titans focus = HUN_heavy_industry_effort }
		x = 0
		y = 2
		relative_position_id = HUN_seek_guidance_from_titans
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HOL_make_use_of_our_riches
				bonus = 1.0
				uses = 2
				category = excavation_tech
			}
			add_tech_bonus = {
				name = HOL_expand_curacao_oil_refineries
				bonus = 1.0
				uses = 1
				category = synth_resources
			}
			add_resource = {
				type = steel
				amount = 10
				state = 43
			}
			add_resource = {
				type = tungsten
				amount = 8
				state = 43
			}
		}
	}
	
	shared_focus = {
		id = HUN_heavy_industry_effort
		icon = GFX_focus_generic_industry_3
		prerequisite = {focus = HUN_artillery_factory_in_szeged}
		#prerequisite = {focus = HUN_form_repulogepi_intezet}
		#prerequisite = {focus = HUN_domestic_arms_ind}
		x = 0
		y = 2
		relative_position_id = HUN_artillery_factory_in_szeged
		
		cost = 10


		available = {
			has_completed_focus = HUN_form_repulogepi_intezet
			has_completed_focus = HUN_metal_processing_in_vojvodina
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_heavy_industry_F1
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_heavy_industry_F2
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_heavy_industry_F1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_heavy_industry_F2
			}
			add_ideas = HUN_heavy_industry
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	############################
	###### Army Maneuvers ######
	############################
	
	shared_focus = {
		id = HUN_army_maneuver	### HTI Focus
		icon = GFX_focus_research2
		prerequisite = {focus = HUN_gyor_program }
		x = -3
		y = 1
		relative_position_id = HUN_gyor_program
		
		cost = 5


		available = {
			if = {
				limit = {
					original_tag = HUN
					has_dlc = "Death or Dishonor"
				}
				if = {
					limit = {
						has_dlc = "Arms Against Tyranny"
					}
					NOT = { has_idea = HUN_treaty_of_triannon_aat }
				}
				else = {
					NOT = { has_idea = HUN_treaty_of_triannon  }
				}
			}
		}
		
		bypass = {

		}
		
		offset = {
			x = 2
			y = 0
			trigger = {
				has_country_flag = HUN_habsburg_focus_tree_load_flag
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			army_experience = 50
			country_event = LH.365
			custom_effect_tooltip = HUN_army_decisions_available_tt
		}
	}
	
	
	shared_focus = {
		id = HUN_open_further_mavag_departments
		icon = GFX_goal_generic_construction
		prerequisite = {focus = HUN_reintegrate_railroads}
		prerequisite = {focus = HUN_army_maneuver}
		x = -1
		y = 1
		relative_position_id = HUN_army_maneuver
		
		cost = 10


		available = {
			has_country_flag = HUN_mavag_expanded_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
		
			### TODO: Give Mavag bonuses or make production better
		
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
		
			add_equipment_to_stockpile = {
				type = train_equipment
				amount = 50
				producer = HUN
			}
			
			add_tech_bonus = {
				name = HUN_expand_mavag
				bonus = 1.0
				uses = 2
				category = industry
			}

		}
		
	}
	
	
	
	shared_focus = {
		id = HUN_huba_2
		icon = GFX_focus_huba
		prerequisite = {focus = HUN_establish_airforce focus = HUN_ludovica_academy }
		x = 3
		y = 1
		relative_position_id = HUN_establish_airforce
		
		cost = 5


		available = {
			custom_trigger_tooltip = { 
				tooltip = HUN_huba_1_3_years_tt
				has_country_flag = {
					flag = HUN_gyori_program_started_flag
					days > 1095
				}
			}
			has_army_manpower = { size > 175000 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			mio:HUN_mw_aircraft_organization = {
				add_mio_size = 2
			}
			mio:HUN_raba_tank_organization = {
				add_mio_size = 2
			}
			army_experience = 10
			add_doctrine_cost_reduction = {
				name = HUN_army_maneuvers
				cost_reduction = 0.75
				uses = 1
				category = land_doctrine
			}
			custom_effect_tooltip = HUN_receive_200_pengos_tt
			custom_effect_tooltip = HUN_new_gyori_decisions_tt
			#clr_country_flag = HUN_gyori_program_started_flag
			set_country_flag = HUN_huba_2_flag
			custom_effect_tooltip = HUN_available_manpower_tt
			show_ideas_tooltip = extensive_conscription
			
			add_to_variable = {
				var = budget_army
				value = 200
			}
			every_country = {
				limit = { has_country_flag = HUN_supports_hun_flag }
				create_production_license = {
					target = HUN
					equipment = {
						type = artillery_equipment_2
						version = 0
					}
					cost_factor = 0
				}
			}
			add_tech_bonus = {
				name = HUN_huba_2_tech_bonus
				bonus = 1
				uses = 1 
				category = artillery
			}
			add_tech_bonus = {
				name = HUN_huba_2_tech_bonus
				bonus = 1
				uses = 1 
				category = armor
			}
		}
	}
	
	shared_focus = {
		id = HUN_huba_3
		icon = GFX_goal_generic_air_fighter
		prerequisite = {focus = HUN_huba_2 }
		#prerequisite = {focus = HUN_form_repulogepi_intezet }
		x = 0
		y = 1
		relative_position_id = HUN_huba_2
		
		cost = 5


		available = {
			custom_trigger_tooltip = { 
				tooltip = HUN_huba_2_2_years_tt
				has_country_flag = {
					flag = HUN_huba_2_flag
					days > 730
				}
			}
			has_army_manpower = { size > 255000 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			mio:HUN_ganz_tank_organization = {
				add_mio_size = 2
			}
			mio:HUN_mavag_aircraft_organization = {
				add_mio_size = 2
			}
			custom_effect_tooltip = HUN_receive_100_pengos_tt
			custom_effect_tooltip = HUN_new_gyori_decisions_tt
			#clr_country_flag = HUN_huba_2_flag
			set_country_flag = HUN_huba_3_flag
			custom_effect_tooltip = HUN_available_manpower_tt
			show_ideas_tooltip = service_by_requirement
			add_to_variable = {
				var = budget_army
				value = 100
			}
			every_country = {
				limit = { has_country_flag = HUN_supports_hun_flag }
				create_production_license = {
					target = HUN
					equipment = {
						type = artillery_equipment_3
						version = 0
					}
					cost_factor = 0
				}
			}
			add_tech_bonus = {
				name = HUN_huba_3_tech_bonus
				bonus = 1
				uses = 1 
				category = armor
			}
		}
	}
	
	shared_focus = {
		id = HUN_ludovica_academy
		icon = GFX_goal_generic_army_doctrines
		prerequisite = {focus = HUN_reorganisation_of_the_hungarian_army }
		x = 4
		y = 2
		relative_position_id = HUN_reorganisation_of_the_hungarian_army
		
		cost = 5


		available = {
			OR = {
				has_completed_focus = HUN_empower_the_far_right
				has_completed_focus = HUN_continue_bethlens_consolidation 
				has_completed_focus = HUN_social_reforms
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		
		}

		completion_reward = {
		
			### ESTABLISH MILITARY ORGANISATION AND HQs IN: SZOLNOK BUDAPEST PECS. MAYBE HAVE STATE MODIFIERS? 
			### HTI DECISIONS
			### DOCTRINES DECISIONS
		
			add_ideas = HUN_ludovica_academy_expanded
			
			
			if = {
				limit = { has_completed_focus = HUN_continue_bethlens_consolidation }
				HUN_gabor_faragho = {
					add_corps_commander_role = {
						traits = { artillery_leader horthyist }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 1
						logistics_skill = 1
						legacy_id = -1
					}
				}
				
				HUN_ferenc_farkas = {
					add_corps_commander_role = {
						traits = { trait_reckless trait_mountaineer horthyist }
						skill = 2
						attack_skill = 3
						defense_skill = 2
						planning_skill = 1
						logistics_skill = 1
						legacy_id = -1
					}
				}
				
				HUN_zoltan_szugyi = {
					add_corps_commander_role = {
						traits = { career_officer commando horthyist german_sympathies }
						skill = 3
						attack_skill = 1
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
						legacy_id = -1
					}
				}
				
				HUN_dezso_laszlo = {
					add_field_marshal_role = {
						traits = { hill_fighter german_sympathies }
						skill = 4
						attack_skill = 2
						defense_skill = 4
						planning_skill = 2
						logistics_skill = 2
					}
				}
			}
			else_if = {
				limit = { has_completed_focus = HUN_empower_the_far_right }
				HUN_zoltan_szugyi = {
					add_corps_commander_role = {
						traits = { career_officer commando }
						skill = 3
						attack_skill = 1
						defense_skill = 3
						planning_skill = 2
						logistics_skill = 1
						legacy_id = -1
					}
				}
				
				HUN_dezso_laszlo = {
					add_field_marshal_role = {
						traits = { hill_fighter }
						skill = 4
						attack_skill = 2
						defense_skill = 4
						planning_skill = 2
						logistics_skill = 2
					}
				}
			}
			else_if = {
				limit = { has_completed_focus = HUN_social_reforms } 
				HUN_gabor_faragho = {
					add_corps_commander_role = {
						traits = { artillery_leader }
						skill = 2
						attack_skill = 3
						defense_skill = 1
						planning_skill = 1
						logistics_skill = 1
						legacy_id = -1
					}
				}
				
				HUN_ferenc_farkas = {
					add_corps_commander_role = {
						traits = { trait_reckless trait_mountaineer }
						skill = 2
						attack_skill = 3
						defense_skill = 2
						planning_skill = 1
						logistics_skill = 1
						legacy_id = -1
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_headquarters
		icon = GFX_goal_generic_army_doctrines
		#prerequisite = {focus = HUN_ludovica_academy }
		x = 0
		y = 5
		relative_position_id = HUN_ludovica_academy
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
		
		}

		completion_reward = {
			custom_effect_tooltip = HUN_focus_under_construction_tt
		}
	}
	
	shared_focus = {
		id = HUN_mobile_foc
		icon = GFX_goal_generic_cavalry
		prerequisite = {focus = HUN_ludovica_academy }
		mutually_exclusive = { focus = HUN_small_arms }
		x = -1
		y = 2
		relative_position_id = HUN_ludovica_academy
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_doctrine_cost_reduction = {
				name = HUN_army_maneuvers
				cost_reduction = 0.5
				uses = 2
				category = cat_mobile_warfare
			}
			add_ideas = HUN_mobile_foc_idea
			swap_ideas = {
				remove_idea = HUN_mobile_foc_idea
				add_idea = HUN_mobile_foc_2_idea
			}
		}
	}
	
	
	shared_focus = {
		id = HUN_mobile_corps
		icon = GFX_goal_generic_army_doctrines
		prerequisite = {focus = HUN_reorganisation_of_the_hungarian_army }
		x = 0
		y = 1
		relative_position_id = HUN_reorganisation_of_the_hungarian_army
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_botond_tech_bonus
				bonus = 2
				uses = 1
				technology = motorised_infantry
			}
		}
	}
	
	shared_focus = {
		id = HUN_modernize_the_huszars
		icon = GFX_goal_generic_cavalry
		prerequisite = {focus = HUN_mobile_foc focus = HUN_small_arms }
		x = -3
		y = 2
		relative_position_id = HUN_mobile_foc
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_cavalry_focus
		}
	}
	
	shared_focus = {
		id = HUN_assault_gun
		icon = GFX_goal_generic_army_artillery2
		prerequisite = {focus = HUN_mobile_foc focus = HUN_small_arms }
		x = -1
		y = 2
		relative_position_id = HUN_mobile_foc
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_assault_gun_focus
		}
	}
	
	
	
	shared_focus = {
		id = HUN_joint_tank
		icon = GFX_goal_generic_build_tank
		prerequisite = {focus = HUN_assault_gun focus = HUN_modernize_the_huszars }
		x = 1
		y = 1
		relative_position_id = HUN_modernize_the_huszars
		
		cost = 3


		available = {
			is_in_faction = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_tank_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_tank_development_group
			}
		}
	}

	
	shared_focus = {
		id = HUN_small_arms
		icon = GFX_goal_generic_small_arms
		prerequisite = {focus = HUN_ludovica_academy }
		mutually_exclusive = { focus = HUN_mobile_foc }
		x = 1
		y = 2
		relative_position_id = HUN_ludovica_academy
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_small_arms_idea
			swap_ideas = {
				remove_idea = HUN_small_arms_idea
				add_idea = HUN_small_arms_2
			}
			add_tech_bonus = {
				name = HUN_danuvia_submachine_gunssub
				bonus = 1
				uses = 1
				category = infantry_weapons
			}
		}
	}
	
	shared_focus = {
		id = HUN_artillery_eff
		icon = GFX_goal_generic_army_artillery2
		prerequisite = {focus = HUN_small_arms focus = HUN_mobile_foc }
		x = 1
		y = 1
		relative_position_id = HUN_small_arms
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_artillery_effort
				bonus = 1.0
				uses = 2
				category = artillery
			}
		}
	}

	
	shared_focus = {
		id = HUN_construct_arpad_line
		icon = GFX_goal_generic_construct_military
		prerequisite = {focus = HUN_mobile_foc focus = HUN_small_arms }
		#prerequisite = {focus = HUN_defend_carpathians }
		x = 1
		y = 1
		relative_position_id = HUN_mobile_foc
		
		cost = 5


		available = {
			SOV = {
				exists = yes
				has_war_with = GER
			}
			owns_state = 73		#Carpathian Ruthenia
			owns_state = 76		#Northern Transylvania
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_the_arpad_line_tt
			73 = {
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 6
						province = 11536
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 9563
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 6571
						instant_build = yes
					}
				}
			}
			if = {
				limit = {
					SOV = {
						owns_state = 89 #Stanislawow
					}	
				}
				SOV = {
					add_opinion_modifier = { target = ROOT modifier = HUN_arpad_line }
				}
				
				
				
				
			}
		}
	}
	
	
	shared_focus = {
		id = HUN_mountain_artillery
		icon = GFX_goal_generic_army_artillery
		prerequisite = {focus = HUN_artillery_eff }
		prerequisite = {focus = HUN_construct_arpad_line }
		x = 2
		y = 1
		relative_position_id = HUN_construct_arpad_line
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = ROM_mountain_artillery_tech_tt
			hidden_effect = { set_technology = { mountain_gun = 1 } }
		}
	}
	
	
	shared_focus = {
		id = HUN_extend_arpad
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = HUN_construct_arpad_line }
		available = {	
			SOV = {
				exists = yes
				has_war_with = GER
			}
			owns_state = 76		#Northern Transylvania
			owns_state = 73		#Carpathian Ruthenia
		}
		x = 0
		y = 1
		relative_position_id = HUN_construct_arpad_line
		cost = 5
		ai_will_do = {
			factor = 10
		}	
		completion_reward = {
			76 = {
				custom_effect_tooltip = HUN_extend_arpad_tt
				hidden_effect = {
					add_building_construction = {
						type = bunker
						level = 6
						province = 3689
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 711
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 9685
						instant_build = yes
					}	
					add_building_construction = {
						type = bunker
						level = 6
						province = 727
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 6
						province = 9704
						instant_build = yes
					}
				}
			}			
		}
	}
	
	shared_focus = {
		id = HUN_szekely_mountaineers
		icon = GFX_goal_generic_air_doctrine
		prerequisite = { focus = HUN_develop_regained_territories }
		x = 2
		y = 1
		relative_position_id = HUN_develop_regained_territories
		
		cost = 5


		available = {
			has_full_control_of_state = 76
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = ROM_vanatori_de_munte_unit_tt
			hidden_effect = {
				division_template = {
					name = "Székely Hegyi Vadászok"
					priority = 2
					division_names_group = HUN_MTN_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
			
	    	   		 	mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
			
	    	   		 	mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
						mountaineers = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 76 }
					create_unit = {
						division = "name = \"Székely Hegyi Vadászok\" division_template = \"Székely Hegyi Vadászok\" start_experience_factor = 1.0" 
						owner = HUN
					}
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_light_infantry
		icon = GFX_goal_generic_special_forces
		prerequisite = {focus = HUN_small_arms focus = HUN_mobile_foc }
		x = 3
		y = 1
		relative_position_id = HUN_small_arms
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_tech_tt
			custom_effect_tooltip = HUN_light_infantry_divisions_doctrine_unit_tt
			hidden_effect = {
				if = {
					limit = { has_tech = tech_engineers }
					division_template = {
						name = "Light Division"
						division_names_group = HUN_INF_01
						priority = 2
		
						regiments = {
							infantry = { x = 0 y = 0 }
							infantry = { x = 0 y = 1 }
							infantry = { x = 0 y = 2 }
				
		    	   		 	infantry = { x = 1 y = 0 }
							infantry = { x = 1 y = 1 }
							infantry = { x = 1 y = 2 }
						}
						support = {
							recon = { x = 0 y = 0 }
							artillery = { x = 0 y = 1 }
							engineer = { x = 0 y = 1 }
						}
					}
					else = {
						division_template = {
							name = "Light Division"
							division_names_group = HUN_INF_01
							priority = 2
			
							regiments = {
								infantry = { x = 0 y = 0 }
								infantry = { x = 0 y = 1 }
								infantry = { x = 0 y = 2 }
					
			    	   		 	infantry = { x = 1 y = 0 }
								infantry = { x = 1 y = 1 }
								infantry = { x = 1 y = 2 }
							}
							support = {
								recon = { x = 0 y = 0 }
								artillery = { x = 0 y = 1 }
								engineer = { x = 0 y = 1 }
							}
						}					
					}
				}	
				random_owned_controlled_state = {
					prioritize = { 43 }
					limit = { ROOT = { has_full_control_of_state = PREV } }
					create_unit = {
						division = "name = \"1. Light Division\" division_template = \"Light Division\" start_experience_factor = 1.0" 
						owner = HUN
					}
				}
			}
			hidden_effect = { set_technology = { HUN_light_infantry_tech = 1 } }
		}
	}
	
	shared_focus = {
		id = HUN_parachute_divisions
		icon = GFX_focus_generic_paratrooper
		prerequisite = {focus = HUN_light_infantry }
		x = 0
		y = 1
		relative_position_id = HUN_light_infantry
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_tech_bonus = {
				name = HUN_form_parachute_battalions
				bonus = 3.0
				uses = 1
				category = para_tech
			}
		}
	}
	
	shared_focus = {
		id = HUN_form_repulogepi_intezet
		icon = GFX_focus_research2
		#prerequisite = {focus = HUN_boost_aviation_industry}
		prerequisite = {focus = HUN_army_maneuver }
		x = 1
		y = 1
		relative_position_id = HUN_army_maneuver
		
		cost = 10


		available = {
		
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_research_slot = 1
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = HUN_repulo_mernoki_intezet
			
			
		}
	}
	
	
	shared_focus = {
		id = HUN_build_radars
		icon = GFX_goal_generic_radar
		prerequisite = {focus = HUN_form_repulogepi_intezet }
		x = -1
		y = 1
		relative_position_id = HUN_form_repulogepi_intezet
		
		cost = 10


		available = {
			has_tech = radio_detection
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			air_experience = 25
			random_owned_controlled_state = {
				if = {
					limit = {
						free_building_slots = {
							building = air_base
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}	
				}
				if = {
					limit = {
						free_building_slots = {
							building = air_base
						}
					}
					add_building_construction = {
						type = radar_station
						level = 1
						instant_build = yes
					}	
				}
			}
			add_tech_bonus = {
				name = radar_focus
				bonus = 1.0
				uses = 2
				category = radar_tech
			}
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = HUN_zoltan_bay
		}
	}
	
	
	shared_focus = {
		id = HUN_indigenous_des
		icon = GFX_focus_generic_aircraft_production
		mutually_exclusive = {focus = HUN_joint_air focus = HUN_license_foreign_LH}
		prerequisite = {focus = HUN_boost_aviation_industry }
		#prerequisite = {focus = HUN_boost_aviation_industry}
		x = -2
		y = 1
		relative_position_id = HUN_boost_aviation_industry
		
		cost = 8


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_airforce_decisions_tt
			add_ideas = HUN_indigenous_designs
		}
	}
	
	shared_focus = {
		id = HUN_joint_air
		icon = GFX_goal_generic_air_production
		mutually_exclusive = {focus = HUN_indigenous_des focus = HUN_license_foreign_LH}
		prerequisite = {focus = HUN_boost_aviation_industry}
		x = 2
		y = 0
		relative_position_id = HUN_indigenous_des
		
		cost = 3


		available = {
			is_in_faction = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_air_development_group
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_to_tech_sharing_group = HUN_joint_air_development_group
			}
		}
	}
	
	shared_focus = {
		id = HUN_license_foreign_LH
		icon = GFX_focus_generic_copy_plane_designs
		mutually_exclusive = {focus = HUN_indigenous_des focus = HUN_joint_air}
		prerequisite = {focus = HUN_boost_aviation_industry}
		x = 2
		y = 0
		relative_position_id = HUN_joint_air
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			custom_effect_tooltip = HUN_airforce_decisions_tt
			add_ideas = HUN_license_foreign_LH
		}
	}
	
	
	
	############################
	########## Navy ############
	############################
	
	shared_focus = {
		id = HUN_naval_war
		icon = GFX_goal_generic_build_navy
		prerequisite = {focus = HUN_agreement_bled }
		x = 12
		y = 2
		relative_position_id = HUN_agreement_bled
		
		cost = 10


		available = {
			any_state = {
				is_controlled_by = HUN
				is_coastal = yes
			}
		}
		
		offset = {
			x = 2
			y = 0
			trigger = {
				has_country_flag = HUN_monarchy_side_chosen_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 50
			custom_effect_tooltip = HUN_update_designs_tt
			random_owned_controlled_state = {
				limit = {
					ROOT = { has_full_control_of_state = PREV }
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
			add_ideas = HUN_naval_warfare
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = HUN_ganz_danubius
			custom_effect_tooltip = available_designer
			show_ideas_tooltip = HUN_dgt_obuda
			
			HUN_ferenc_hanisch = {
				add_naval_commander_role = {
					skill = 1
				    attack_skill = 1
				    defense_skill = 1
				    planning_skill = 3
				    logistics_skill = 2
				}
			}
			hidden_effect = {
				set_technology = {
					basic_naval_mines = 1
					submarine_mine_laying = 1
					basic_depth_charges = 1
					basic_torpedo = 1
					basic_battery = 1
					basic_cruiser_armor_scheme = 1
					basic_heavy_battery = 1
					basic_medium_battery = 1
					basic_light_battery = 1
					basic_heavy_armor_scheme = 1
					early_ship_hull_submarine = 1
					basic_ship_hull_submarine = 1
					early_ship_hull_light = 1
					basic_ship_hull_light = 1
					early_ship_hull_cruiser = 1
					basic_ship_hull_cruiser = 1
					early_ship_hull_heavy = 1
					basic_ship_hull_heavy = 1
					mtg_transport = 1
					coastal_defense_ships = 1
					improved_airplane_launcher = 1
				}
			}
		}
		
	}
	
	shared_focus = {
		id = HUN_expand_fiume_dockyards
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = {focus = HUN_naval_war }
		x = 4
		y = 1
		relative_position_id = HUN_naval_war
		
		cost = 5


		available = {
			has_full_control_of_state = 974
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			974 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_develop_secondary_dockyards_in_croatia
		icon = GFX_goal_generic_construct_naval_dockyard
		prerequisite = {focus = HUN_expand_fiume_dockyards }
		x = 0
		y = 1
		relative_position_id = HUN_expand_fiume_dockyards
		
		cost = 5


		available = {
			has_full_control_of_state = 103
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			103 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
			}
		}
	}
	
	shared_focus = {
		id = HUN_challenge_mediterranean
		icon = GFX_focus_generic_navy_battleship2
		mutually_exclusive = {focus = HUN_defend_adriatic}
		prerequisite = {focus = HUN_naval_war }
		x = -2
		y = 1
		relative_position_id = HUN_naval_war
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = HUN_restauration
				cost_reduction = 0.5
				uses = 2
				category = cat_fleet_in_being
			}
		}
	}
	
	shared_focus = {
		id = HUN_capital_ship_effort
		icon = GFX_goal_generic_navy_battleship
		#mutually_exclusive = {focus = HUN_carrier_effort}
		prerequisite = {focus = HUN_challenge_mediterranean }
		x = 0
		y = 1
		relative_position_id = HUN_challenge_mediterranean
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_capital_ships
				bonus = 1.0
				uses = 2
				category = bc_tech
				category = bb_tech
			}
		}
	}
	
	
	
	shared_focus = {
		id = HUN_carrier_effort
		icon = GFX_goal_generic_navy_carrier
		#mutually_exclusive = {focus = HUN_capital_ship_effort}
		prerequisite = {focus = HUN_capital_ship_effort }
		x = 0
		y = 1
		relative_position_id = HUN_capital_ship_effort
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_carriers
				bonus = 3.0
				uses = 1
				category = cv_tech
			}
		}
	}
	
	
	
	shared_focus = {
		id = HUN_defend_adriatic
		icon = GFX_goal_generic_navy_cruiser
		mutually_exclusive = {focus = HUN_challenge_mediterranean}
		prerequisite = {focus = HUN_naval_war }
		x = 2
		y = 1
		relative_position_id = HUN_naval_war
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_doctrine_cost_reduction = {
				name = HUN_restauration
				cost_reduction = 0.5
				uses = 2
				category = cat_trade_interdiction
			}
		}
	}
	
	shared_focus = {
		id = HUN_focus_on_destroyers
		icon = GFX_focus_generic_destroyer
		prerequisite = {focus = HUN_challenge_mediterranean focus = HUN_defend_adriatic }
		x = 1
		y = 3
		relative_position_id = HUN_challenge_mediterranean
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_destroyer
				bonus = 3.0
				uses = 1
				category = dd_tech
			}
		}
	}
	
	
	
	shared_focus = {
		id = HUN_subs
		icon = GFX_goal_generic_navy_submarine
		prerequisite = {focus = HUN_challenge_mediterranean focus = HUN_defend_adriatic }
		x = -1
		y = 3
		relative_position_id = HUN_defend_adriatic
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			navy_experience = 15
			add_tech_bonus = {
				name = HUN_submarines
				bonus = 3.0
				uses = 1
				category = ss_tech
			}
		}
	}
	
	
	
	
	
	
	
	shared_focus = {
		id = HUN_secure_trade
		icon = GFX_goal_continuous_naval_production
		prerequisite = {focus = HUN_defend_adriatic}
		x = 0
		y = 1
		relative_position_id = HUN_defend_adriatic
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = HUN_convoy_focus
		}
	}
	
	
	shared_focus = {
		id = HUN_escort_effort
		icon = GFX_goal_generic_navy_anti_submarine
		prerequisite = {focus = HUN_secure_trade}
		x = 0
		y = 1
		relative_position_id = HUN_secure_trade
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

  

		completion_reward = {
			add_ideas = escort_effort_focus
		}
	}
	

	
	
	
