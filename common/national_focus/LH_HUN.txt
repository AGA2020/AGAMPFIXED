focus_tree = {
	id = LH
	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = HUN
			#always = no
			has_dlc = "Death or Dishonor"
		}
	}
	
	initial_show_position = {
		x = 50
		y = 0
	}
	
	default = no

	continuous_focus_position = { x = 20 y = 2000	}

#	focus = {
#		id = HUN_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

	shared_focus = HUN_industrial_rev
	shared_focus = HUN_secret_armament
	shared_focus = HUN_improve_pengo

	############################
	####### Fascist Side #######
	############################
	
	
	focus = {
		id = HUN_empower_the_far_right_1
		icon = GFX_goal_support_fascism
		
		mutually_exclusive = { focus = HUN_continue_bethlens_consolidation_1 focus = HUN_social_reforms_1}
		x = 56
		y = 0
		
		cost = 10


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_chose_fascist_prime_minister_tooltip
				OR = {
				has_country_flag = HUN_szalasi_prime_flag
				has_country_flag = HUN_imredy_prime_flag
				has_country_flag = HUN_hejjas_prime_flag
					AND = {
						has_country_flag = HUN_gombos_alive
						NOT = {
							has_country_flag = gombos_death
						}
					}
				}
			}
		}
		
		bypass = {

		}
		
		

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			add_timed_idea = { idea = HUN_empower_right days = 720 }
			hidden_effect = {
				set_country_flag = HUN_fascist_side_chosen_flag
				load_focus_tree = LH_fascist
				unlock_national_focus = HUN_empower_the_far_right
			}
			country_event = LH.19
		}
	}
	
	focus = {
		id = HUN_pardon_political_extremists_1
		icon = GFX_goal_continuous_boost_freedom
		prerequisite = { focus = HUN_empower_the_far_right_1 }
		x = -3
		y = 1
		relative_position_id = HUN_empower_the_far_right_1
		
		cost = 5


		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = fascism popularity = 0.05 }
			if = {
				limit = { has_country_flag = HUN_germany_leaning }
				add_ideas = HUN_scythe_cross_idea
			}
			custom_effect_tooltip = HUN_pardon_politicians_tt
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_kalman_hubay
			
			if = {
				limit = {
					has_game_rule = {
						rule = obsolete_focus_branches_visibility
						option = HIDE
					}
				}
				mark_focus_tree_layout_dirty = yes
			}
		}
	}
	
	
	
	
	
	focus = {
		id = HUN_instate_rongyos_garda_officers_1
		icon = GFX_focus_rongyos_garda
		prerequisite = { focus = HUN_pardon_political_extremists_1 focus = HUN_strengthen_the_regency_1 }
		x = -5
		y = 1
		relative_position_id = HUN_pardon_political_extremists_1
		
		cost = 5


		available = {
			NOT = {
				has_completed_focus = HUN_meet_with_the_members_of_the_rongyos_garda
			}
			NOT = {
				has_country_flag = HUN_italy_leaning
			}
			has_country_flag = HUN_move_integrated_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_command_power = 20
			HUN_pal_pronay = {
				add_corps_commander_role = {
					traits = { harsh_leader militias_officer}
					skill = 4
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
					legacy_id = -1
				}
			}
			HUN_imre_kemeri_nagy = {
				add_field_marshal_role = {
					traits = { winter_specialist infantry_officer}
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 2
					legacy_id = -1
				}
			}
		}
	}
	
	focus = {
		id = HUN_the_move_convention_1
		icon = GFX_focus_hun_utilize_move
		prerequisite = { focus = HUN_empower_the_far_right_1 }
		x = 7
		y = 1
		relative_position_id = HUN_empower_the_far_right_1
		
		cost = 5


		available = {
			command_power > 10
			has_country_flag = HUN_boszormeny_coup_flag 
		}
		
		bypass = { 

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.1
		}
	}
	
	
	
	focus = {
		id = HUN_support_franco_1
		icon = GFX_focus_spa_caudillo_of_spain
		prerequisite = { focus = HUN_the_move_convention_1 }
		x = -1
		y = 1
		relative_position_id = HUN_the_move_convention_1
		
		cost = 5


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_spr_civil_war_tt
				SPA = { 
					OR = {
						has_country_leader = { ruling_only = yes name = "Francisco Franco" }
						has_country_leader = { ruling_only = yes name = "José Sanjurjo" }
					}
					has_civil_war = yes
				}
			}
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			SPA = {
				country_event = LH.434
			}
		
			army_experience = 10
			custom_effect_tooltip = HUN_help_carlists_idea_tt
			
			
			
		}
	}
	
	focus = {
		id = HUN_join_anti_comintern_pact_1
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = HUN_pardon_political_extremists_1 focus = HUN_the_move_convention_1 }
		x = 5
		y = 1
		relative_position_id = HUN_pardon_political_extremists_1
		
		cost = 5


		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = germany.5
		}
	}
	
	focus = {
		id = HUN_side_with_the_workers_1
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = { focus = HUN_pardon_political_extremists_1 }
		mutually_exclusive = { focus = HUN_a_new_middle_class_1 }
		x = 3
		y = 2
		relative_position_id = HUN_pardon_political_extremists_1
		
		cost = 5


		available = {
			has_country_flag = HUN_szalasi_prime_flag
			has_country_flag = HUN_germany_leaning
			NOT = {
				has_completed_focus = HUN_meet_with_the_members_of_the_rongyos_garda_1
				has_completed_focus = HUN_strengthen_the_regency_1
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.199
			mark_focus_tree_layout_dirty = yes 
			hidden_effect = {
				set_cosmetic_tag = HUN_KINGDOM
			}
		}
	}
	
	focus = {
		id = HUN_a_new_middle_class_1
		icon = GFX_focus_hun_united_nation
		prerequisite = { focus = HUN_pardon_political_extremists_1 }
		mutually_exclusive = { focus = HUN_side_with_the_workers_1 }
		x = -6
		y = 0
		relative_position_id = HUN_side_with_the_workers_1
		
		cost = 5


		available = {
			has_country_flag = HUN_imredy
			has_country_flag = HUN_germany_leaning
			NOT = {
				has_completed_focus = HUN_meet_with_the_members_of_the_rongyos_garda_1
				has_completed_focus = HUN_strengthen_the_regency_1
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			mark_focus_tree_layout_dirty = yes
			set_party_name = { ideology = fascism long_name = HUN_megujulas_party_long name = HUN_megujulas_party }
			promote_character = HUN_bela_imredy
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_andor_jaross
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_jeno_ratz
			
			mark_focus_tree_layout_dirty = yes
			hidden_effect = {
				set_cosmetic_tag = HUN_KINGDOM
			}
			
			### SET RATZ AS ADVISOR IF HUBAY IS SELECTED
			if = {
				limit = { HUN_kalman_hubay = { is_hired_as_advisor = yes } }
				hidden_effect = {
					deactivate_advisor = HUN_kalman_hubay
					activate_advisor = HUN_jeno_ratz_political
				}
				custom_effect_tooltip = HUN_ratz_replaces_hubay_tt
			}
		}
	}
	
	focus = {
		id = HUN_vatican_guidance_1
		icon = GFX_focus_generic_pope
		prerequisite = { focus = HUN_a_new_middle_class_1 }
		x = -1
		y = 1
		relative_position_id = HUN_a_new_middle_class_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			country_event = LH.453
			custom_effect_tooltip = HUN_pope_reward_tt
			### IMRÉDY NEEDS TO HOST THE 34. EUCHARISTIC WORLD CONGRESS. IF POPE IS HAPPY, THEN BONUSES FOR HUNGARY. BUT!! IF ANOTHER FOCUS IS DONE THEN IT CAN SUPPORT A FASCIST PAPAL TAKEOVER IN ITALY AFTER THE ACTUAL CONGRESS IN 1938 MAY 25-29. FOCUS ACTIVATES DECISIONS FOR THE PREPARATION, WHICH CAN BE DONE UNTIL THE ACTUAL EVENT. (IS IT POSSIBLE TO DO A COUNTDOWN TO A SPECIFIC DATE?)
		}
	}
	
	
	
	focus = {
		id = HUN_strengthen_the_hungarist_movement_1
		icon = GFX_focus_arrow_cross
		prerequisite = { focus = HUN_side_with_the_workers_1 focus = HUN_hungarian_life_1 }
		#prerequisite = { focus = HUN_plan_for_the_building_of_the_hungarian_state_1 }
		#mutually_exclusive = { focus = HUN_hungarian_life_1 }
		
		x = -2
		y = 2
		relative_position_id = HUN_side_with_the_workers_1
		
		cost = 5


		available = {
			if = {
				limit = { has_completed_focus = HUN_side_with_the_workers }
				OR = {
					has_country_flag = HUN_merged_with_palffy_flag
					has_country_flag = HUN_merged_with_mesko_flag
					has_country_flag = HUN_merged_with_festetics_flag
				}
				fascism > 0.4
			}
			if = {
				limit = { has_completed_focus = HUN_a_new_middle_class }
				power_balance_value = {
					id = HUN_fascist_tree_bop
					value > 0.6
				}
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_a_new_middle_class }
				remove_ideas = HUN_scythe_cross_idea_2
				add_popularity = { ideology = fascism popularity = -0.20 }
				custom_effect_tooltip = HUN_szalasi_imprisoned_tt
				hidden_effect = {
					country_event = { id = LH_news.19 days = 2 }
				}
			}
			else = {
				country_event = LH.297
				add_ideas = HUN_empower_right_2
			}
			if = {
				limit = { has_country_flag = HUN_szalasi_prime_flag }
				add_power_balance_value = {
					id = HUN_fascist_tree_bop
					value = 0.1
					tooltip_side = HUN_szalasi_power
				}
			}
		}
	}
	
	
	
	
	focus = {
		id = HUN_help_from_germany_1
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = HUN_side_with_the_workers_1 }
		#prerequisite = { focus = HUN_plan_for_the_building_of_the_hungarian_state_1 }
		
		x = 3
		y = 1
		relative_position_id = HUN_side_with_the_workers_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_germany_more_likely_helps_with_anti_comintern
			add_equipment_subsidy = {
				cic = 500
				equipment_type = support_equipment
				seller_tags = { GER }
			}
			add_equipment_subsidy = {
				cic = 500
				equipment_type = infantry_equipment
				seller_tags = { GER }
			}
		}
	}
	
	
	
	focus = {
		id = HUN_remove_political_rivals_by_force_1
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = HUN_side_with_the_workers_1 }
		#prerequisite = { focus = HUN_plan_for_the_building_of_the_hungarian_state_1 }
		
		x = 1
		y = 1
		relative_position_id = HUN_side_with_the_workers_1
		
		cost = 5


		available = {
			NOT = {
				has_completed_focus = HUN_unite_the_country_1
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			add_political_power = 250 
			
			add_popularity = { ideology = neutrality popularity = -0.1}
			add_popularity = { ideology = democratic popularity = -0.05}
			add_power_balance_value = {
				id = HUN_fascist_tree_bop
				value = 0.05
				tooltip_side = HUN_szalasi_power
			}
			
			custom_effect_tooltip = HUN_remove_political_rivals_tt
			hidden_effect = {
				set_temp_variable = {
					var = remove_rivals_var
					value = party_popularity@neutrality
				}
				multiply_temp_variable = {
					var = remove_rivals_var
					value = -0.5
				}
			
			}
			add_stability = remove_rivals_var
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_pater_kun
			
			HUN_pater_kun = {
				add_corps_commander_role = {
					traits = { harsh_leader guerilla_fighter german_sympathies }
					skill = 2
					attack_skill = 4
					defense_skill = 4
					planning_skill = 1
					logistics_skill = 1
					legacy_id = -1
				}
			}
		}
	}
	
	focus = {
		id = HUN_deal_with_scythe_cross_1
		icon = GFX_focus_hun_scythe_cross
		prerequisite = { focus = HUN_remove_political_rivals_by_force_1 }
		#prerequisite = { focus = HUN_strengthen_the_hungarist_movement_1 }
		x = -1
		y = 1
		relative_position_id = HUN_remove_political_rivals_by_force_1
		
		cost = 5


		available = {
			has_country_flag = HUN_boszormeny_coup_flag
			power_balance_value = {
				id = HUN_fascist_tree_bop
				value > 0.4
			}
			has_completed_focus = HUN_the_move_convention_1
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.298
			remove_ideas = HUN_scythe_cross_idea
		}
	}
	
	focus = {
		id = HUN_plan_for_the_building_of_the_hungarian_state_1
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = HUN_side_with_the_workers_1 }
		
		x = 5
		y = 1
		relative_position_id = HUN_side_with_the_workers_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 120 
			custom_effect_tooltip = HUN_szalasi_plan_initial_tt
			set_variable = { HUN_industrial_capacity_factor = 0.05 }
			set_variable = { HUN_production_speed_buildings_factor = 0.05 }
			set_variable = { HUN_szalasi_consumer_goods_factor = 0 }
			set_variable = { HUN_szalasi_stability_factor = 0 }
			set_variable = { HUN_political_power_cost = 0 }
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_ferenc_rajniss
			hidden_effect = {
				add_dynamic_modifier = { modifier = HUN_szalasi_plan_dynamic_modifier }
			}
			custom_effect_tooltip = HUN_trait_upgrade_szakvary_tt
			hidden_effect = {
				HUN_emil_szakvary = {
					remove_trait = {
						trait = industrial_minister
						slot = political_advisor
					}
					add_trait = {
						trait = industrial_minister_2
						slot = political_advisor
					}
				}
			}
			add_offsite_building = { type = arms_factory level = 1 }
		}
	}
	
	focus = {
		id = HUN_corporatism_szalasi_1
		icon = GFX_focus_ICE_state_corporatism
		prerequisite = { focus = HUN_plan_for_the_building_of_the_hungarian_state_1 }
		
		x = -1
		y = 1
		relative_position_id = HUN_plan_for_the_building_of_the_hungarian_state_1
		
		cost = 10 


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_corporatism_szalasi_possible_if_tt
				has_country_flag = HUN_gold_standard_abolished_flag
				has_country_flag = HUN_prices_regulated_flag
				has_country_flag = HUN_banks_nationalised_flag
			}
			has_government = fascism
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_new_economy_law_tt
			show_ideas_tooltip = corporatism_law
			hidden_effect = {
				add_ideas = corporatism_law
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
		}
	}
	
	focus = {
		id = HUN_lower_unimployment_1
		icon = GFX_goal_generic_construction
		prerequisite = { focus = HUN_plan_for_the_building_of_the_hungarian_state_1 }
		x = 1
		y = 1
		relative_position_id = HUN_plan_for_the_building_of_the_hungarian_state_1
		
		cost = 5


		available = {
			has_country_flag = HUN_improved_living_standard_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 70
			add_war_support = 0.1
			add_to_variable = { var = HUN_szalasi_stability_factor value = 0.15 }
			set_variable = { var = HUN_political_power_factor value = 0.2 }
			add_to_variable = { var = HUN_political_power_cost value = 0.05 }
			custom_effect_tooltip = HUN_lower_unimployment_tt 
		}
	}
	
	focus = {
		id = HUN_the_builders_of_the_nation_1
		icon = GFX_focus_generic_public_works
		prerequisite = { focus = HUN_lower_unimployment_1 focus = HUN_corporatism_szalasi_1 }
		x = -1
		y = 1
		relative_position_id = HUN_lower_unimployment_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_variable = { var = HUN_local_resources_factor value = 0.15 }
			set_variable = { var = HUN_production_speed_infrastructure_factor value = 0.35 }
			set_variable = { var = HUN_production_speed_rail_way_factor value = 0.4 }
			custom_effect_tooltip = HUN_builders_of_the_nation_tt
			every_state = {
				limit = {
					NOT = {
						state = 973
					}
					is_owned_and_controlled_by = HUN
				}
				add_extra_state_shared_building_slots = 1
			}
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
		}
	}
	
	
	
	
	
	
	focus = {
		id = HUN_plunder_the_savings_of_the_national_bank_1
		icon = GFX_focus_mex_privatisation
		prerequisite = { focus = HUN_a_new_middle_class_1 }
		
		x = -3
		y = 1
		relative_position_id = HUN_a_new_middle_class_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 150
			add_timed_idea = { idea = HUN_banks_plundered days = 365 }
			custom_effect_tooltip = HUN_receive_80_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 80
			}
		}
	}
	
	
	focus = {
		id = HUN_laissez_faire_1
		icon = GFX_goal_generic_consumer_goods
		prerequisite = { focus = HUN_plunder_the_savings_of_the_national_bank_1 }
		
		x = 0
		y = 1
		relative_position_id = HUN_plunder_the_savings_of_the_national_bank_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = FRA_laissez_faire
				category = industry
				uses = 3
				bonus = 1.5
			}
			custom_effect_tooltip = HUN_new_economy_law_tt
			show_ideas_tooltip = imredy_law
			hidden_effect = {
				add_ideas = imredy_law
			}
			add_power_balance_value = {
				id = HUN_fascist_tree_bop
				value = 0.05
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_4_factory_output = yes
		}
	}
		
	focus = {
		id = HUN_hungarian_life_1
		icon = GFX_focus_hun_hungarian_life
		prerequisite = { focus = HUN_a_new_middle_class_1 }
		#mutually_exclusive = { focus = HUN_strengthen_the_hungarist_movement_1 }
		
		x = 1
		y = 1
		relative_position_id = HUN_a_new_middle_class_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.306
		}
	}
	
	
	focus = {
		id = HUN_jobb_jovot_adjon_isten_1
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = HUN_hungarian_life_1 }
		prerequisite = { focus = HUN_vatican_guidance_1  }
		
		x = 1
		y = 2
		relative_position_id = HUN_vatican_guidance_1
		
		cost = 5
 

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_power_balance_value = {
				id = HUN_fascist_tree_bop
				value = 0.1
			}
			add_popularity = { ideology = fascism popularity = 0.05}
			add_war_support = 0.1
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_fidel_palffy
		}
	}
	
	
	focus = {
		id = HUN_a_christian_state_1
		icon = GFX_focus_hun_apostolic_kingdom
		prerequisite = { focus = HUN_vatican_guidance_1 }
		#prerequisite = { focus = HUN_hungarian_life_1 }
		x = 0
		y = 1
		relative_position_id = HUN_vatican_guidance_1
		
		cost = 10


		available = {
			has_country_flag = HUN_eucharistic_congress_hosted
			NOT = {
				has_idea = HUN_monarchy_without_monarch
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			if = {
				limit = {
					has_country_flag = HUN_can_invite_catholic_nations_flag
				}
				country_event = LH.469
			}
			
			every_state = {
				limit = {
					OR = {
						state = 972
						state = 973
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			
			swap_ideas = {
				remove_idea = HUN_magyar_elet
				add_idea = HUN_magyar_elet_2
			}
		}
	}
		
	
	
	
	focus = {
		id = HUN_call_for_election_1
		icon = GFX_focus_hun_empower_imredy
		prerequisite = { focus = HUN_strengthen_the_hungarist_movement_1 }
		#prerequisite = { focus = HUN_a_christian_state_1 }
		
		x = -2
		y = 1
		relative_position_id = HUN_strengthen_the_hungarist_movement_1
		
		cost = 7


		available = {
			fascism > 0.45
			has_country_flag = HUN_imredy_prime_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.304
			remove_ideas = HUN_monarchy_without_monarch
		}
	}
	
	focus = {
		id = HUN_restructure_society_1
		icon = GFX_focus_SOV_penal_battalions
		prerequisite = { focus = HUN_call_for_election_1 focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }  
		x = 2
		y = 1
		relative_position_id = HUN_call_for_election_1
		
		cost = 7


		available = {
			has_government = fascism
			has_manpower > 10000
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_create_nszk_tt
			country_event = LH.312
			hidden_effect = {
				create_intelligence_agency = yes
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_tt = yes 
			HUN_add_3_consumer = yes
		}
	}
	
	focus = {
		id = HUN_utilize_the_kabsz_1
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = HUN_call_for_election_1 }
		
		x = -3
		y = 1
		relative_position_id = HUN_call_for_election_1
		
		cost = 5


		available = {
			OR = {
				has_completed_focus = HUN_collaborate_with_the_volksbund
				has_completed_focus = HUN_german_protection
			}
			OR = {
				has_full_control_of_state = 245
					any_other_country = {
					is_in_faction_with = ROOT 
					has_full_control_of_state = 245
				}
			}
			has_war_with = SOV
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.308
			add_manpower = 50000
		}
	}
	
	focus = {
		id = HUN_infiltrate_britain_1
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = { focus = HUN_call_for_election_1 }
		mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		x = -5
		y = 2
		relative_position_id = HUN_call_for_election_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					ENG = { has_government = fascism }
				}
				add_opinion_modifier = { target = ENG modifier = HUN_ENG_friendship }
				reverse_add_opinion_modifier = { target = ENG modifier = HUN_ENG_friendship }
				if = {
					limit = { is_in_faction = no }
					create_faction = HUN_BETHLEN_FACTION
				}
			}
			else = {
				custom_effect_tooltip = ENG_organize_the_blackshirts_tt
				add_political_power = 200
			}
			
			### SET TRADE DEAL ###
			
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_eng_trade_partner_flag
					}
				}
				HUN_remove_trade_deal_bonuses = yes
				HUN_reset_trade_deal_modifier = yes 
			}
			
			if = {
				limit = {
					focus_progress = {
						focus = HUN_infiltrate_britain
						progress > 0
					}
				}
				custom_effect_tooltip = HUN_trade_deal_intro_axis_british
			}
			HUN_set_trade_deal_ger = yes
			clr_country_flag = HUN_ger_trade_partner_flag
			set_country_flag = HUN_eng_trade_partner_flag
		}
	}
	
	focus = {
		id = HUN_blackshirt_coup_1
		icon = GFX_focus_eng_organise_the_blackshirts
		prerequisite = { focus = HUN_infiltrate_britain_1 }
		#mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		x = -1
		y = 1
		relative_position_id = HUN_infiltrate_britain_1
		
		cost = 5


		available = {
			ENG = {
				has_full_control_of_state = 126
				fascism > 0.5
			}
		}
		
		bypass = {
			ENG = {
				has_government = fascism
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ENG = {
				hidden_effect = {
					uncomplete_national_focus = {
						focus = ENG_steady_as_she_goes 
						uncomplete_children = yes 
						refund_political_power = no 
					}
					complete_national_focus = ENG_organize_the_blackshirts
					complete_national_focus = ENG_a_change_in_course
				}
				country_event = mtg_britain.35 
				HUN = {
					if = {
						limit = { is_in_faction = no }
						create_faction = HUN_BETHLEN_FACTION
					}
					add_to_faction = ENG
				}
				add_ai_strategy = {
					type = alliance
					id = HUN
					value = 50
				}
				add_ai_strategy = {
					type = befriend
					id = HUN
					value = 50
				}
				add_ai_strategy = {
					type = protect
					id = HUN
					value = 50
				}
			}
		}
	}
	
	focus = {
		id = HUN_sway_mussolini_1
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = HUN_infiltrate_britain_1 }
		#mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		x = 1
		y = 1
		relative_position_id = HUN_infiltrate_britain_1
		
		cost = 5


		available = {
			ITA = {
				has_opinion = {	
					target = ROOT
					value > 49
				}	
			}
		}
		
		bypass = {
			is_in_faction_with = ITA
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ITA = {
				country_event = { id = LH.461 days = 2 }
			}
		}
	}
	
	focus = {
		id = HUN_new_order_1
		icon = GFX_focus_eng_imperial_federation
		prerequisite = { focus = HUN_blackshirt_coup_1 focus = HUN_sway_mussolini_1 }
		mutually_exclusive = { focus = HUN_extend_tripartite_1 }
		x = 0
		y = 1
		relative_position_id = HUN_blackshirt_coup_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ENG = {
				add_state_claim = 134
				add_state_claim = 135
				add_state_claim = 113
				add_state_claim = 806
				add_state_claim = 19
				add_state_claim = 33
				add_state_claim = 23
				add_state_claim = 25
				add_state_claim = 30
				add_state_claim = 14
				add_state_claim = 15
				add_state_claim = 171
				add_state_claim = 174
				add_state_claim = 790
				add_state_claim = 791
				add_state_claim = 176
				add_state_claim = 792
				add_state_claim = 172
			}
			every_state = {
				limit = {
					OR = {
						is_core_of = NOR
						is_core_of = DEN
						is_core_of = ICE
					}
				}
				ENG = { add_state_claim = PREV }
			}
			#ENG = {
			#	create_wargoal = {
			#		type = puppet_wargoal_focus
			#		target = POR
			#		generator = { }
			#	}
			#	create_wargoal = {
			#		type = puppet_wargoal_focus
			#		target = FRA
			#		generator = { }
			#	}
			#}
			
			ITA = {
				add_state_claim = 804
				add_state_claim = 105
				add_state_claim = 103
			}
			
			every_state = {
				limit = {
					is_on_continent = africa
					is_owned_and_controlled_by = FRA
				}
				ITA = { add_state_claim = PREV } 
			}
			
			every_state = {
				limit = {
					is_on_continent = africa
					is_owned_and_controlled_by = GRE
				}
				ITA = { add_state_claim = PREV } 
			}
			
			
			if = {
				limit = { 
					POL = {
						NOT = {
							has_government = fascism 
							is_in_faction_with = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = POL
					generator = { }
				}
			}
			
			if = {
				limit = { 
					ROM = {
						NOT = {
							has_government = fascism 
							is_in_faction_with = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = ROM
					generator = { }
				}
			}
			
			
			if = {
				limit = { 
					BUL = {
						NOT = {
							has_government = fascism 
							is_in_faction_with = ROOT
						}
					}
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = BUL
					generator = { }
				}
			}
			
		}
	}
	
	focus = {
		id = HUN_extend_tripartite_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_blackshirt_coup_1 focus = HUN_sway_mussolini_1 }
		mutually_exclusive = { focus = HUN_new_order_1 }
		x = 0
		y = 1
		relative_position_id = HUN_sway_mussolini_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GER = {
				country_event = { id = LH.205 days = 3 }
			}
		}
	}
	
	focus = {
		id = HUN_eliminate_national_socialism_1
		icon = GFX_focus_SWE_undermine_fascism
		prerequisite = { focus = HUN_new_order_1 }
		#mutually_exclusive = { focus = HUN_new_order_1 }
		x = -1
		y = 1
		relative_position_id = HUN_new_order_1
		
		cost = 5


		available = {
			GER = {
				exists = yes
				has_government = fascism
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
				expire = 0
			}
		}
	}
	
	focus = {
		id = HUN_our_common_enemy_1
		icon = GFX_focus_attack_soviet
		prerequisite = { focus = HUN_new_order_1 focus = HUN_extend_tripartite_1 }
		#mutually_exclusive = { focus = HUN_new_order_1 }
		x = 0
		y = 2
		relative_position_id = HUN_new_order_1
		
		cost = 5


		available = {
			SOV = {
				exists = yes
				has_government = communism
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = SOV
				expire = 0
			}
		}
	}
	
	focus = {
		id = HUN_strengthen_the_alliance_1
		icon = GFX_focus_generic_support_the_left_right
		prerequisite = { focus = HUN_new_order_1 focus = HUN_extend_tripartite_1 }
		#mutually_exclusive = { focus = HUN_new_order_1 }
		x = 1
		y = 3
		relative_position_id = HUN_new_order_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			every_country = {
				limit = {
					OR = {
						is_in_faction_with = ROOT 
						tag = HUN
					}
				}
				random_state = {
					limit = {
						is_owned_and_controlled_by = PREV
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_state = {
					limit = {
						is_owned_and_controlled_by = PREV
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
				random_state = {
					limit = {
						is_owned_and_controlled_by = PREV
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_war_support = 0.1
				add_command_power = 30
			}
		}
	}
	
		
	
	
	focus = {
		id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		icon = GFX_focus_rongyos_garda
		prerequisite = { focus = HUN_the_move_convention_1 }
		x = 3
		y = 1
		relative_position_id = HUN_the_move_convention_1
		
		cost = 5


		available = {
			has_country_flag = HUN_backed_rongyos_flag
			has_country_flag = HUN_italy_leaning
			NOT = {
				OR = {
					has_completed_focus = HUN_side_with_the_workers_1
					has_completed_focus = HUN_a_new_middle_class_1
				}
			}
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			add_command_power = 50
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_imre_kemeri_nagy
			HUN_imre_kemeri_nagy = {
				add_corps_commander_role = {
					traits = { winter_specialist infantry_officer rongyos_sympathizer }
					skill = 4
					attack_skill = 3
					defense_skill = 4
					planning_skill = 2
					logistics_skill = 2
					legacy_id = -1
				}
				set_character_flag = HUN_rongyos_sympathizer_flag
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_maderspach_viktor
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_pal_pronay
			HUN_pal_pronay = {
				add_corps_commander_role = {
					traits = { harsh_leader militias_officer rongyos_sympathizer }
					skill = 4
					attack_skill = 4
					defense_skill = 3
					planning_skill = 2
					logistics_skill = 1
					legacy_id = -1
				}
				set_character_flag = HUN_rongyos_sympathizer_flag
			}
		}
	}
	
	focus = {
		id = HUN_support_winter_war_1
		icon = GFX_focus_FIN_right_wing_policies
		prerequisite = { focus = HUN_the_move_convention_1 }
		x = 2
		y = 0
		relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		
		cost = 5


		available = {
			custom_trigger_tooltip = {
				tooltip = HUN_FIN_winter_war_tt
				FIN = {
					has_country_flag = FIN_winter_war_ongoing_flag
				}
			}
			has_civil_war = no
			has_equipment = {
			    infantry_equipment > 799
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			army_experience = 10
			custom_effect_tooltip = HUN_help_finland_idea_tt
			
			hidden_effect = {
				add_timed_idea = {idea = HUN_finnish_war_volunteers days = 720 }
			}
			
			add_relation_rule_override = {
				target = FIN
				trigger = HUN_finland_has_winter_war
				can_send_volunteers = yes
			}
			
			custom_effect_tooltip = HUN_kemeri_nagy_joins_winter_war_tt
			
			send_equipment = {
				equipment = infantry_equipment
				amount = 800
				target = FIN
			}
			
			hidden_effect = {
				HUN_imre_kemeri_nagy = {
					set_nationality = FIN
					unit_leader_event = {
						id = LHgeneralevents.4
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_openly_militarize_the_levente_movement_1
		icon = GFX_focus_goal_levente_institution
		prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
		x = -2
		y = 2
		relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		
		cost = 10


		available = {
			has_completed_focus = HUN_secret_armament
			has_civil_war = no
			NOT = { has_completed_focus = HUN_march_on_capital }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { 
					has_power_balance = { id = HUN_move_garda_bop }
				}
				add_power_balance_value = {
					id = HUN_move_garda_bop
					value = 0.15
				}
			}
			else_if = {
				limit = { 
					has_power_balance = { id = HUN_sereg_pronay_bop }
				}
				add_power_balance_value = {
					id = HUN_sereg_pronay_bop
					value = -0.15
				}
			}
			add_ideas = HUN_levente_movement
			if = {
				limit = { has_completed_focus = HUN_march_on_capital }
				KOH = {
					HUN_alajos_beldy = {
						set_nationality = HUN
					}
				}
				HUN_alajos_beldy = {
					remove_unit_leader_trait = horthyist
					add_unit_leader_trait = rongyos_sympathizer
					set_character_flag = HUN_rongyos_sympathizer_flag
					gain_xp = 500
				}
			}
			else = {
				HUN_alajos_beldy = {
					remove_unit_leader_trait = horthyist
					add_unit_leader_trait = rongyos_sympathizer
					set_character_flag = HUN_rongyos_sympathizer_flag
					gain_xp = 500
				}
			}
		}
	}
	
	
	focus = {
		id = HUN_restart_the_white_terror_1
		icon = GFX_focus_generic_strike_at_democracy1
		prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
		#prerequisite = { focus = HUN_hammer_the_myth_of_racial_superiority_1  }
		x = -1
		y = 1
		relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		
		cost = 10


		available = {

		}
		
		bypass = {
			has_completed_focus = HUN_march_on_capital_1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_war_support = 0.1
			custom_effect_tooltip = HUN_unlock_terror_tt
			
		}
	}
	
	
	#focus = {
	#	id = HUN_meddle_for_support_1
	#	icon = GFX_focus_generic_military_mission
	#	#prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
	#	x = 2
	#	y = 1
	#	relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
	#	
	#	cost = 4
#
#
#		available = {
#			has_country_flag = HUN_hejjas_prime_flag
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#			custom_effect_tooltip = HUN_unlock_generals_tt
#		}
#	}
	
	
	focus = {
		id = HUN_pillage_for_supply_1
		icon = GFX_focus_secret_rearmament
		prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
		#prerequisite = { focus = HUN_give_hejjas_absolute_power_1 }
		x = 1
		y = 1
		relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		
		cost = 10


		available = {
			NOT = {
				has_completed_focus = HUN_renew_rome_protocols
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_pillage_supply_tt
		}
	}

	focus = {
		id = HUN_italian_weapons_imports_1
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
		x = 3
		y = 1
		relative_position_id = HUN_meet_with_the_members_of_the_rongyos_garda_1
		
		cost = 10


		available = {
			NOT = {
				has_completed_focus = HUN_renew_rome_protocols
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ITA = {
				country_event = { id = LH.314 days = 2 }
			}
		}
	}
		
	
	#focus = {
	#	id = HUN_asassinate_political_enemies_1
	#	icon = GFX_goal_generic_secret_weapon
	#	prerequisite = { focus = HUN_restart_the_white_terror_1 }
	#	x = 2
	#	y = 1
	#	relative_position_id = HUN_restart_the_white_terror_1
	#	
	#	cost = 3
#
#
#		available = {
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#			add_political_power = 40 
#			add_command_power = 20
#			custom_effect_tooltip = HUN_unlock_assassinations_tt
#		}
#	}
	
	
	focus = {
		id = HUN_work_with_the_turul_alliance_1
		icon = GFX_turul_alliance 
		prerequisite = { focus = HUN_the_move_convention_1 }
		#prerequisite = { focus = HUN_meet_with_the_members_of_the_rongyos_garda_1 }
		x = -3
		y = 1
		relative_position_id = HUN_the_move_convention_1
		
		cost = 8


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			custom_effect_tooltip = HUN_turul_militia_tt
			
			hidden_effect = {
		
				division_template = { #Turul Student Division
					name = "Turul Ifjusági Alakulat"
					is_locked = no
					division_names_group = HUN_TURUL_ALAKULAT 
					template_counter = 82
					regiments = {
						militia = { x = 0 y = 0 }
						militia = { x = 0 y = 1 }
						militia = { x = 1 y = 0 }
						militia = { x = 1 y = 1 }
					}
					support = {
						military_police = { x = 0 y = 0 }
					}
				}
				
				973 = {
					create_unit = {
						division = "name = \"1. Turul Ifjusági Alakulat 'Első Szárny'\" division_template = \"Turul Ifjusági Alakulat\" start_experience_factor = 0 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				
				973 = {
					create_unit = {
						division = "name = \"2. Turul Ifjusági Alakulat 'Fekete Hollók'\" division_template = \"Turul Ifjusági Alakulat\" start_experience_factor = 0 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				
				973 = {
					create_unit = {
						division = "name = \"3. Turul Ifjusági Alakulat 'Büszke Sólyom'\" division_template = \"Turul Ifjusági Alakulat\" start_experience_factor = 0 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				
			}
			add_popularity = { ideology = fascism popularity = 0.05 }
			add_war_support = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_istvan_antal
		}
	}
	
	
	focus = {
		id = HUN_march_on_capital_1
		icon = GFX_focus_hun_fascist_masses
		prerequisite = { focus = HUN_italian_weapons_imports_1 focus = HUN_pillage_for_supply_1 focus = HUN_restart_the_white_terror_1 }
		x = -1
		y = 1
		relative_position_id = HUN_pillage_for_supply_1
		
		cost = 5


		available = {
			fascism > 0.4
			power_balance_value = {
				id = HUN_move_garda_bop
				value > 0
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			custom_effect_tooltip = HUN_start_civil_war_tt
			
			hidden_effect = {
		
				### ADD WEAPONS OF ITALY ###
				if = {
					limit = { has_country_flag = HUN_ITA_accepted_help_flag }
					country_event = { id = LH.319 days = 2 }
				}
				
				### SET COSMETIC TAG ###
			
				hidden_effect = {
					set_cosmetic_tag = HUN_RG
				}
				
				### REMOVE HEJJAS AS PRIME MINISTER ###
				
				remove_advisor_role = {
				  character = "HUN_ivan_hejjas"
				  slot = political_advisor
				}
				
				### REMOVE HORTHYS LEADER ROLE ### (NECESSARY FOR ADDING LATER)
				
				remove_country_leader_role = {
					character = HUN_miklos_horthy
					ideology = oligarchism
				}
				
				### GET REGENCY COUNCIL AS LEADER ###
				
				HUN_regency_council = {
					promote_character = {
						ideology = fascism_ideology
					}
				}
				
				set_country_leader_name = {
					ideology = fascism
					name = HUN_regency_council_rongyos
				}
				
				### START CIVIL WAR ###
				
				start_civil_war = {
					ruling_party = fascism	### Rongyos Gárda ideology
					ideology = neutrality	### Breakaway --> Horthy
					size = 0.65
					capital = 973
					states = { 
						973 972 155
					}
					set_country_flag = HUN_horthy_country_hejjas_cw_flag
					
					keep_unit_leaders_trigger = {
						OR = {
							has_trait = rongyos_sympathizer
							has_trait = german_sympathies
						}
					}
					
					keep_political_leader = yes
					keep_political_party_members = yes
					
				}
				
				### MAKE HEJJAS LEADER FOR NON ALIGNED (ONLY FOR FLAVOUR) ###
				
				add_country_leader_role = {
					character = HUN_ivan_hejjas
					promote_leader = yes
					country_leader = {
						ideology=oligarchism
						traits={ albanian_connections aviation_hero_hejjas }
						expire="1965.1.1.1"
					}
				}
				
				### SEND HORTHY TO THE OTHER SIDE ###
				
				HUN_miklos_horthy = {
					set_nationality = KOH
				}
				KOH = {
					add_country_leader_role = {
						character = HUN_miklos_horthy
						promote_leader = yes
						country_leader = {
							ideology=oligarchism
							traits={ fascist_sympathies anti_communist }
							expire="1965.1.1.1"
						}
					}
				}
				
				### REMOVE HORTHYIST TRAITS FROM ACTIVE GENERALS ###
				
				every_unit_leader = {
					limit = {
						has_trait = horthyist
					}
					remove_unit_leader_trait = horthyist
				}
				
				### MAGASHAZY COUP ###
				
				country_event = { id = LH_news.36 days = 10 }
				
				### IF NO WHITE TERROR, THEN COMMUNIST CIVIL WAR ###
				
				if = {
					limit = { 
						OR = {
							155 = {
								has_dynamic_modifier = {
									modifier = HUN_red_terror_state
								}
							}
							972 = {
								has_dynamic_modifier = {
									modifier = HUN_red_terror_state
								}
							}
						}
					}
					country_event = { id = LH.301 hours = 6 }
				}
			}
			
		}
	}
	
	focus = {
		id = HUN_support_of_the_people_1
		icon = GFX_focus_spr_torchbearers_of_tomorrow
		prerequisite = { focus = HUN_march_on_capital_1 }
		x = -2
		y = 1
		relative_position_id = HUN_march_on_capital_1
		
		cost = 2


		available = {
			has_civil_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_war_support = 0.05
			custom_effect_tooltip = HUN_rongyos_volunteer_size_focus_tt
			hidden_effect = {
				if = {
					limit = {
						is_power_balance_in_range = {
							id = HUN_move_garda_bop
							range > HUN_hejjas_balanced
						}
					}	
					division_template = { #Rongyos Volunteers
						name = "Rongyos Gárda Nemzetörség"
						division_names_group = HUN_RONGYOS_SS 
						is_locked = yes
						force_allow_recruiting = no

						regiments = {
							militia = { x = 0 y = 0 }
							militia = { x = 0 y = 1 }
							militia = { x = 1 y = 0 }
							militia = { x = 1 y = 1 }
							militia = { x = 2 y = 0 }
							militia = { x = 2 y = 1 }
						}
					}
				}
			}
			if = {
				limit = {
					is_power_balance_in_range = {
						id = HUN_move_garda_bop
						range = HUN_hejjas_garda_power_low
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"2. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					create_unit = {
						division = "name = \"3. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			else_if = {
				limit = {
					is_power_balance_in_range = {
						id = HUN_move_garda_bop
						range = HUN_hejjas_garda_bop_power_middle
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"2. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"3. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					create_unit = {
						division = "name = \"4. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"5. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			else_if = {
				limit = {
					is_power_balance_in_range = {
						id = HUN_move_garda_bop
						range = HUN_hejjas_garda_bop_power_penultimate
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"2. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"3. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					create_unit = {
						division = "name = \"1. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"2. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"3. Rongyos Önkéntes Hadosztály\" division_template = \"Gárda Önkéntes Hadosztály\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
			else_if = {
				limit = {
					is_power_balance_in_range = {
						id = HUN_move_garda_bop
						range = HUN_hejjas_garda_bop_power_highest
					}
				}
				capital_scope = {
					create_unit = {
						division = "name = \"1. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"2. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"3. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"4. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
				random_owned_state = {
					limit = {
						is_controlled_by = ROOT
					}
					create_unit = {
						division = "name = \"5. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"6. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
					create_unit = {
						division = "name = \"7. Rongyos Önkéntes Hadosztály\" division_template = \"Rongyos Gárda Nemzetörség\" start_experience_factor = 0.4 start_equipment_factor = 1.0"
						owner = ROOT
						count = 1
					}
				}
			}
		}
	}
	
	
	focus = {
		id = HUN_give_hejjas_absolute_power_1
		icon = GFX_focus_generic_military_dictatorship
		prerequisite = { focus = HUN_march_on_capital_1 }
		#prerequisite = { focus = HUN_restart_the_white_terror_1 }
		x = 0
		y = 1
		relative_position_id = HUN_march_on_capital_1
		
		cost = 2


		available = {
			controls_province = 9660
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.299
			remove_dynamic_modifier = {
				modifier = HUN_move_dynamic_modifier
			}
			remove_power_balance = {
				id = HUN_move_garda_bop
			}
			hidden_effect = {
				HCO = {
					remove_state_core = 155
					remove_state_core = 972
					remove_state_core = 973
					remove_state_core = 43
					remove_state_core = 154
				}
			}
		}
	}
	
	
	
	focus = {
		id = HUN_ask_austria_for_help_1
		icon = GFX_focus_HUN_help_from_austria
		prerequisite = { focus = HUN_march_on_capital_1 }
		#prerequisite = { focus = HUN_restart_the_white_terror_1 }
		x = 2
		y = 1
		relative_position_id = HUN_march_on_capital_1
		
		cost = 7


		available = {
		
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			AUS = { country_event = LH.427 }
		}
	}
	
	focus = {
		id = HUN_enforce_corporatism_1
		icon = GFX_focus_ICE_state_corporatism
		prerequisite = { focus = HUN_give_hejjas_absolute_power_1 }
		
		x = 2
		y = 1
		relative_position_id = HUN_give_hejjas_absolute_power_1
		
		cost = 10 


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_new_economy_law_tt
			show_ideas_tooltip = corporatism_law
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			hidden_effect = {
				add_ideas = corporatism_law
			}
		}
	}
	
	focus = {
		id = HUN_nationalize_the_arms_industry_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = HUN_enforce_corporatism_1}
		
		x = -1
		y = 1
		relative_position_id = HUN_enforce_corporatism_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_nationalize_arms_industry
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					has_state_flag = HUN_nationalize_arms_industry
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_nationalize_arms_industry
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
				set_state_flag = HUN_nationalize_arms_industry
			}
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
		}
	}
	
	focus = {
		id = HUN_reorganise_the_garda_1
		icon = GFX_focus_SWE_revoke_militia_law
		prerequisite = { focus = HUN_enforce_corporatism_1 }
		
		x = 1
		y = 1
		relative_position_id = HUN_enforce_corporatism_1
		
		cost = 5


		available = {
			has_power_balance = {
				id = HUN_sereg_pronay_bop
			}
			has_template = "Rongyos Gárda Nemzetörség"
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_choose_about_structure_of_garda_tt
			hidden_effect = {
				country_event = LH.452
			}
		}
	}
	
	focus = {
		id = HUN_expand_the_garda_1
		icon = GFX_focus_chi_army_reform
		prerequisite = { focus = HUN_reorganise_the_garda_1 }
		
		x = 0
		y = 1
		relative_position_id = HUN_reorganise_the_garda_1
		
		cost = 10


		available = {
			has_power_balance = {
				id = HUN_sereg_pronay_bop
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_country_leader_trait = garda_recruiter 
			add_power_balance_value = {
				id = HUN_sereg_pronay_bop
				value = 0.10
			}
			add_power_balance_modifier = {
				id = HUN_sereg_pronay_bop
				modifier = HUN_rongyos_bop_increase
			}
		}
	}
	
	focus = {
		id = HUN_non_interference_with_germany_1
		icon = GFX_focus_chi_mission_to_germany
		prerequisite = { focus = HUN_give_hejjas_absolute_power_1 }
		mutually_exclusive = { focus = HUN_get_rid_of_the_threat_1 }
		x = 6
		y = 1
		relative_position_id = HUN_give_hejjas_absolute_power_1
		
		cost = 10


		available = {
			has_civil_war = no
			has_completed_focus = HUN_guarantee_austria
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_country_flag = HUN_austria_refused_to_help_hungary_civil_war_flag }
				add_political_power = -150
			}
			GER = {
				country_event = LH.430
			}
		}
	}
	
	focus = {
		id = HUN_join_anti_comintern_pact_hejjas_1
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = HUN_non_interference_with_germany_1 }
		x = 0
		y = 1
		relative_position_id = HUN_non_interference_with_germany_1
		
		cost = 5


		available = {
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = germany.5
		}
	}
	
	focus = {
		id = HUN_get_rid_of_the_threat_1
		icon = GFX_focus_attack_germany
		prerequisite = { focus = HUN_give_hejjas_absolute_power_1 }
		mutually_exclusive = { focus = HUN_non_interference_with_germany_1}
		x = 4
		y = 1
		relative_position_id = HUN_give_hejjas_absolute_power_1
		
		cost = 5


		available = {
			has_civil_war = no
			has_completed_focus = HUN_guarantee_austria
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = {
				idea = HUN_preparing_for_germany
				days = 1000
			}
			if = {
				limit = { is_in_faction = no }
				custom_effect_tooltip = HUN_faction_members_get_bonuses_tt
			}
			else = {
				every_other_country = {
					limit = { is_in_faction_with = ROOT }
					add_timed_idea = { idea = HUN_preparing_for_germany days = 1000}
				}
			}
		}
	}
	
	
	
	############################
	####### Italy Side #########
	############################
	
	
	############################
	####### Germany Side #######
	############################

	
	############################
	########## Szálasi #########
	############################
	
	
	focus = {
		id = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		icon = GFX_focus_hun_work_with_szalasi
		prerequisite = { focus = HUN_deal_with_scythe_cross_1  }
		prerequisite = { focus = HUN_strengthen_the_hungarist_movement_1 }
		x = 4
		y = 1
		relative_position_id = HUN_strengthen_the_hungarist_movement_1
		
		cost = 2


		available = {
			OR = {
				has_government = fascism
				fascism > 0.45
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			remove_ideas = HUN_monarchy_without_monarch
			
			set_party_name = { ideology = fascism long_name = HUN_nyilas_party_long name = HUN_nyilas_party }
			
			
			set_politics = {
				ruling_party = fascism
				elections_allowed = no
			}
			
			#country_event = LH.305
			
			remove_advisor_role = {
				character = "HUN_szalasi_ferenc"
				slot = political_advisor
			}
			
			hidden_effect = {
				every_character = {
					limit = { has_trait = german_sympathies }
					remove_unit_leader_trait = german_sympathies
				}
			}
			
			custom_effect_tooltip = HUN_renounce_trianon_available_tt
			
		}
	}
	
	
	focus = {
		id = HUN_solve_the_monarchy_question_1
		icon = GFX_focus_generic_monarchy_1
		prerequisite = { focus = HUN_call_for_election_1 focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }
		#prerequisite = { focus = HUN_strengthen_the_hungarist_movement_1 }
		mutually_exclusive = { focus = HUN_cult_of_personality_szalasi_1 }
		search_filters = { FOCUS_FILTER_HISTORICAL }
		x = -2
		y = 1
		relative_position_id = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		
		cost = 10


		available = {
			#has_country_flag = HUN_leader_inaugurated_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_inauguration_explain_tt
			country_event = { id = LHelections.30 days = 2 }
		}
	}
	
	
	focus = {
		id = HUN_new_hungarians_1
		icon = GFX_focus_arrow_cross
		prerequisite = { focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }
		prerequisite = { focus = HUN_the_builders_of_the_nation_1 }
		x = 3
		y = 1
		relative_position_id = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		
		cost = 2


		available = {
			has_government = fascism
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			army_experience = 35
			add_field_marshal_role = {
				character = HUN_szalasi_ferenc
				skill = 2
				attack_skill = 2
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
			}
			add_corps_commander_role = {
				character = HUN_arpad_henney
				skill = 3
				attack_skill = 2
				defense_skill = 1
				planning_skill = 2
				logistics_skill = 1
				traits = { politically_connected }
			}
			add_doctrine_cost_reduction = {
				cost_reduction = 0.5
				uses = 2
				category = land_doctrine
			}
			set_rule = {
				can_generate_female_aces = yes
			}
			
			### MODIFY HUNGARIAN ARMY ###
			custom_effect_tooltip = HUN_new_hungarians_army_tt
			add_to_variable = { var = HUN_army_consumer_goods_factor value = 0.05 }
			add_to_variable = { var = HUN_hungarian_army_supply_consumption_factor value = -0.05 }
			add_to_variable = { var = HUN_hungarian_army_org_regain value = 0.05 }
			add_to_variable = { var = HUN_modifier_army_sub_unit_militia_attack_factor value = 0.1 }
			add_to_variable = { var = HUN_modifier_army_sub_unit_militia_defence_factor value = 0.1 }
			add_to_variable = { var = HUN_modifier_army_sub_unit_militia_speed_factor value = 0.1 }
		}
	}
	
	
	
	
	############################
	########## Imredy ##########
	############################
	
	
	############################
	## Bethlens Consolidation ##
	############################
	
	focus = {
		id = HUN_continue_bethlens_consolidation_1
		icon = GFX_goal_generic_consumer_goods
		search_filters = { FOCUS_FILTER_HISTORICAL }
		mutually_exclusive = { focus = HUN_empower_the_far_right_1 focus = HUN_social_reforms_1}
		x = 30
		y = 0
		
		cost = 10


		available = {
		
			custom_trigger_tooltip = {
				tooltip = HUN_chose_neutral_prime_minister_tooltip
				OR = {
				has_country_flag = HUN_bethlen_prime_flag
				has_country_flag = HUN_daranyi_prime_flag
				has_country_flag = HUN_szell_prime_flag
					AND = {
						has_country_flag = HUN_gombos_alive
						NOT = {
							has_country_flag = gombos_death
						}
					}
				}
			}
			
			
		}
		
		bypass = {

		}
		
		

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_bethlen_prime_flag
					}
				}
				custom_effect_tooltip = available_political_advisor
				show_ideas_tooltip = HUN_istvan_bethlen
			}
			
			hidden_effect = {
				set_country_flag = HUN_monarchy_side_chosen_flag
				load_focus_tree = LH_monarchy
				unlock_national_focus = HUN_continue_bethlens_consolidation
			}
		}
	}
	
	############################
	######### Monarchy #########
	############################
	
	focus = {
		id = HUN_strengthen_monarch_1
		icon = GFX_focus_generic_support_the_left_right
		mutually_exclusive = { focus = HUN_strengthen_the_regency_1 }
		prerequisite = { focus = HUN_continue_bethlens_consolidation_1 }
		x = -6
		y = 1
		relative_position_id = HUN_continue_bethlens_consolidation_1
		
		cost = 7


		available = {
			neutrality > 0.3
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			swap_ideas = {
				remove_idea = HUN_monarchy_without_monarch
				add_idea = HUN_hungarian_monarch
			}
			
		}
	}
	
	focus = {
		id = HUN_elect_king_1
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = HUN_strengthen_monarch_1 }
		x = 0
		y = 1
		relative_position_id = HUN_strengthen_monarch_1

		cost = 7

		ai_will_do = {
			factor = 80
		}

		available = {
			neutrality > 0.3
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = yes
		
		search_filters = { FOCUS_FILTER_POLITICAL FOCUS_FILTER_STABILITY }
		
		completion_reward = {
			add_political_power = 50
			swap_ideas = {
				remove_idea = HUN_hungarian_monarch
				add_idea = HUN_hungarian_monarch_2
			}
			hidden_effect = { 
				country_event = { id = LH.58 days = 3 }
			}
			custom_effect_tooltip = HUN_dethronement_law_available_tt
		}
	}
	
	
	
	focus = {
		id = HUN_call_for_a_revisionist_king_1
		icon = GFX_focus_hun_horthy_cimer
		mutually_exclusive = { focus = HUN_accept_the_habsburg_prince_1 }
		prerequisite = { focus = HUN_elect_king_1 }
		x = 10
		y = 1
		relative_position_id = HUN_elect_king_1
		
		cost = 5


		available = {
			has_country_flag = HUN_free_royal_electors_flag
			has_government = neutrality
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_hungarian_monarch_2
				add_idea = HUN_hungarian_monarch_3
			}
		}
	}
	
	############################
	########## Horthy ##########
	############################
	
	focus = {
		id = HUN_crown_king_1
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = HUN_call_for_a_revisionist_king_1 }
		x = 0
		y = 1
		relative_position_id = HUN_call_for_a_revisionist_king_1
		
		cost = 2
		
		
		available = {
			has_country_flag = HUN_horthy_converted_flag
			hidden_trigger = {
				OR = {
					has_country_flag = HUN_istvan_as_king_flag
					has_country_flag = HUN_miklos_as_king_flag
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = neutrality popularity = 0.05 }
			
			if = {
				limit = {
					has_country_flag = HUN_istvan_as_king_flag
				}
				HUN_istvan_horthy = {
					promote_character = yes
				}
				set_country_leader_name = {
					ideology = neutrality
					name = HUN_istvan_king
				}
			}
			else = {
				set_country_leader_portrait = {
					ideology = neutrality
					portrait = GFX_portrait_miklos_horthy_king
				}
				
				add_country_leader_role = {
					character = HUN_miklos_horthy
					country_leader = {
						expire = "1965.1.1"
						ideology = despotism
						traits = {
							anti_communist
						}
					}
					promote_leader = yes
				}
			}
			
			swap_ideas = {
				remove_idea = HUN_hungarian_monarch_3
				add_idea = HUN_hungarian_monarch_4
			}
			
			hidden_effect = {
				country_event = LH_news.24 
			}
		}
	}
	
	focus = {
		id = HUN_horthys_soldiers_1
		icon = GFX_focus_soldier_of_horthy
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_crown_king_1 focus = HUN_announce_horthys_permanent_regency_1 }
		x = 3
		y = 1
		dynamic = yes
		relative_position_id = HUN_crown_king_1
		
		cost = 5


		available = {
			if = {
				limit = { has_completed_focus = HUN_strengthen_the_regency_1 }
				has_completed_focus = HUN_turani_vadaszok_1
			}
			
			OR = {
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
				has_idea = HUN_treaty_of_triannon_3
			}
		}
		
		bypass = {

		}
		
		select_effect = {
			scoped_play_song = "Horthy Miklos katonaja vagyok"
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {	
			
			
			
			add_war_support = 0.1
			
			
			if = {
				limit = { has_idea = HUN_hungarian_regency_fascism_2 }
				swap_ideas = {
					remove_idea = HUN_hungarian_regency_fascism_2
					add_idea = HUN_hungarian_regency_fascism_3
				} 
				
			}
			
			add_ideas = HUN_horthys_soldiers_idea
			
			
		}
	}
	
	
	
	
	############################
	### Monarchy/Historical ####
	############################
	
	
	
	focus = {
		id = HUN_end_prime_ministry_1
		icon = GFX_focus_generic_monarchy_1
		mutually_exclusive = { focus = HUN_a_western_approach_1 }
		prerequisite = { focus = HUN_announce_horthys_permanent_regency_1 focus = HUN_crown_king_1 focus = HUN_populist_habsburg_1 focus = HUN_habsburg_middle_1 }
		x = -3
		y = 1
		relative_position_id = HUN_crown_king_1
		
		cost = 5


		available = {
		
			OR = {
				has_government = neutrality
				has_government = fascism 
			}
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
			
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle_1 }
				NOT = { has_country_flag = HUN_confederation_democracy_flag }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = -70
			if = {
				limit = { has_completed_focus = HUN_populist_habsburg }
				add_popularity = { ideology = fascism popularity = 0.05 }
			}
			else = {
				add_popularity = { ideology = neutrality popularity = 0.05 }
			}
			if = {
				limit = { has_completed_focus = HUN_strengthen_monarch_1 }
				add_country_leader_trait = absolute_monarch_2
			}
			add_stability = -0.1
			if = {
				limit = { has_country_flag = HUN_daranyi_prime_flag }
				deactivate_advisor = HUN_kalman_daranyi_prime
				clr_country_flag = HUN_daranyi_prime_flag
			}
			if = {
				limit = { has_country_flag = HUN_bethlen_prime_flag }
				deactivate_advisor = HUN_istvan_bethlen_prime
				clr_country_flag = HUN_bethlen_prime_flag
			}
			if = {
				limit = { has_country_flag = HUN_szell_prime_flag }
				deactivate_advisor = HUN_jozsef_szell
				clr_country_flag = HUN_szell_prime_flag
			}
			set_country_flag = HUN_removed_prime_ministers_flag
		}
	}
	
	focus = {
		id = HUN_a_western_approach_1
		icon = GFX_goal_generic_position_armies
		search_filters = { FOCUS_FILTER_HISTORICAL }
		mutually_exclusive = { focus = HUN_end_prime_ministry_1 }
		prerequisite = { focus = HUN_announce_horthys_permanent_regency_1 focus = HUN_crown_king_1 focus = HUN_habsburg_middle_1 }
		x = 1
		y = 1
		relative_position_id = HUN_crown_king_1
		
		cost = 3


		available = {
			has_government = neutrality
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle_1 }
				has_country_flag = HUN_traditional_model_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 150
			add_stability = 0.05
			
			
			if = {
				limit = { has_country_flag = HUN_daranyi_prime_flag }
				
				remove_trait = {
					character = HUN_kalman_daranyi
					slot = political_advisor
					trait = prime_minister_daranyi
				}
				add_trait = {
					character = HUN_kalman_daranyi
					slot = political_advisor
					trait = prime_minister_daranyi_2
				}
			}
			if = {
				limit = { has_country_flag = HUN_bethlen_prime_flag }
				remove_trait = {
					character = HUN_istvan_bethlen
					slot = political_advisor
					trait = prime_minister_bethlen
				}
				add_trait = {
					character = HUN_istvan_bethlen
					slot = political_advisor
					trait = prime_minister_bethlen_2
				}
			}
			if = {
				limit = { has_country_flag = HUN_szell_prime_flag }
				remove_trait = {
					character = HUN_jozsef_szell
					slot = political_advisor
					trait = prime_minister_szell
				}
				add_trait = {
					character = HUN_jozsef_szell
					slot = political_advisor
					trait = prime_minister_szell_2
				}
			}
		}
	}
	
	
	focus = {
		id = HUN_hold_crown_council_1
		icon = GFX_focus_generic_diplomatic_treaty
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_a_western_approach_1 focus = HUN_end_prime_ministry_1 }
		x = 3
		y = 1
		relative_position_id = HUN_end_prime_ministry_1
		
		cost = 3


		available = {
			has_government = neutrality
			NOT = {
				has_completed_focus = HUN_habsburg_middle_1
				has_completed_focus = HUN_populist_habsburg_1
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.277
		}
	}
	
	focus = {
		id = HUN_the_kings_guard_1
		icon = GFX_goal_generic_special_forces
		#prerequisite = { focus = HUN_hold_crown_council_1 }
		#prerequisite = { focus = HUN_renounce_trianon_1 }
		prerequisite = { focus = HUN_horthys_soldiers_1 }
		x = 0
		y = 1
		relative_position_id = HUN_horthys_soldiers_1
		
		cost = 3


		available = {
			has_country_flag = HUN_hungarian_monarchy_flag
			has_government = neutrality
			has_completed_focus = HUN_crown_king
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_horthys_soldiers_idea
				add_idea = HUN_horthys_soldiers_idea_2
			}
		}
	}
	

	
	focus = {
		id = HUN_restructure_high_command_1
		icon = GFX_focus_chi_army_reform
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_hold_crown_council_1}
		x = -1
		y = 1
		relative_position_id = HUN_hold_crown_council_1
		
		cost = 10


		available = {
			has_country_flag = HUN_disallow_fascist_advisors_flag
			has_government = neutrality
			custom_trigger_tooltip = {
				tooltip = HUN_germany_influence_points_less_1_tt
				GER =  { check_variable = { var = ger_alignment_influence value = 15 compare = less_than } }
			}	
			has_country_flag = HUN_disallow_fascist_advisors_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			every_unit_leader = {
				limit = {
					NOT = {
						has_trait = horthyist
					}
				}
				retire = yes
			}
			
			if = {
				limit = { has_idea = HUN_move_idea}
				remove_ideas = HUN_move_idea
			}
			else_if = {
				limit = { has_idea = HUN_move_idea_2}
				remove_ideas = HUN_move_idea_2
			}
			
			
			if = {
				limit = {
					GER =  { check_variable = { var = ger_alignment_influence value = 15 compare = greater_than_or_equals } }
				}
				GER = { add_to_variable = { var = ger_alignment_influence value = -15 } }
				custom_effect_tooltip = HUN_less_influence_15_tt
			}
		}
	}
	
	
	focus = {
		id = HUN_arrow_cross_deal_1
		icon = GFX_focus_arrow_cross
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_renounce_trianon_1}
		x = 2
		y = 2
		relative_position_id = HUN_horthys_soldiers_1
		
		cost = 5


		available = {
			OR = {
				GER = { 
					has_completed_focus = GER_anschluss
				}
				is_neighbor_of = GER 
			}
			has_country_flag = HUN_mnszp_banned
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = -30
			country_event = LH.327
		}
	}
	
	
	focus = {
		id = HUN_land_reform_monarchy_1
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_hold_crown_council_1}
		x = 2
		y = 1
		relative_position_id = HUN_hold_crown_council_1
		
		cost = 3


		available = {
		
			has_government = neutrality
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.1 }
			add_popularity = { ideology = communism popularity = 0.05 }
			add_timed_idea = { idea = HUN_land_reform_idea days = 180 }
			custom_effect_tooltip = HUN_receive_40_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 40
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_tt = yes 
			HUN_add_3_consumer = yes
		}
	}
	
	focus = {
		id = HUN_fund_the_working_class_1
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_land_reform_monarchy_1 focus = HUN_arrow_cross_deal_1 }
		x = 2
		y = 1
		relative_position_id = HUN_land_reform_monarchy_1
		
		cost = 7


		available = {
			if = {
				limit = { has_completed_focus = HUN_arrow_cross_deal_1 }
				has_country_flag = HUN_daranyi_crisis_flag 
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_arrow_cross_deal }
				country_event = { id = LHelections.2 days = 2 }
			}
			else = {
				add_political_power = -50
				add_timed_idea = {
					idea = HUN_funded_workers
					days = 365
				}
				add_popularity = { ideology = democratic popularity = 0.05}
				add_popularity = { ideology = communism popularity = 0.1 }
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_present_new_law_1
		icon = GFX_focus_generic_treaty
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_fund_the_working_class_1 }
		prerequisite = { focus = HUN_arrow_cross_deal_1 }
		x = 2
		y = 1
		relative_position_id = HUN_fund_the_working_class_1
		
		cost = 10


		available = {
			has_country_flag = HUN_right_wing_prime_minister_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			country_event = { id = LH.334 days = 2 }
			hidden_effect = {
				country_event = { id = LH_news.20 days = 50 }
			}
		}
	}
	
	focus = {
		id = HUN_improve_western_relations_1
		icon = GFX_focus_chi_british_cooperation
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_fund_the_working_class_1 }
		x = 0
		y = 1
		relative_position_id = HUN_fund_the_working_class_1
		
		cost = 6


		available = {
			has_country_flag = HUN_conservative_prime_minister_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### TODO: TIE INTO ECONOMIC TRADE DECISIONS
		}
	}
	
	focus = {
		id = HUN_mem_1
		icon = GFX_focus_hun_hungarian_life
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_present_new_law_1}
		x = -1
		y = 1
		relative_position_id = HUN_present_new_law_1
		
		cost = 10


		available = {
			has_country_flag = HUN_right_wing_prime_minister_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.306
			
		}
	}
	
	focus = {
		id = HUN_ban_arrow_cross_1
		icon = GFX_focus_hun_arrest_estremists
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_present_new_law_1}
		x = 1
		y = 1
		relative_position_id = HUN_present_new_law_1
		
		cost = 3


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			hidden_effect = {
				set_temp_variable = {
					var = szlasi
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = szlasi
					value = -0.5
				}
				country_event = { id = LH_news.15 days = 3 }
			}
			add_popularity = { ideology = fascism popularity = szlasi}
			add_stability = 0.05
			add_ideas = HUN_underground_fascists
			custom_effect_tooltip = HUN_underground_fascists_organisation_tt
			set_country_flag = HUN_szalasi_imprisoned_flag
			HUN_szalasi_ferenc = {
				set_character_flag = HUN_imprisoned_flag
				set_portraits = {
					army = {
						small = "GFX_idea_HUN_ferenc_szalasi_imprisoned"
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_mission_to_germany_1	
		icon = GFX_focus_chi_mission_to_germany
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_mem_1 }
		#prerequisite = { focus = HUN_ban_arrow_cross_1 }
		x = 1
		y = 1
		relative_position_id = HUN_mem_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_opinion_modifier = { modifier = HUN_GER_diplomacy target = GER }
			reverse_add_opinion_modifier = { modifier = HUN_GER_diplomacy target = HUN }
			if = {
				limit = {
					GER =  { check_variable = { var = ger_alignment_influence value = 90 compare = less_than_or_equals } }
				}
				GER = { add_to_variable = { var = ger_alignment_influence value = 10 } }
			}
			custom_effect_tooltip = HUN_like_germans_tt
			custom_effect_tooltip = HUN_allow_axis_tt
		}
	}
	
	focus = {
		id = HUN_yug_friendship_treaty_1
		icon = GFX_focus_invite_yugoslavia
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_mission_to_germany_1}
		x = -1
		y = 1
		relative_position_id = HUN_mission_to_germany_1
		
		cost = 5


		available = {
			
			has_country_flag = HUN_conservative_prime_minister_flag
			NOT = {
				has_war_with = YUG
			}
			ROM = {
				has_government = fascism
			}
			POL = {
				has_capitulated = yes
			}
		}
		
		bypass = {
			OR = {
				YUG = { has_completed_focus = YUG_join_axis }
				has_war_with = YUG
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LHelections.5
			clr_country_flag = HUN_wants_croatia_flag
			custom_effect_tooltip = HUN_revision_of_croatia_no_longer_possible_tt
		}
	}
	
	focus = {
		id = HUN_stabilize_country_1
		icon = GFX_goal_generic_neutrality_focus
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_mission_to_germany_1}
		prerequisite = { focus = HUN_ban_arrow_cross_1}
		x = 1
		x = 1
		y = 1
		relative_position_id = HUN_mission_to_germany_1
		
		cost = 5


		available = {
			has_country_flag = HUN_conservative_prime_minister_flag
			OR = {
				GER = { has_completed_focus = GER_second_vienna_award }
				HUN = {
					has_country_flag = HUN_transylvania_demanded
				}	
			}
			HUN = {
				has_full_control_of_state = 76
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = neutrality popularity = 0.05 }
			custom_effect_tooltip = HUN_stabilize_country_tt
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_output_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_prepare_the_army_1
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = HUN_yug_friendship_treaty_1}
		x = 1
		y = 1
		relative_position_id = HUN_yug_friendship_treaty_1
		
		cost = 10


		available = {
			if = { limit = { has_idea = volunteer_only } has_country_flag = HUN_huba_1_flag }
			if = { limit = { has_idea = limited_conscription } has_country_flag = HUN_huba_2_flag }
			if = { limit = { has_idea = extensive_conscription } has_country_flag = HUN_huba_3_flag }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = { limit = { has_idea = disarmed_nation } add_ideas = volunteer_only }
			else_if = { limit = { has_idea = volunteer_only } add_ideas = limited_conscription }
			else_if = { limit = { has_idea = limited_conscription } add_ideas = extensive_conscription }
			else_if = { limit = { has_idea = extensive_conscription } add_ideas = service_by_requirement }
			add_political_power = 50
			add_war_support = 0.05
		}
	}
	
	focus = {
		id = HUN_support_ss_1
		icon = GFX_focus_ger_reichskommisariats
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_yug_friendship_treaty_1}
		x = -1
		y = 1
		relative_position_id = HUN_yug_friendship_treaty_1
		
		cost = 5


		available = {
			has_country_flag = HUN_right_wing_prime_minister_flag
			
		}
		
		bypass = {
			has_country_flag = HUN_accepted_molotov_proposal_flag
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_manpower = -20000
			GER = {
				add_manpower = 20000
				add_opinion_modifier = { modifier = HUN_GER_volunteers target = HUN }
				send_equipment = {
					equipment = infantry_equipment
					amount = 1500
					target = HUN
				}
				send_equipment = {
					equipment = motorized_equipment
					amount = 500
					target = HUN
				}
			}
			add_war_support = 0.05
			add_political_power = 100
			add_stability = -0.05
		}
	}
	
	focus = {
		id = HUN_horthys_succession_1
		icon = GFX_focus_horthy_succession
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_support_ss_1}
		x = 1
		y = 1
		relative_position_id = HUN_support_ss_1
		
		cost = 5


		available = {
			has_country_flag = HUN_right_wing_prime_minister_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LHelections.8
		}
	}
	
	focus = {
		id = HUN_allow_left_wing_ministers_1
		icon = GFX_goal_support_democracy
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_horthys_succession_1}
		x = -1
		y = 1
		relative_position_id = HUN_horthys_succession_1
		
		cost = 7


		available = {
			has_country_flag = HUN_conservative_prime_minister_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.15 }
			add_stability = 0.05
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_geza_malasits
			show_ideas_tooltip = HUN_karoly_rassay
			show_ideas_tooltip = HUN_tibor_eckhardt
			show_ideas_tooltip = HUN_ede_atzel
			show_ideas_tooltip = HUN_karoly_peyer
		}
	}
	
	focus = {
		id = HUN_peace_bureau_1
		icon = GFX_goal_generic_alliance
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_horthys_succession_1 }
		prerequisite = { focus = HUN_prepare_the_army_1 }
		x = 2
		y = 1
		relative_position_id = HUN_horthys_succession_1
		
		cost = 5
 

		available = {
			has_country_flag = HUN_conservative_prime_minister_flag
			has_war_with = SOV
			has_war_with = ENG 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_peace_can_commence_tt
			country_event = { id = LH.269 days = 2 }
		}
	}
	
	focus = {
		id = HUN_ban_right_wing_ministers_1
		icon = GFX_focus_generic_anti_fascist_diplomacy
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_allow_left_wing_ministers_1}
		x = 1
		y = 1
		relative_position_id = HUN_allow_left_wing_ministers_1
		
		cost = 5


		available = {
			has_country_flag = HUN_lakatos_prime_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = fascism popularity = -0.1 }
		}
	}
	
	
	focus = {
		id = HUN_continue_klebelsberg_1
		icon = GFX_focus_research2
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = {focus = HUN_hold_crown_council_1 }
		#prerequisite = {focus = HUN_a_western_approach_1 }
		x = 0
		y = 2
		relative_position_id = HUN_hold_crown_council_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			custom_effect_tooltip = HUN_klebelsberg_tt
			
			hidden_effect = {
				add_ideas = HUN_klebelsberger_footsteps
			}
		}
	}
	
	focus = {
		id = HUN_unite_the_country_1
		icon = GFX_focus_hun_united_nation
		prerequisite = {focus = HUN_land_reform_monarchy_1 }
		prerequisite = {focus = HUN_continue_klebelsberg_1  }
		x = -2
		y = 1
		relative_position_id = HUN_fund_the_working_class_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.05
			add_political_power = 100
			hidden_effect = {
				set_temp_variable = {
					var = fascist_pop
					value = party_popularity@fascism
				}
				set_temp_variable = {
					var = democ_pop
					value = party_popularity@democratic
				}
				
				multiply_temp_variable = {
					var = fascist_pop
					value = 0.5
				}
				
				multiply_temp_variable = {
					var = democ_pop
					value = 0.5
				}
				
				add_to_temp_variable = {
					var = fascist_pop
					value = democ_pop
				}
			
			}
			add_popularity = {
				ideology = neutrality popularity = fascist_pop
			}
		}
	}
	
	
	focus = {
		id = HUN_teach_holy_crown_1
		icon = GFX_focus_hun_elect_a_king
		prerequisite = {focus = HUN_unite_the_country_1 }
		x = 0
		y = 1
		relative_position_id = HUN_unite_the_country_1
		
		cost = 5


		available = {
			
			has_government = neutrality
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = neutrality popularity = 0.10 }
			add_war_support = 0.1
			add_ideas = HUN_holy_crown_precept
		}
	}
	
	focus = {
		id = HUN_bulwark_of_Catholicism_1_focus
		icon = GFX_focus_por_concordat
		dynamic = yes
		prerequisite = {focus = HUN_teach_holy_crown_1 }
		x = 0
		y = 1
		relative_position_id = HUN_teach_holy_crown_1
		
		cost = 10


		available = {
			#if = {
			#	limit = { has_completed_focus = HUN_restore_first_empire_1 }
			#	has_country_flag = HUN_empire_restored_flag
			#}
			#if = {
			#	limit = { has_completed_focus = HUN_viribus_unitis_1 }
			#	OR = {
			#		has_country_flag = HUN_dualism_embraced_flag
			#		has_country_flag = HUN_trialism_embraced_flag
			#	}
			#}
			#if = {
			#	limit = { has_completed_focus = HUN_imperial_federation_1 }
			#	has_country_flag = HUN_confederacy_announced_flag
			#}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_bulwark_of_Catholicism_1
			if = {
				limit = { has_completed_focus = HUN_restoration_aus_hun_1 }
				set_country_flag = HUN_concordat_ready_flag
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_all_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_5_construction = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_claim_the_heritage_of_corvinus_1
		icon = GFX_focus_eng_god_save_the_king
		prerequisite = { focus = HUN_bulwark_of_Catholicism_1_focus }
		x = 1
		y = 1
		relative_position_id = HUN_bulwark_of_Catholicism_1_focus
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_claim = 4
			add_state_claim = 81
			add_state_claim = 46
			add_state_claim = 66
			add_state_claim = 72
			add_state_claim = 762
			add_state_claim = 67
			add_state_claim = 74
			add_state_claim = 75
		}
	}
	
	focus = {
		id = HUN_claim_the_heritage_of_louis_1
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = HUN_bulwark_of_Catholicism_1_focus }
		x = -1
		y = 1
		relative_position_id = HUN_bulwark_of_Catholicism_1_focus
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_claim = 117
			add_state_claim = 156
			add_state_claim = 88
			add_state_claim = 89
			add_state_claim = 91
		}
	}
	
	focus = {
		id = HUN_claim_the_heritage_of_andrew_1
		icon = GFX_goal_demand_sudetenland
		prerequisite = { focus = HUN_claim_the_heritage_of_corvinus_1 }
		prerequisite = { focus = HUN_claim_the_heritage_of_louis_1 }
		x = 1
		y = 1
		relative_position_id = HUN_claim_the_heritage_of_louis_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_claim = 455
			add_state_claim = 454
		}
	}
	
	focus = {
		id = HUN_regnum_marianum_1
		icon = GFX_focus_up_joan_of_arc
		#prerequisite = { focus = HUN_teach_holy_crown_1 }
		prerequisite = { focus = HUN_claim_the_heritage_of_andrew_1}
		x = 0
		y = 1
		relative_position_id = HUN_claim_the_heritage_of_andrew_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_regnum_marianum_tt
		}
	}
	
	focus = {
		id = HUN_proclaim_apostolic_kingdom_1
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = HUN_regnum_marianum_1 }
		#prerequisite = { focus = HUN_revenge_mohacs_1 }
		x = 0
		y = 1
		relative_position_id = HUN_regnum_marianum_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_call_for_a_revisionist_king_1}
				add_country_leader_trait = the_sacred_king
			}
			
			swap_ideas = {
				remove_idea = HUN_bulwark_of_Catholicism_2
				add_idea = HUN_bulwark_of_Catholicism_3
			}
		}
	}
	
	
	
	
	
	
	
	focus = {
		id = HUN_alliance_prime_minister_1
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = { focus = HUN_our_old_friends_1 }
		prerequisite = { focus = HUN_continue_klebelsberg_1 }
		x = 0
		y = 1
		relative_position_id = HUN_continue_klebelsberg_1
		
		cost = 3


		available = {
			#NOT = { has_completed_focus = HUN_join_comis_1}
			NOT = { has_completed_focus = HUN_join_axi_1 }
			has_government = neutrality
			has_completed_focus = HUN_a_western_approach_1
			OR = {
				has_country_flag = HUN_daranyi_prime_flag
				has_country_flag = HUN_bethlen_prime_flag
				has_country_flag = HUN_szell_prime_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_country_flag = HUN_bethlen_prime_flag }
				set_rule = { can_create_factions = yes } 
				create_faction = HUN_BETHLEN_FACTION
			}
			else_if = {
				limit = { has_country_flag = HUN_szell_prime_flag }
				add_popularity = { ideology = democratic popularity = 0.05}
				add_political_power = 50
				add_opinion_modifier = { 
					target = ENG
					modifier = HUN_hungarian_diplomats
				}
				reverse_add_opinion_modifier = { 
					target = ENG
					modifier = HUN_hungarian_diplomats
				}
				add_opinion_modifier = { 
					target = FRA
					modifier = HUN_hungarian_diplomats
				}
				reverse_add_opinion_modifier = { 
					target = FRA
					modifier = HUN_hungarian_diplomats
				}
			}
			else_if = {
				limit = { has_country_flag = HUN_daranyi_prime_flag }
				set_rule = { can_create_factions = yes } 
				create_faction = HUN_DARANYI_FACTION
			}
		}
	}
	
	focus = {
		id = HUN_invite_alliance_members_1
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = HUN_alliance_prime_minister_1}
		#prerequisite = { focus = HUN_alliance_prime_minister_1}
		x = 0
		y = 1
		relative_position_id = HUN_alliance_prime_minister_1
		
		cost = 3


		available = {
		
			has_government = neutrality
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_country_flag = HUN_bethlen_prime_flag }
				set_rule = { can_create_factions = yes } 
				ITA = { country_event = generic.5 }
				SOV = { country_event = generic.5 }
			}
			else_if = {
				limit = { has_country_flag = HUN_szell_prime_flag }
				if = {
					limit = {
						ENG = {
							has_government = democratic
							is_faction_leader = yes
							not = { has_war_with = ROOT }
						}
					}
					ENG = { country_event = generic.2 }
				}
				else = {
					get_best_alliance_match_democratic_effect = yes
					var:best_leader = {
						country_event = generic.2
					}
				}
			}
			else_if = {
				limit = { has_country_flag = HUN_daranyi_prime_flag }
				ITA = { country_event = generic.5 }
				YUG = { country_event = generic.5 }
				POL = { country_event = generic.5 }
			}
		}
	}
	
	focus = {
		id = HUN_alliance_research_collaboration_1
		icon = GFX_goal_continuous_research
		prerequisite = { focus = HUN_invite_alliance_members_1}
		#prerequisite = { focus = HUN_alliance_prime_minister_1}
		x = -1
		y = 1
		relative_position_id = HUN_invite_alliance_members_1
		
		cost = 3


		available = {
		
			has_government = neutrality
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_to_tech_sharing_group = research_allies_monarchy
			every_country = {
				limit = { is_in_faction_with = ROOT }
				add_to_tech_sharing_group = research_allies_monarchy
			}
		}
	}
	
	focus = {
		id = HUN_reinstate_osiseg_1
		icon = GFX_focus_generic_treaty
		mutually_exclusive = { focus = HUN_exalt_tripartitum_1 }
		prerequisite = { focus = HUN_end_prime_ministry_1 }
		prerequisite = { focus = HUN_idolize_medieval_ideals_1	}
		x = -3
		y = 1
		relative_position_id = HUN_end_prime_ministry_1
		
		cost = 10


		available = {
			has_country_flag = HUN_hungarian_monarchy_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			
			add_political_power = 200
			
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HUN_lajos_remenyi_schneller
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HUN_zoltan_tildy
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HUN_lajos_szasz
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HUN_tasnadi_andras
			custom_effect_tooltip = remove_political_advisor
			show_ideas_tooltip = HUN_homan_balint
			custom_effect_tooltip = HUN_no_more_fascists_tt
			
			hidden_effect = {
				if = {
					limit = { has_idea = HUN_lajos_remenyi_schneller }
					remove_ideas = HUN_lajos_remenyi_schneller
				}
				if = {
					limit = { has_idea = HUN_zoltan_tildy }
					remove_ideas = HUN_zoltan_tildy
				}
				if = {
					limit = { has_idea = HUN_lajos_szasz }
					remove_ideas = HUN_lajos_szasz
				}
				if = {
					limit = { has_idea = HUN_tasnadi_andras }
					remove_ideas = HUN_tasnadi_andras
				}
				if = {
					limit = { has_idea = HUN_homan_balint }
					remove_ideas = HUN_homan_balint
				}
				
			}
		}
	}
	
	focus = {
		id = HUN_exalt_tripartitum_1
		icon = GFX_focus_CZE_german_puppet
		mutually_exclusive = { focus = HUN_reinstate_osiseg_1 }
		prerequisite = { focus = HUN_end_prime_ministry_1 focus = HUN_a_western_approach_1}
		x = 1
		y = 1
		relative_position_id = HUN_end_prime_ministry_1
		
		cost = 5


		available = {
			NOT = {
				has_country_flag = HUN_august_chosen_flag
			}
			has_country_flag = HUN_hungarian_monarchy_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.1
			if = {
				limit = { has_idea = HUN_hungarian_monarch_4 }
				swap_ideas = { remove_idea = HUN_hungarian_monarch_4 add_idea = HUN_hungarian_monarch_6 }
			}
			else_if = {
				limit = { has_idea = HUN_hungarian_monarch_5 }
				swap_ideas = { remove_idea = HUN_hungarian_monarch_5 add_idea = HUN_hungarian_monarch_7 }
			}
			custom_effect_tooltip = HUN_tripartitum_tt
		}
	}
	
	
	focus = {
		id = HUN_jerusalem_1
		icon = GFX_focus_up_joan_of_arc
		prerequisite = { focus = HUN_reinstate_osiseg_1 }
		#prerequisite = { focus = HUN_reinstate_osiseg_1 }
		x = 0
		y = 1
		relative_position_id = HUN_reinstate_osiseg_1
		
		cost = 10


		available = {
			any_state = {
				is_controlled_by = HUN
				is_coastal = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			ENG = {country_event = { id = LH.51 }}
		}
	}
	
	focus = {
		id = HUN_our_old_friends_1
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = HUN_reinstate_osiseg_1 focus = HUN_exalt_tripartitum_1 }
		prerequisite = { focus = HUN_continue_klebelsberg_1 }
		mutually_exclusive = { focus = HUN_alliance_prime_minister_1 }
		x = -1
		y = 3
		relative_position_id = HUN_exalt_tripartitum_1
		
		cost = 5


		available = {
			is_in_faction = no
			#NOT = { has_completed_focus = HUN_join_comis_1}
			NOT = { has_completed_focus = HUN_join_axi_1 }
			NOT = { has_completed_focus = HUN_accept_the_habsburg_prince_1 }
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_rule = { can_create_factions = yes } 
			#if = {
			#	limit = {has_completed_focus = HUN_restore_first_empire_1}
			#	create_faction = HUN_AUSTRIA_EMPIRE_FACTION
			#}
			#else_if = {
			#	limit = {has_completed_focus = HUN_viribus_unitis_1}
			#	create_faction = HUN_HABSBURG_FACTION
			#}
			#else = {
			create_faction = HUN_MONARCHY_FACTION
			#}
		}
	}
	
	
	focus = {
		id = HUN_offer_poland_protection_1
		icon = GFX_goal_tripartite_pact
		prerequisite = { focus = HUN_our_old_friends_1 }
		x = 1
		y = 1
		relative_position_id = HUN_our_old_friends_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			POL = { country_event = LH_POL.1 }
		}
	}
	
	focus = {
		id = HUN_seek_union_with_poland_1
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = HUN_offer_poland_protection_1 focus = HUN_invite_alliance_members_1 }
		x = 0
		y = 2
		relative_position_id = HUN_offer_poland_protection_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				#limit = { has_completed_focus = HUN_strengthen_legitimist_sentiment }
				POL = { country_event = generic.5 }
			}
			else = {
				POL = { country_event = LH.250 }
			}
		}
	}
	
	focus = {
		id = HUN_seek_reunion_with_croatia_1
		icon = GFX_focus_YUG_banovina_of_croatia
		prerequisite = { focus = HUN_our_old_friends_1}
		#prerequisite = { focus = HUN_bulwark_of_Catholicism_1 }
		mutually_exclusive = { focus = HUN_yug_eternal_friendship_1 }
		x = -3
		y = 1
		relative_position_id = HUN_our_old_friends_1
		
		cost = 10


		available = {
			NOT = {
				has_completed_focus = HUN_march_to_shore_1
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = {country_event = LH.13 }
		}
	}
	
	focus = {
		id = HUN_yug_eternal_friendship_1
		icon = GFX_focus_invite_yugoslavia
		prerequisite = { focus = HUN_our_old_friends_1 }
		mutually_exclusive = { focus = HUN_seek_reunion_with_croatia_1 }
		x = -1
		y = 1
		relative_position_id = HUN_our_old_friends_1
		
		cost = 10


		available = {
			NOT = {
				has_completed_focus = HUN_march_to_shore_1
			}
		}
		
		bypass = {
			has_full_control_of_state = 974
			has_country_flag = HUN_yug_friendship_pact_signed
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = {
				country_event = generic.5
			}
			clr_country_flag = HUN_wants_croatia_flag
			custom_effect_tooltip = HUN_revision_of_croatia_no_longer_possible_tt
		}
	}
	
	focus = {
		id = HUN_invite_our_neighbours_to_join_under_the_holy_crown_1
		icon = GFX_focus_hun_elect_a_king
		prerequisite = { focus = HUN_yug_eternal_friendship_1 focus = HUN_seek_reunion_with_croatia_1 }
		x = 0
		y = 1
		relative_position_id = HUN_seek_reunion_with_croatia_1
		
		cost = 4


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			every_other_country = {
				limit = {
					NOT = { tag = HUN }
					NOT = { has_war_with = HUN }
					is_in_faction = no
					is_subject = no
					capital_scope = {
						is_on_continent = europe
					}
					has_government = neutrality 
					is_neighbor_of = HUN
				}
				country_event = generic.5
			}
		}
	}
	
	
	focus = {
		id = HUN_support_greater_bul_1
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = HUN_yug_eternal_friendship_1 focus = HUN_seek_reunion_with_croatia_1 focus = HUN_offer_poland_protection_1 focus = HUN_address_german_monarchists_1 }
		x = -2
		y = 1
		relative_position_id = HUN_offer_poland_protection_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			BUL = {
				country_event = { id = LH.293 days = 3 }
			}
		}
	}
	
	focus = {
		id = HUN_collaborate_with_Tsar_1
		icon = GFX_goal_generic_improve_relations
		prerequisite = { focus = HUN_support_greater_bul_1}
		x = 0
		y = 1
		relative_position_id = HUN_support_greater_bul_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
	
		}

		completion_reward = {
			BUL = { country_event = generic.5 }
		}
	}
	
	
	focus = {
		id = HUN_revenge_mohacs_1
		icon = GFX_focus_generic_attack_turkey
		mutually_exclusive = { focus = HUN_cure_the_sick_man_of_europe_1 }
		prerequisite = { focus = HUN_seek_union_with_poland_1 focus = HUN_collaborate_with_Tsar_1 }
		prerequisite = { focus = HUN_bulwark_of_Catholicism_1_focus }
		x = 3
		y = 1
		relative_position_id = HUN_collaborate_with_Tsar_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = TUR
				expire = 0
				#generator = { 45 }
			}
		}
	}
	
	focus = {
		id = HUN_cure_the_sick_man_of_europe_1
		icon = GFX_focus_generic_befriend_turkey
		mutually_exclusive = { focus = HUN_revenge_mohacs_1 }
		prerequisite = { focus = HUN_seek_union_with_poland_1 focus = HUN_collaborate_with_Tsar_1}
		#prerequisite = { focus = HUN_teach_holy_crown_1}
		x = -5
		y = 0
		relative_position_id = HUN_revenge_mohacs_1
		
		cost = 3


		available = {
			is_puppet = no 
			NOT = { has_war_with = TUR }
			TUR = {
				exists = yes
				is_puppet = no
			}

			TUR = {
				custom_trigger_tooltip = {
					tooltip = GER_alone_or_peace_faction_tt
					is_alone_or_in_faction_at_peace_with_GER = yes
				}
			}
		}
		
		bypass = {
			OR = {
				TUR = { is_in_faction_with = HUN }
				NOT = { country_exists = TUR }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			TUR = {
				add_opinion_modifier = { target = HUN modifier = HUN_TUR_diplomacy_focus }
				if = {
					limit = {
						TUR = {
							is_ai = yes
							NOT = {
								is_in_faction = yes
							}
							NOT = {
								is_puppet = yes
							}
							has_government = neutrality
						}
					}
					TUR = {
						country_event = { id = generic.5 days = 210 }
					}
					add_ai_strategy = {
						type = alliance
						id = "HUN"
						value = 200
					}
				}
				
				add_timed_idea = { idea = neutrality_influence days = 1095 }
		
				
				country_event = { id = generic.1 }
			}
		}
	}
	
	
	############################
	######### Regency ##########
	############################
	
	focus = {
		id = HUN_strengthen_the_regency_1
		icon = GFX_focus_generic_military_dictatorship
		search_filters = { FOCUS_FILTER_HISTORICAL }
		mutually_exclusive = { focus = HUN_strengthen_monarch_1 }
		prerequisite = { focus = HUN_continue_bethlens_consolidation_1 focus = HUN_empower_the_far_right_1}
		x = 12
		y = 1
		relative_position_id = HUN_continue_bethlens_consolidation_1
		
		cost = 5


		available = {
			if = {
				limit = { has_completed_focus = HUN_empower_the_far_right_1 }
				has_country_flag = HUN_germany_leaning
			}
			NOT = {
				OR = {
					has_completed_focus = HUN_side_with_the_workers
					has_completed_focus = HUN_a_new_middle_class
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
		}
		
		
	}
	
	focus = {
		id = HUN_consolidate_horthys_power_1
		icon = GFX_focus_hun_take_control
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_strengthen_the_regency_1 }
		x = -1
		y = 1
		relative_position_id = HUN_strengthen_the_regency_1
		
		cost = 8


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 120
			#add_popularity = { ideology = neutrality popularity = -0.15 }
			swap_ideas = {
				remove_idea = HUN_hungarian_regency_neut
				add_idea = HUN_hungarian_regency_neut_2
			}
			custom_effect_tooltip = HUN_unlocks_regency_decisions_tt
		}
	}
	
	focus = {
		id = HUN_the_hungarian_brothers_alliance_1
		icon = GFX_goal_generic_national_unity
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_strengthen_the_regency_1 }
		x = 2
		y = 1
		relative_position_id = HUN_strengthen_the_regency_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_brothers_alliance days = 365} 
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_turani_vadaszok_1
		icon = GFX_focus_focus_fra_maquis
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_the_hungarian_brothers_alliance_1 focus = HUN_consolidate_horthys_power_1 }
		#prerequisite = { focus = HUN_the_hungarian_brothers_alliance_1 }
		x = 0
		y = 1
		relative_position_id = HUN_the_hungarian_brothers_alliance_1
		
		cost = 10


		available = {
			OR = {
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
				has_idea = HUN_treaty_of_triannon_2
			}
			has_country_flag = HUN_removed_move_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_turani_vadaszok_tt
			hidden_effect = {
				add_ideas = HUN_turani_vadaszok_idea
			}
			add_manpower = 10000
		}
	}
	
	focus = {
		id = HUN_expand_vitezi_rend_1
		icon = GFX_focus_hun_vitezi_rend
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_consolidate_horthys_power_1 }
		x = 1
		y = 1
		relative_position_id = HUN_consolidate_horthys_power_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			every_unit_leader = {
				limit = {
					has_trait = horthyist
				}
				add_planning = 1
				add_coordination = 1
				add_maneuver = 1
				gain_xp = 500
			}
			custom_effect_tooltip = HUN_new_commanders_horthyists_tt
			#add_war_support = 0.05
		}
	}
	
	focus = {
		id = HUN_reelect_parliament_1
		icon = GFX_focus_SWI_dissolve_the_federal_council
		prerequisite = { focus = HUN_strengthen_the_regency_1 }
		x = -3
		y = 1
		relative_position_id = HUN_strengthen_the_regency_1
		
		cost = 5


		available = {
			has_idea = HUN_gyula_gombos_de_jakfa
			has_country_flag = HUN_law_xix_enacted_flag
		}
		
		bypass = {
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			add_timed_idea = { idea = HUN_government_down days = 30 }
			country_event = LH.119 
			hidden_effect = {
				set_country_flag = new_prime_minister_36
				set_country_flag = gombos_death 
				clr_country_flag = HUN_gombos_alive
				retire_character = HUN_gyula_gombos_de_jakfa
			}
			set_country_flag = {
				flag = HUN_dismissed_government_flag
				days = 10
				value = 1
			}
		}
	}
	
	focus = {
		id = HUN_arrest_political_extremists_1
		icon = GFX_focus_hun_arrest_estremists
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_consolidate_horthys_power_1 }
		x = -1
		y = 1
		relative_position_id = HUN_consolidate_horthys_power_1
		
		cost = 7


		available = {
			has_country_flag = HUN_boszormeny_coup_flag
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			country_event = LH.328
		}
	}
	
	focus = {
		id = HUN_assure_horthys_anglophile_intentions_1
		icon = GFX_focus_eng_the_sun_never_sets
		prerequisite = { focus = HUN_arrest_political_extremists_1 }
		prerequisite = { focus = HUN_reelect_parliament_1 }
		x = -1
		y = 1
		relative_position_id = HUN_arrest_political_extremists_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			### TODO: TIE INTO ECONOMIC TRADE DECISIONS
			add_opinion_modifier = { target = ENG modifier = HUN_political_cooperation }
			reverse_add_opinion_modifier = { target = ENG modifier = HUN_political_cooperation }
			add_relation_modifier = {
				target = ENG
				modifier = HUN_hungarian_friendship
			}
			remove_country_leader_trait = fascist_sympathies
		}
	}
	
	focus = {
		id = HUN_announce_horthys_permanent_regency_1
		icon = GFX_focus_rom_abdicate
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_expand_vitezi_rend_1 }
		prerequisite = { focus = HUN_arrest_political_extremists_1 }
		x = 1
		y = 2
		relative_position_id = HUN_consolidate_horthys_power_1
		
		cost = 10


		available = {
			has_country_flag = HUN_law_xix_enacted_flag
			has_country_flag = HUN_removed_move_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			remove_ideas = HUN_monarchy_without_monarch
			if = {
				limit = { has_idea = HUN_hungarian_regency_neut}
				remove_ideas = HUN_hungarian_regency_neut
			}
			custom_effect_tooltip = HUN_regency_decisions_not_active_anymore_tt
			hidden_effect = {
				set_rule = { can_join_factions = no }
			}
			add_political_power = 100
		}
	}
	
	
	
	############################
	##### Renounce Trianon #####
	############################
	
	focus = {
		id = HUN_renounce_trianon_1
		icon = GFX_focus_renounce_the_treaty_of_trianon
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_crown_king_1 focus = HUN_announce_horthys_permanent_regency_1 }
		x = 8
		y = 2
		relative_position_id = HUN_crown_king_1
		
		cost = 5


		available = {
			OR = {
				OR = {
				neutrality > 0.50
				has_government = fascism
				fascism > 0.5
				}
			}
			is_subject = no
		}
		
		bypass = {
			OR = {
				has_idea = HUN_treaty_of_triannon_3
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_threat = 1
			if = {
				limit = { 
					FRA = { 
						has_completed_focus = FRA_strengthen_the_little_entente 
						exists = yes
						is_subject = no
					} 

				}
				FRA = { country_event = { id = DOD_hungary.40 } }
			}
			if = {
				limit = { 
					OR = {
						NOT = { FRA = { has_completed_focus = FRA_strengthen_the_little_entente } } 
						FRA = { exists = no }
						FRA = { is_subject = yes }
					}
				} #Romania gets the event if France not engaged in Balkans
				ROM = { country_event = { id = DOD_hungary.40 } }	 
			}
			if = {
				limit = {
					has_idea = HUN_treaty_of_triannon_3
				}
				remove_ideas = HUN_treaty_of_triannon_3
			}
			if = {
				limit = {
					has_idea = HUN_treaty_of_triannon_2
				}
				remove_ideas = HUN_treaty_of_triannon_2
			}
			#if = {
			#	limit = { has_completed_focus = HUN_elect_fascist_king_1 }
			#	hidden_effect = { retire_country_leader = yes }
			#	set_politics = {
			#		ruling_party = fascism
			#		elections_allowed = no
			#	}
			#}
		}
	}
	
	
	
	focus = {
		id = HUN_reaffirm_claims_1
		icon = GFX_focus_HUN_nationalism
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_renounce_trianon_1  }
		
		x = 1
		y = 1
		relative_position_id = HUN_renounce_trianon_1
		
		cost = 10


		available = {
			is_puppet = no
			hidden_trigger = {
				NOT = {
					has_completed_focus = HUN_populist_habsburg_1
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_core = 76
			add_state_core = 73
			#add_state_core = 83
			#add_state_core = 84
			add_state_core = 664
			add_state_core = 45
			#add_state_core = 764
			add_state_core = 971
			#add_state_core = 82
			add_state_core = 978
			
			custom_effect_tooltip = HUN_more_territories_core_tt
		}
	}
	
	focus = {
		id = HUN_demand_burgenland_1
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_reaffirm_claims_1  }
		
		x = 2
		y = 1
		relative_position_id = HUN_reaffirm_claims_1
		
		cost = 5


		available = {
			if = {
				limit = { AUS = { has_full_control_of_state = 978 } }
				has_army_manpower = { size > 120000 }
			}
			else = {
				limit = { AUS = { has_full_control_of_state = 978 } }
				has_army_manpower = { size > 170000 }
			}
		}
		
		bypass = {
			has_full_control_of_state = 978
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			every_country = {
				limit = {
					NOT = { tag = HUN }
					has_full_control_of_state = 978
				}
				country_event = { id = LH.262 days = 2 }
			}
			custom_effect_tooltip = HUN_demands_tt
		}
	}

	focus = {
		id = HUN_demand_vojvodin_1
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_reaffirm_claims_1 }
		
		x = 0
		y = 1
		relative_position_id = HUN_reaffirm_claims_1
		
		cost = 5


		available = {
			strength_ratio = { tag = YUG ratio > 0.75 }
			has_army_manpower = { size > 175000 }
		}
		
		bypass = {
			OR = {
				YUG = {
					exists = no
				}
				owns_state = 45
				45 = {
					OWNER = {
						is_in_faction_with = ROOT
					}
				}
				45 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
			}
			has_completed_focus = HUN_claims_on_yug_1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					OR = {
						has_war_with = YUG
						45 = {
							NOT = {
								is_owned_by = YUG
							}
						}
					}
				}
				45 = { add_core_of = HUN }
				else = {
					if = {
						limit = {
							YUG = { 
								is_subject = yes 
								owns_state = 45
							}
						}
						create_wargoal = {
							type = take_state_focus
							target = YUG
							expire = 0
							generator = { 45 }
						}
						else = {
							if = {
								limit = {
									45 = { is_owned_by = YUG }
								}
								YUG = { country_event = DOD_hungary.90 }
							}
						}
					}
				}
			}
			hidden_effect = {
				news_event = { id = news.306 }
			}
		}
	}

	focus = {
		id = HUN_demand_slovakia_1
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = HUN_reaffirm_claims_1 }
		
		x = -2
		y = 1
		relative_position_id = HUN_reaffirm_claims_1
		
		cost = 5


		available = {
			if = {
				limit = { 
					country_exists = CZE 
					664 = { is_owned_by = CZE }
				}
				strength_ratio = { tag = CZE ratio > 0.75 }
			}
			if = {
				limit = { 
					country_exists = SLO 
					664 = { is_owned_by = SLO }
				}
				strength_ratio = { tag = SLO ratio > 0.75 }
			}
				
			
			has_army_manpower = { size > 120000 }
		}
		
		bypass = {
			OR = {
				owns_state = 664
				664 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				AND = {
					NOT = { CZE = { owns_state = 664 } }
					NOT = { SLO = { owns_state = 664 } }
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					CZE = {
						exists = yes 
						owns_state = 664
					}
				}
				if = {
					limit = {
						CZE = { is_subject = yes }
					}
					create_wargoal = {
						type = take_state_focus
						target = CZE
						expire = 0
						generator = { 664 }
					}
					else = {
						CZE = { country_event = DOD_hungary.80 }
					}
				}
			}
			if = {
				limit = {
					664 = { is_owned_by = POL } #exchanged Danzig for Slovakia
				}
				create_wargoal = {
					type = take_state_focus
					target = POL
					expire = 0
					generator = { 664 }
				}
			}
			if = {
				limit = {
					SLO = { 
						exists = yes 
						owns_state = 664
					}
				}
				SLO = { country_event = DOD_hungary.80 }
			}
			set_country_flag = HUN_slovakia_demanded
		}
	}
	

	focus = {
		id = HUN_demand_transylvan_1
		icon = GFX_focus_YUG_autonomous_transylvania
		prerequisite = { focus = HUN_demand_vojvodin_1 focus = HUN_demand_slovakia_1}
		prerequisite = {  }
		
		x = 3
		y = 1
		relative_position_id = HUN_demand_slovakia_1
		
		cost = 5


		available = {
			ROM = {
				controls_state = 76
				controls_state = 83
				controls_state = 84
			}
			is_puppet = no
			NOT = {
				is_in_faction_with = ROM
			}
			NOT = {
				has_war_with = ROM
			}
			strength_ratio = { tag = ROM ratio > 0.66 }
			has_army_manpower = { size > 200000 }
		}
		
		bypass = {
			OR = {
				664 = {
					OWNER = {
						has_war_with = ROOT
					}
				}
				NOT = {
					ROM = {
						controls_state = 76
						controls_state = 83
						controls_state = 84
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt		
			country_event = LH.143
			hidden_effect = {
				news_event = { id = news.300 }
			}
			set_country_flag = HUN_transylvania_demanded
		}
	}
	
	focus = {
		id = HUN_claim_slovakia_overlordship_1
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = HUN_demand_slovakia_1 }
		
		x = 1
		y = 1
		relative_position_id = HUN_demand_slovakia_1
		
		cost = 5


		available = {
			OR = {
				SLO = {
					exists = yes
					NOT = { is_puppet_of = HUN }
				}
				any_other_country = {
					owns_state = 70
					owns_state = 71
					#owns_state = 73
					NOT = {
						has_war_with = HUN
					}
				}
			}
			if = {
				limit = { country_exists = SLO }
				strength_ratio = { tag = SLO ratio > 0.75 }
				NOT = { has_war_with = SLO }
			}
			has_army_manpower = { size > 175000 }
		}
		
		bypass = {
			OR = {
				SLO = {
					is_subject_of = HUN
				}
				AND = {
					owns_state = 70
					owns_state = 71
					owns_state = 72
					owns_state = 73
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_demands_tt
			if = {
				limit = {
					70 = {
						controller = {
							NOT = {
								has_war_with = ROOT
							}
						}
					}
					SLO = { exists = no } 
					any_other_country = {
						NOT = {
							owns_state = 70
							owns_state = 71
							owns_state = 72
							owns_state = 73
						}
					}
				}
				70 = {
					controller = {
						country_event = DOD_hungary.100
					}
				}
			}
			if = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = no
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { country_event = DOD_hungary.107 }
			}
			if = {
				limit = {
					SLO = {
						exists = yes
						is_puppet = yes
						NOT = {
							has_war_with = ROOT
						}
					}
				}
				SLO = { OVERLORD = { country_event = DOD_hungary.107 } }
			}
			hidden_effect = {
				news_event = { id = news.309 }
			}
		}
	}
	
	focus = {
		id = HUN_proclaim_greater_hun_1
		icon = GFX_focus_greater_hun
		#prerequisite = {  }
		prerequisite = { focus = HUN_demand_transylvan_1 focus = HUN_demand_slovakia_1 focus = HUN_demand_vojvodin_1 focus = HUN_demand_burgenland_1}
		#prerequisite = {  }
		x = -1
		y = 1
		relative_position_id = HUN_demand_transylvan_1
		
		cost = 5


		available = {
			OR = {
				has_idea = HUN_whole_nation_1
				has_idea = HUN_whole_nation_2
				has_idea = HUN_whole_nation_3
			}	
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			#custom_effect_tooltip = HUN_GREATER_tt
			set_cosmetic_tag = HUN_GREAT
			add_stability = 0.1
			hidden_effect = {
				news_event = { id = news.299 }
			}
			
			if = {
				limit = {
					has_idea = HUN_whole_nation_1
				}
				swap_ideas = {
					remove_idea = HUN_whole_nation_1
					add_idea = HUN_successfull_small_rev
				}
			}
			else_if = {
				limit = {
					has_idea = HUN_whole_nation_2
				}
				swap_ideas = {
					remove_idea = HUN_whole_nation_2
					add_idea = HUN_successfull_half_rev
				}
			}
			else_if = {
				limit = {
					has_idea = HUN_whole_nation_3
				}
				swap_ideas = {
					remove_idea = HUN_whole_nation_3
					add_idea = HUN_successfull_full_rev
				}
			}
			remove_ideas = HUN_visions_of_greater_hungary_idea
			
			### CHANGE CITY NAMES ###
			
			if = { limit = { has_full_control_of_state = 73 } 
				set_province_name = {
					id = 3548
					name = CITY_3548
				}
			}
			if = { limit = { has_full_control_of_state = 73 } 
				set_province_name = {
					id = 11691
					name = CITY_11691
				}
			}
			if = { limit = { has_full_control_of_state = 71 } 
				set_province_name = {
					id = 3581
					name = CITY_3581
				}
			}
			if = { limit = { has_full_control_of_state = 70 } 
				set_province_name = {
					id = 11539
					name = CITY_11539
				}
				set_province_name = {
					id = 9692
					name = CITY_9692
				}
			}
			if = { limit = { has_full_control_of_state = 978 } 
				set_province_name = {
					id = 13238
					name = CITY_13238
				}
			}
			if = { limit = { has_full_control_of_state = 764 } 
				set_province_name = {
					id = 3614
					name = CITY_3614
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 6711
					name = CITY_6711
				}
			}
			if = { limit = { has_full_control_of_state = 84 } 
				set_province_name = {
					id = 690
					name = CITY_690
				}
			}
			if = { limit = { has_full_control_of_state = 82 } 
				set_province_name = {
					id = 9606
					name = CITY_9606
				}
			}
			if = { limit = { has_full_control_of_state = 45 } 
				set_province_name = {
					id = 619
					name = CITY_619
				}
			}
			if = { limit = { has_full_control_of_state = 664 } 
				set_province_name = {
					id = 6573
					name = CITY_6573
				}
			}
			if = { limit = { has_full_control_of_state = 84 } 
				set_province_name = {
					id = 6679
					name = CITY_6679
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 9672
					name = CITY_9672
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 6731
					name = CITY_6731
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 746
					name = CITY_746
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 9668
					name = CITY_9668
				}
			}
			if = { limit = { has_full_control_of_state = 76 } 
				set_province_name = {
					id = 3696
					name = CITY_3696
				}
			}
			if = { limit = { has_full_control_of_state = 45 } 
				set_province_name = {
					id = 3623
					name = CITY_3623
				}
			}
			if = { limit = { has_full_control_of_state = 764 } 
				set_province_name = {
					id = 11787
					name = CITY_11787
				}
			}
			if = { limit = { has_full_control_of_state = 971 } 
				set_province_name = {
					id = 6672
					name = CITY_6672
				}
			}
			if = { limit = { has_full_control_of_state = 70 } 
				set_province_name = {
					id = 11522
					name = CITY_11522
				}
			}
			if = { limit = { has_full_control_of_state = 71 } 
				set_province_name = {
					id = 581
					name = CITY_581
				}
			}
			if = { limit = { has_full_control_of_state = 664 } 
				set_province_name = {
					id = 11679
					name = CITY_11679
				}
			}
			if = { limit = { has_full_control_of_state = 82 } 
				set_province_name = {
					id = 3649
					name = CITY_3649
				}
			}
			if = { limit = { has_full_control_of_state = 82 } 
				set_province_name = {
					id = 662
					name = CITY_662
				}
			}
			if = { limit = { has_full_control_of_state = 84 } 
				set_province_name = {
					id = 676
					name = CITY_676
				}
			}
			if = { limit = { has_full_control_of_state = 84 } 
				set_province_name = {
					id = 11622
					name = CITY_11622
				}
			} 
			if = { limit = { has_full_control_of_state = 70 } 
				set_province_name = {
					id = 3537
					name = CITY_3537
				}
			} 
		}
	}
	
	
	
	
	
	
	
	
	############################
	##### Rome Protocols #######
	############################
	
	focus = {
		id = HUN_renew_rome_protocols_1
		icon = GFX_goal_generic_positive_trade_relations
		#mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		#prerequisite = { focus = HUN_renounce_trianon_1 }
		prerequisite = { focus = HUN_give_hejjas_absolute_power_1 }
		x = -1
		y = 2
		relative_position_id = HUN_give_hejjas_absolute_power_1
		
		cost = 10


		available = {
			#NOT = { has_completed_focus = HUN_germany_trade_deal_1 }
			NOT = { has_war_with = ITA }
			NOT = { has_war_with = AUS }
			ITA = {
				NOT = { has_war_with = AUS }
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
			AUS = {
				OR = {
					has_government = neutrality
					has_government = fascism
				}
			}
		
			has_government = fascism
	
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			AUS = {
				add_country_leader_role = {
					Character = AUS_kurt_schuschnigg
					Promote_leader = yes
					Country_leader = {
						ideology = gen_nazism
						expire = "1965.1.1.1"
						traits = {
							
						}
					}
				}
			}
		
			if = {
				limit = {
					country_exists = AUS
				}
				reverse_add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = AUS modifier = HUN_renew_the_rome_protocols }
			}
			if = {
				limit = {
					country_exists = ITA
				}
				reverse_add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
				add_opinion_modifier = { target = ITA modifier = HUN_renew_the_rome_protocols }
			}
			news_event = { id = news.312 }
			
			custom_effect_tooltip = LH_renew_rome_protocols_tt
			
			### SET TRADE DEAL ###
			
			if = {
				limit = {
					NOT = { has_completed_focus = HUN_meet_with_the_members_of_the_rongyos_garda }
				}
				HUN_set_trade_deal_ita = yes
			}
			else = {
				custom_effect_tooltip = HUN_trade_deal_intro_axis_rome_protocols
				HUN_set_trade_deal_ita = yes
			}
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_ita_trade_partner_flag
					}
				}
				HUN_remove_trade_deal_bonuses = yes
				HUN_reset_trade_deal_modifier = yes 
			}
			
		}
	}
	
	focus = {
		id = HUN_guarantee_austria_1
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = HUN_renew_rome_protocols_1 }
		x = -1
		y = 1
		relative_position_id = HUN_renew_rome_protocols_1
		
		cost = 5


		available = {

		}
		
		bypass = {
			4 = {
				NOT = { is_owned_by = AUS }
			}
			152 = {
				NOT = { is_owned_by = AUS }
			}
			153 = {
				NOT = { is_owned_by = AUS }
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			give_guarantee = AUS
			if = {
				limit = { has_country_flag = HUN_austria_refused_to_help_hungary_civil_war_flag }
				add_political_power = -150
			}
			
			
			hidden_effect = {
				AUS = {
					if = {
						limit = {
							NOT = { has_government = fascism }
						}
						set_politics = {
							ruling_party = fascism
							elections_allowed = no
						}
					}
					add_country_leader_role = {
						character = AUS_kurt_schuschnigg
						promote_leader = yes
						country_leader = {
							ideology = fascism_ideology
							expire = "1965.1.1.1"
							traits = {  }
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_protocol1_1
		icon = GFX_focus_generic_diplomatic_treaty
		prerequisite = { focus = HUN_renew_rome_protocols_1 }
		x = 2
		y = 1
		relative_position_id = HUN_renew_rome_protocols_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ITA = {
				add_stability = 0.1
			}
			AUS = {
				add_stability = 0.1
			}
			add_stability = 0.1
		}
	}
	
	focus = {
		id = HUN_alliance_italy_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_guarantee_austria_1 }
		prerequisite = { focus = HUN_protocol1_1 }
		x = -1
		y = 1
		relative_position_id = HUN_protocol1_1
		
		cost = 5


		available = {
			NOT = { has_war_with = ITA }
			is_subject = no
			is_in_faction = no
			ITA = {
				OR = {
					is_in_faction = no
					is_faction_leader = yes
				}
				is_subject = no
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					ITA = { is_in_faction = no }
				}
				HUN = {
					set_rule = { can_create_factions = yes }
					create_faction = HUN_PACT_OF_ROME_FACTION
					ITA = { 
						country_event = generic.5 
						add_ai_strategy = {
							type = alliance
							id = "HUN"
							value = 200
						}
					}
					if = {
						limit = {
							country_exists = AUS
						}
						AUS = {
							country_event = generic.5
						}
					}
				}
			}
			if = {
				limit = {
					ITA = { is_faction_leader = yes }
				}
				ITA = {
					country_event = generic.2
				}
			}
			if = {
				limit = {
					ITA = { is_in_faction_with = FRA }
				}
				FRA = {
					country_event = generic.2
				}
			}
			hidden_effect = {
				news_event = { id = news.313 }
			}
		}
	}
	
	focus = {
		id = HUN_joint_industrial_development_1
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_alliance_italy_1 }
		x = -2
		y = 1
		relative_position_id = HUN_alliance_italy_1
		
		cost = 10


		available = {
			is_in_faction = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_joint_development days = 365}
			every_other_country = {
				limit = { is_in_faction_with = ROOT }
				add_timed_idea = { idea = HUN_joint_development days = 365}
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_rebuild_austrias_industry_1
		icon = GFX_focus_generic_industry_2
		prerequisite = { focus = HUN_guarantee_austria_1 }
		x = 0
		y = 1
		relative_position_id = HUN_guarantee_austria_1
		
		cost = 5


		available = {

		}
		
		bypass = {
			NOT = {
				AUS = {
					exists = yes
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			AUS = {
				random_state = {
					limit = {
						has_state_flag = HUN_rebuild_austrias_industry_1_inf1
					}
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
				}
				
				random_state = {
					limit = {
						has_state_flag = HUN_rebuild_austrias_industry_1_inf2
					}
					add_building_construction = {
						type = infrastructure
						level = 3
						instant_build = yes
					}
				}
				
				random_state = {
					limit = {
						has_state_flag = HUN_rebuild_austrias_industry_1_inf3
					}
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
		}

		completion_reward = {
			AUS = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
				}
				
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_rebuild_austrias_industry_1_inf1
				}
				
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				

				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = HUN_rebuild_austrias_industry_1_inf2
				}
				
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
				}
				
				
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_rebuild_austrias_industry_1_inf3
				}
			
			}
		}
	}
	
	focus = {
		id = HUN_article2_1
		icon = GFX_focus_SOV_breadbasket_of_the_union
		prerequisite = { focus = HUN_protocol1_1 }
		prerequisite = { focus = HUN_alliance_italy_1 }
		x = 1
		y = 2
		relative_position_id = HUN_protocol1_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_all_tt = yes 
			HUN_add_4_consumer = yes
			HUN_add_5_construction = yes
			HUN_add_5_factory_output = yes
			
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
		}
	}
	
	focus = {
		id = HUN_technology_negotiations_1
		icon = GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = HUN_alliance_italy_1 }
		x = -3
		y = 6
		relative_position_id = HUN_alliance_italy_1
		
		cost = 10


		available = {
			OR = {
				AND = {
					is_in_faction_with = GER
					is_in_faction_with = ITA
				}
				AND = {
					is_in_faction_with = AUS
					is_in_faction_with = ITA
				}
			} 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_technology_sharing
			AUS = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
			ITA = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
			GER = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
		}
	}
	
	focus = {
		id = HUN_article3_1
		icon = GFX_goal_generic_positive_trade_relations
		prerequisite = { focus = HUN_article2_1 }
		x = 2
		y = 2
		relative_position_id = HUN_article2_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_article3_reward_tt
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes
			HUN_add_3_construction = yes
			HUN_add_2_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_propose_bulgarian_ally_1
		icon = GFX_focus_BUL_promote_bulgarian_nationalism
		prerequisite = { focus = HUN_article2_1 }
		prerequisite = { focus = HUN_alliance_italy_1 }
		x = -1
		y = 2
		relative_position_id = HUN_alliance_italy_1
		
		cost = 5


		available = {
			BUL = {
				is_in_faction = no
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			BUL = { country_event = generic.5 }
		}
	}
	
	focus = {
		id = HUN_naval_expertise_from_italy_1
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = HUN_technology_negotiations_1 }
		x = 1
		y = 1
		relative_position_id = HUN_technology_negotiations_1
		
		cost = 10


		available = {
			is_in_faction_with = ITA
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {	
			custom_effect_tooltip = HUN_naval_expertise_decision_unlock_tt
			add_doctrine_cost_reduction = {
				name = HUN_italian_naval_expertise
				cost_reduction = 0.5
				uses = 4
				category = naval_doctrine
			}
		}
	}
	
	focus = {
		id = HUN_ita_hun_naval_academy_1
		icon = GFX_goal_generic_navy_doctrines_tactics
		prerequisite = { focus = HUN_naval_expertise_from_italy_1 }
		x = 0
		y = 1
		relative_position_id = HUN_naval_expertise_from_italy_1
		
		cost = 5


		available = {
			is_in_faction_with = ITA
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_ita_hun_academy_tt
		}
	}
	
	focus = {
		id = HUN_austrian_mountaineers_1
		icon = GFX_goal_generic_defence
		prerequisite = { focus = HUN_technology_negotiations_1 }
		x = -1
		y = 1
		relative_position_id = HUN_technology_negotiations_1
		
		cost = 6


		available = {
			OR = {
				AUS = {
					has_full_control_of_state = 152
					has_full_control_of_state = 153
				}
				GER = {
					has_full_control_of_state = 152
					has_full_control_of_state = 153
				}
			}
		}
		
		bypass = {
			has_completed_focus = HUN_populist_habsburg_1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = ROM_vanatori_de_munte_unit_tt
			hidden_effect = {
				division_template = {
					name = "Osztrák Hegyi Vadászok"
					priority = 2
					division_names_group = HUN_MTN_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
			
	    	   		 	mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
			
	    	   		 	mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
						mountaineers = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
				}
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 155 }
					create_unit = {
						division = "name = \"Osztrák Hegyi Vadászok\" division_template = \"Osztrák Hegyi Vadászok\" start_experience_factor = 1.0" 
						owner = HUN
					}
				}
				AUS = {
					division_template = {
					name = "Österreichische Alpenjäger"
					priority = 2
					division_names_group = AUS_MNT_01
					regiments = {
						mountaineers = { x = 0 y = 0 }
						mountaineers = { x = 0 y = 1 }
						mountaineers = { x = 0 y = 2 }
			
	    	   		 	mountaineers = { x = 1 y = 0 }
						mountaineers = { x = 1 y = 1 }
						mountaineers = { x = 1 y = 2 }
			
	    	   		 	mountaineers = { x = 2 y = 0 }
						mountaineers = { x = 2 y = 1 }
						mountaineers = { x = 2 y = 2 }
					}
					support = {
						artillery = { x = 0 y = 0 }
					}
					}
					random_owned_controlled_state = {
					limit = { AUS = { has_full_control_of_state = PREV } }
					prioritize = { 152 }
					create_unit = {
						division = "name = \"Österreichische Alpenjäger\" division_template = \"Österreichische Alpenjäger\" start_experience_factor = 1.0" 
						owner = AUS
					}
				}
				}
			}
			add_tech_bonus = {
				name = ROM_vanatori_de_munte
				bonus = 1.0
				uses = 1
				category = mountaineers_tech
			}
		}
	}
	
	focus = {
		id = HUN_burgas_project_focus_1
		icon = GFX_focus_generic_reorient_production
		prerequisite = { focus = HUN_propose_bulgarian_ally_1 }
		x = 0
		y = 1
		relative_position_id = HUN_propose_bulgarian_ally_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 75
			BUL = {
				add_opinion_modifier = { target = ROOT modifier = HUN_burgas_project }
				211 = {	#Burgas
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
				}
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes
			HUN_add_2_consumer = yes
			HUN_add_3_construction = yes
		}
	}
	
	focus = {
		id = HUN_claims_on_yug_1
		icon = GFX_focus_focus_fra_national_resistance_council
		prerequisite = { focus = HUN_article3_1 }
		x = -1
		y = 1
		relative_position_id = HUN_article3_1
		
		cost = 10


		available = {
			YUG = {exists = yes}
			YUG = { is_puppet = no}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_and_allies_declare_war_on_yug_tt 
			hidden_effect = {
				declare_war_on = {
					type = take_state_focus
					target = YUG
					generator = { 45 109 764 974 971 }
				}
				add_state_claim = 45
				add_state_claim = 109
				add_state_claim = 764
				add_state_claim = 974
				add_state_claim = 971
				AUS = {
					If = {
						limit = {is_in_faction = yes}
						declare_war_on = {
							type = take_state_focus
							target = YUG
							generator = { 102 853 }
						}
						add_state_claim = 102
						add_state_claim = 853
					}
				}
				
				ITA = {
					If = {
						limit = {is_in_faction = yes}
						declare_war_on = {
							type = take_state_focus
							target = YUG
							generator = { 103 104 804 105 }
						}
						add_state_claim = 103
						add_state_claim = 104
						add_state_claim = 105
						add_state_claim = 804
					}
				}
				
				BUL = { 
					If = {
						limit = {is_in_faction = yes}
						declare_war_on = {
							type = take_state_focus
							target = YUG
							generator = { 106 803 }
						}
						add_state_claim = 106
						add_state_core = 106
						add_state_claim = 803
						add_state_core = 803
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_support_italy_in_africa_1
		icon = GFX_focus_hun_italian_africa
		prerequisite = { focus = HUN_article3_1 }
		x = 1
		y = 1
		relative_position_id = HUN_article3_1
		
		cost = 10


		available = {
			has_completed_focus = HUN_reorganisation_of_the_hungarian_army
			custom_trigger_tooltip = {
				tooltip = HUN_italy_at_war_in_africa_tt
				any_state = {
					is_on_continent = africa 
					owner = {
						has_war_with = ITA
						has_war_with = ROOT
						NOT = { tag = ITA }
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}
		}
		
		bypass = {

		}

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_support_italy_in_africa_tt
			add_to_variable = { var = HUN_hungarian_army_heat_attrition_factor value = -0.2 }
			add_to_variable = { var = HUN_hungarian_hot_acc value = 0.3 }
			add_to_variable = { var = HUN_hungarian_army_supply_consumption_factor value = -0.1 }
		}
	}
	
	focus = {
		id = HUN_secure_the_supply_line_1
		icon = GFX_focus_generic_supply_line
		prerequisite = { focus = HUN_support_italy_in_africa_1 }
		x = 1
		y = 1
		relative_position_id = HUN_support_italy_in_africa_1
		
		cost = 10


		available = {
			is_in_faction_with = ITA 
			custom_trigger_tooltip = {
				tooltip = HUN_italy_at_war_in_africa_tt
				any_state = {
					is_on_continent = africa 
					owner = {
						has_war_with = ITA
						has_war_with = ROOT
						NOT = { tag = ITA }
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			add_timed_idea = {
				idea = HUN_secure_the_supply
				days = 550
			}
		}
	}
	
	focus = {
		id = HUN_negotiate_our_reward_in_africa_1
		icon = GFX_focus_generic_africa_defense
		prerequisite = { focus = HUN_support_italy_in_africa_1 }
		x = -1
		y = 1
		relative_position_id = HUN_support_italy_in_africa_1
		
		cost = 10


		available = {
			is_in_faction_with = ITA
			custom_trigger_tooltip = {
				tooltip = HUN_italy_at_war_in_africa_tt
				any_state = {
					is_on_continent = africa 
					owner = {
						has_war_with = ITA
						has_war_with = ROOT
						NOT = { tag = ITA }
						NOT = { is_in_faction_with = ROOT }
					}
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_cost_less_to_annex_tt
			add_state_claim = 456
			add_state_claim = 457
			add_state_claim = 883
			add_state_claim = 551
			add_state_claim = 552
			add_state_claim = 767
			add_state_claim = 884
			add_state_claim = 885
			add_state_claim = 886
			add_state_claim = 887
			add_state_claim = 549
			if = {
				limit = { 
					SPA = { 
						NOT = { is_in_faction_with = HUN } 
					} 
					AUS = { is_in_faction_with = HUN }
				}
				AUS = {
					add_state_claim = 461
					add_state_claim = 462
					add_state_claim = 290
					add_state_claim = 783
					add_state_claim = 699
					add_state_claim = 178
					add_state_claim = 557
					add_state_claim = 514
					add_state_claim = 782
					add_state_claim = 746
					add_state_claim = 557
					add_state_claim = 272
					add_state_claim = 899
					add_state_claim = 701
				}
			}
			else_if = {
				limit = { SPA = { is_in_faction_with = HUN } } 
				SPA = {
					add_state_claim = 461
					add_state_claim = 462
					add_state_claim = 557
					add_state_claim = 514
					add_state_claim = 782
					add_state_claim = 746
					add_state_claim = 557
					add_state_claim = 272
					add_state_claim = 899
					add_state_claim = 701
					add_state_claim = 539
					add_state_claim = 772
				}
			}
			if = {
				limit = { AUS = { is_in_faction_with = HUN } } 
				AUS = {
					add_state_claim = 903
					add_state_claim = 905
					add_state_claim = 546
					add_state_claim = 547
					add_state_claim = 548
					add_state_claim = 768
					add_state_claim = 769
					add_state_claim = 296
					add_state_claim = 780
					add_state_claim = 700
					add_state_claim = 556
					add_state_claim = 779
					add_state_claim = 298
					add_state_claim = 898
					add_state_claim = 778
					add_state_claim = 781
					add_state_claim = 274
				}
			}
			if = {
				limit = { BUL = { is_in_faction_with = HUN } } 
				BUL = {
					add_state_claim = 776
					add_state_claim = 777
					add_state_claim = 558
					add_state_claim = 902
					add_state_claim = 900
					add_state_claim = 901
					add_state_claim = 515
					add_state_claim = 775
					add_state_claim = 774
					add_state_claim = 773
					add_state_claim = 660
				}
			}
		}
	}
	
	focus = {
		id = HUN_one_danubia_1
		icon = GFX_focus_hun_one_danubia
		prerequisite = { focus = HUN_claims_on_yug_1 focus = HUN_greek_alliance_1 focus = HUN_greek_question_1 }
		x = -1
		y = 1
		relative_position_id = HUN_claims_on_yug_1
		
		cost = 10


		available = {
			is_in_faction = yes
			has_war_with_major = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
		}

		completion_reward = {
			custom_effect_tooltip = HUN_ask_faction_members_to_be_annexed_tt
			hidden_effect = {
				every_country = {
					limit = { 
						OR = {
							tag = AUS
							tag = CZE
							tag = SVK
							tag = ROM
							tag = YUG
							tag = CRO
							tag = SLO
							tag = ALB
							tag = SER
							tag = BUL
							tag = GRE
						}
						exists = yes 
						is_in_faction_with = ROOT
						NOT = {
							tag = ITA
						}
					}
					country_event = LH.449
				}
			}
		}
	}
	
	focus = {
		id = HUN_austrian_claims_1
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = HUN_alliance_italy_1 }
		prerequisite = { focus = HUN_get_rid_of_the_threat_1 }
		x = 4
		y = 1
		relative_position_id = HUN_alliance_italy_1
		
		cost = 10


		available = {
			OR = {
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
				has_idea = HUN_treaty_of_triannon_2
				has_idea = HUN_treaty_of_triannon_3
			}
			GER ={
				has_completed_focus = GER_end_of_czechoslovakia
				has_full_control_of_state = 9
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_austrian_claims_tt
			hidden_effect = {
				AUS = {
				country_event = LH.3
				}
			}
		}
	}
	
	focus = {
		id = HUN_danubian_question_1
		icon = GFX_focus_generic_attack_romania
		prerequisite = { focus = HUN_article2_1 }
		mutually_exclusive = { focus = HUN_alliance_with_romania_1 }
		x = -1
		y = 1
		relative_position_id = HUN_article2_1
		will_lead_to_war_with = ROM
		cost = 10


		available = {
			ROM = {
				exists = yes
				NOT ={
					is_puppet = yes
				}
			}
		}
		
		bypass = {
			HUN = {
				has_war_with = ROM
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_and_allies_declare_war_on_romania_tt
			set_country_flag = HUN_declared_war_on_romania_flag
			hidden_effect = {
				declare_war_on = {
					type = take_state_focus
					target = ROM
					generator = { 76 78 79 82 83 84 766 }
				}
				
				BUL = { 
					If = {
						limit = {is_in_faction = yes}
							declare_war_on = {
							type = take_state_focus
							target = ROM
							generator = { 77 972 46 81 }
						}
					}
				}
			}	
		}
	}
	
	focus = {
		id = HUN_alliance_with_romania_1
		icon = GFX_focus_invite_romania
		prerequisite = { focus = HUN_article2_1 }
		mutually_exclusive = { focus = HUN_danubian_question_1 }
		x = 1
		y = 1
		relative_position_id = HUN_article2_1
		
		cost = 10


		available = {
			ROM = {
				exists = yes
				NOT ={
					is_puppet = yes
				}
				has_government = fascism
			}
		}
		
		bypass = {
			HUN = {
				has_war_with = ROM
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ROM = { country_event = LH.441 }
			custom_effect_tooltip = HUN_romania_joins_faction_if_tt
		}
	}
	
	focus = {
		id = HUN_greek_question_1
		icon = GFX_focus_GRE_bedrock_of_balkan_stability
		prerequisite = { focus = HUN_propose_bulgarian_ally_1  }
		mutually_exclusive = { focus = HUN_greek_alliance_1 }
		x = 1
		y = 2
		relative_position_id = HUN_propose_bulgarian_ally_1
		will_lead_to_war_with = GRE
		cost = 10

		available = {
			BUL = {
				is_in_faction_with = ROOT
			}
			GRE = {
				exists = yes
				NOT ={
					is_puppet = yes
				}
			}
		}
		
		bypass = {
			if = {
				limit = { ITA = { is_in_faction_with = ROOT } }
				ITA = {
					has_war_with = GRE
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_and_allies_declare_war_on_greece_tt 
			set_country_flag = HUN_declared_war_on_greece_flag
			
			if = {
				limit = { ITA = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = GRE
					generator = { 185 47 186 187 182 }
				}
			}	
			
			if = {
				limit = { BUL = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = GRE
					generator = { 184 731 }
				}
			}	
			
			hidden_effect = {
				ITA = {
					add_state_claim = 185
					add_state_claim = 47
					add_state_claim = 186
					add_state_claim = 187
					add_state_claim = 182
				}
				184 = {
					add_core_of = BUL
				}
				731 = {
					add_core_of = BUL
				}
			}
		}
	}
	
	focus = {
		id = HUN_greek_alliance_1
		icon = GFX_focus_generic_befriend_greece
		prerequisite = { focus = HUN_propose_bulgarian_ally_1 }
		mutually_exclusive = { focus = HUN_greek_question_1 }
		x = -1
		y = 2
		relative_position_id = HUN_propose_bulgarian_ally_1
		
		cost = 10


		available = {

		}
		
		bypass = {
			ITA = {
				has_war_with = GRE
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GRE = { country_event = LH.441 }
			custom_effect_tooltip = HUN_greece_joins_faction_if_tt
		}
	}
	
	focus = {
		id = HUN_greek_claims_1
		icon = GFX_focus_GRE_resurrecting_the_megali_idea
		prerequisite = { focus = HUN_greek_alliance_1 }
		x = 0
		y = 1
		relative_position_id = HUN_greek_alliance_1
		
		cost = 10


		available = {
			TUR = {
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_and_allies_declare_war_on_turkey_tt 
			
			if = {
				limit = { ITA = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 342 345 }
				}
			}	
			
			if = {
				limit = { BUL = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 341 }
				}
			}	
			
			if = {
				limit = { GRE = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 797 347 340 339 }
				}
			}	
		}
	}
	
	############################
	# Trade Deal with Germany ##
	############################
	
	focus = {
		id = HUN_germany_trade_deal_1
		icon = GFX_focus_generic_german_trade
		search_filters = { FOCUS_FILTER_HISTORICAL }
		mutually_exclusive = { focus = HUN_refuse_to_pay_debts_1 focus = HUN_infiltrate_britain_1 }
		#mutually_exclusive = { focus = HUN_renew_rome_protocols_1 }
		prerequisite = { focus = HUN_renounce_trianon_1 focus = HUN_call_for_election_1 focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }
		x = -5
		y = 2
		relative_position_id = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		
		cost = 10


		available = {
			NOT = { GER = { has_government = communism } }
			NOT = { has_war_with = GER }
			OR = {
				has_completed_focus = HUN_strengthen_the_regency_1
				has_completed_focus = HUN_populist_habsburg_1
			}
			if = {
				limit = { NOT = { has_completed_focus = HUN_populist_habsburg_1 } }
				custom_trigger_tooltip = {
					tooltip = HUN_germany_influence_points_1_tt
					GER =  { check_variable = { var = ger_alignment_influence value = 35 compare = greater_than_or_equals } }
				}
			}
			
			if = {
				limit = {
					OR = {
						has_completed_focus = HUN_announce_horthys_permanent_regency_monarch
						has_completed_focus = HUN_crown_king
					}
				}
				has_country_flag = HUN_allowed_fascists_flag
			}
			NOT = { has_dynamic_modifier = { modifier = HUN_move_dynamic_modifier} }
		}
		

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_opinion_modifier = { target = GER modifier = HUN_trade_deal_with_germany }
			reverse_add_opinion_modifier = { target = GER modifier = HUN_trade_deal_with_germany }
			if = {
				limit = { NOT = { has_completed_focus = HUN_populist_habsburg_1 } }
				country_event = LH.188
			}
			
			### SET TRADE DEAL ###
			
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_ger_trade_partner_flag
					}
				}
				HUN_remove_trade_deal_bonuses = yes
				HUN_reset_trade_deal_modifier = yes 
				HUN_set_trade_deal_ger = yes
			}
		}
	}
	
	focus = {
		id = HUN_german_protection_1
		icon = GFX_focus_ger_reichskommisariats
		prerequisite = { focus = HUN_germany_trade_deal_1 }
		#mutually_exclusive = { focus = HUN_collaborate_with_the_volksbund_1 }
		x = -1
		y = 1
		relative_position_id = HUN_germany_trade_deal_1
		
		cost = 8


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GER = { country_event = LH.309 }
			custom_effect_tooltip = HUN_Germany_accepts_most_proposals_tt
		}
	}
	
	focus = {
		id = HUN_refuse_to_pay_debts_1
		icon = GFX_focus_renounce_the_treaty_of_trianon
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		#mutually_exclusive = { focus = HUN_renew_rome_protocols_1 }
		prerequisite = { focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }
		x = 2
		y = 2
		relative_position_id = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		
		cost = 25


		available = {
			
		}
		
		select_effect = {
			add_timed_idea = {
				idea = HUN_not_paying
				days = 175
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_debts_idea_tt
			custom_effect_tooltip = HUN_remove_wheat_depression_tt
			every_country = {
				limit = {
					is_major = yes 
					NOT = {
						has_government = communism
					}
				}
				add_opinion_modifier = { target = HUN modifier = HUN_not_paying_debts }
			}
			### TODO: MODIFY THE HUNGARIAN ARMY IDEA
			HUN_add_10_agitation = yes
			#set_country_flag = HUN_crisis_resolved_flag
			country_event = LH.475
		}
	}
	
	focus = {
		id = HUN_collaborate_with_the_volksbund_1
		icon = GFX_goal_generic_position_armies
		prerequisite = { focus = HUN_germany_trade_deal_1 focus = HUN_refuse_to_pay_debts_1 }
		mutually_exclusive = { focus = HUN_hungarian_ss_1 }
		x = -4
		y = 1
		relative_position_id = HUN_refuse_to_pay_debts_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_proclaim_szlasi_the_leader_of_the_nation_fascism }
				swap_ideas = {
					remove_idea = HUN_empower_right_2
					add_idea = HUN_volksbund
				}
			}
			else = {
				add_ideas = HUN_volksbund_2
			}
			GER = {
				add_opinion_modifier = { modifier = HUN_volksbund_relation target = HUN }
			}
			
			HUN_maximilian_angelis = {
				add_corps_commander_role = {
					traits={ german_sympathies }
					skill=4
					attack_skill=2
					defense_skill=3
					planning_skill=3
					logistics_skill=2
					legacy_id=-1
				}
			}
		}
	}
	
	focus = {
		id = HUN_hungarian_ss_1
		icon = GFX_focus_generic_fascist_troops
		prerequisite = { focus = HUN_germany_trade_deal_1 focus = HUN_refuse_to_pay_debts_1 }
		mutually_exclusive = { focus = HUN_collaborate_with_the_volksbund_1 }
		x = -1
		y = 1
		relative_position_id = HUN_refuse_to_pay_debts_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			HUN_jozsef_grassy = {	
				add_corps_commander_role = {
					traits={ german_sympathies }
					skill=4
					attack_skill=1
					defense_skill=2
					planning_skill=2
					logistics_skill=1
					legacy_id=-1
				}
			}
			
			division_template = { #Rongyos Gárda
				name = "Waffen SS Hadosztály"
				division_names_group = HUN_HUNYADI_SS 
				template_counter = 20
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 2 y = 0 }
					infantry = { x = 2 y = 1 }
					artillery_brigade = { x = 0 y = 2 }
					artillery_brigade = { x = 1 y = 2 }
					artillery_brigade = { x = 2 y = 2 }
				}
				support = {
					anti_tank = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					anti_air = { x = 0 y = 2 }
					signal_company = { x = 0 y = 3 }
					field_hospital = { x = 0 y = 4 }
				}
			}
			
			973 = {
				create_unit = {
					division = "division_template = \"Waffen SS Hadosztály\" start_experience_factor = 1 start_equipment_factor = 1.0"
					owner = ROOT
					count = 3
				}
			}
		}
	}
	
	focus = {
		id = HUN_cult_of_personality_szalasi_1
		icon = GFX_focus_ICE_embrace_the_workers_revolution
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		#mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		mutually_exclusive = { focus = HUN_solve_the_monarchy_question_1 }
		prerequisite = { focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1 }
		x = 6
		y = 1
		relative_position_id = HUN_call_for_election_1
		
		cost = 10


		available = {
			
		}
		

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = {
				id = LH.177
				days = 7
			}
		}
	}
	
	focus = {
		id = HUN_joint_aluminium_mining_1
		icon = GFX_goal_generic_construction2
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_germany_trade_deal_1 focus = HUN_infiltrate_britain_1 }
		
		
		x = -3
		y = 1
		relative_position_id = HUN_germany_trade_deal_1
		
		cost = 5


		available = {
			ROOT = { has_full_control_of_state = 43 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			43 = {
				add_resource = {
					type = aluminium
					amount = 16
				}
			}
		}
	}
	
	
	
	
	
	
	
	#focus = {
	#	id = HUN_support_nazification_1
	#	icon = GFX_goal_generic_attack_allies
	#	search_filters = { FOCUS_FILTER_HISTORICAL }
	#	prerequisite = { focus = HUN_german_friendship_treaty_1}
	#	#mutually_exclusive = { focus =  }
	#	x = -1
	#	y = 1
	#	relative_position_id = HUN_german_friendship_treaty_1
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#			has_full_control_of_state = 972
#			has_full_control_of_state = 43
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#			add_war_support = 0.1
#			add_political_power = 50
#			972 = {		#Bacs-Kiskun
#				add_extra_state_shared_building_slots = 1
#				add_building_construction = {
#					type = industrial_complex
#					level = 1
#					instant_build = yes
#				}
#			}
#			43 = {		#Northern Hungary
#				add_extra_state_shared_building_slots = 1
#				add_building_construction = {
#					type = arms_factory
#					level = 1
#					instant_build = yes
#				}
#			}
#			if = {
#				limit = { has_government = neutrality }
#				add_popularity = { ideology = fascism popularity = 0.1 }
#			}
#		}
#	}
	
	focus = {
		id = HUN_joint_technology_research_company_1
		icon = GFX_goal_tfv_generic_tech_sharing
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_austrian_mountaineers_1 focus = HUN_ita_hun_naval_academy_1}
		#mutually_exclusive = { focus =  }
		x = 1
		y = 2
		relative_position_id = HUN_austrian_mountaineers_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction = yes
			num_faction_members > 1

			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_to_tech_sharing_group = continuous_tech_share
		}
	}
	
	focus = {
		id = HUN_domestic_investments_1
		icon = GFX_goal_generic_consumer_goods
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_refuse_to_pay_debts_1 }
		#mutually_exclusive = { focus =  }
		x = 2
		y = 1
		relative_position_id = HUN_refuse_to_pay_debts_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = HUN_industrial_revitalization
				bonus = 1.0
				uses = 1
				category = industry
			}
			155 = {		#Bacs-Kiskun
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			43 = {		#Northern Hungary
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_construction = yes
		}
	}
	
	focus = {
		id = HUN_industrial_cooperation_1
		icon = GFX_goal_generic_construct_mil_factory
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_germany_trade_deal_1 focus = HUN_infiltrate_britain_1 }	
		prerequisite = { }		
		#mutually_exclusive = { focus =  }
		x = -2
		y = 2
		relative_position_id = HUN_germany_trade_deal_1

		cost = 7

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_militarize_civilian_ind_F
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_militarize_civilian_ind_F
			}
			if = {
				limit = { has_completed_focus = HUN_germany_trade_deal_1 }
				add_popularity = { ideology = fascism popularity = 0.1 }
			}
			else_if = {
				limit = { has_completed_focus = HUN_trade_deal_with_soviets_1 }
				add_popularity = { ideology = communism popularity = 0.1 }
			}
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_join_axi_1
		icon = GFX_goal_support_fascism
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_germany_trade_deal_1 }
		mutually_exclusive = { focus = HUN_connationalism_1 }
		x = 0
		y = 2
		relative_position_id = HUN_germany_trade_deal_1
		
		cost = 2


		available = {
			NOT = { has_completed_focus = HUN_our_old_friends_1}
			NOT = { has_completed_focus = HUN_alliance_prime_minister_1 }
			NOT = { has_war_with = GER }
			is_subject = no
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = GER
					has_war_with = HUN	
				}
			}
			GER = {
				is_faction_leader = yes
				has_government = fascism
				is_subject = no
			}
			
			custom_trigger_tooltip = {
				tooltip = HUN_germany_influence_points_3_tt
				GER =  { check_variable = { var = ger_alignment_influence value = 70 compare = greater_than_or_equals } }
			}
		}
		
		bypass = {
			AND = { 
				is_in_faction_with = GER
				GER = {
					is_faction_leader = yes
					has_government = fascism
				}
			} 
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GER = {
				country_event = generic.2
			}
		}
	}
	
	focus = {
		id = HUN_connationalism_1
		icon = GFX_goal_generic_dangerous_deal
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_germany_trade_deal_1 focus = HUN_refuse_to_pay_debts_1 }
		mutually_exclusive = { focus = HUN_join_axi_1 }
		x = 0
		y = 2
		relative_position_id = HUN_refuse_to_pay_debts_1
		
		cost = 5


		available = {
			is_puppet = no 
			NOT = { has_country_flag = HUN_magyarfold_chosen_flag }
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = HUN_CON
			country_event = LH.464
			give_guarantee = YUG 
			give_guarantee = BUL 
			give_guarantee = CZE
			give_guarantee = GRE
			give_guarantee = TUR
		}
	}
	
	focus = {
		id = HUN_restructure_foreign_office_1
		icon = GFX_focus_hun_take_control
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_connationalism_1}
		
		
		x = 0
		y = 1
		relative_position_id = HUN_connationalism_1
		
		cost = 6


		available = {
				
		}
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_kalman_rattkay
		}
	}
	
	focus = {
		id = HUN_polish_brotherhood_1
		icon = GFX_focus_POL_prepare_for_the_inevitable
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_restructure_foreign_office_1}
		
		
		x = 0
		y = 3
		relative_position_id = HUN_restructure_foreign_office_1
		
		cost = 6


		available = {
			POL = {
				is_guaranteed_by = HUN
			}
			POL = {
				fascism > 0.25
			}
		}
		
		bypass = {
			POL = {
				is_in_faction = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			POL = { country_event = LH.467 }
		}
	}
	
	focus = {
		id = HUN_polish_claims_1
		icon = GFX_focus_POL_polish_revanchism
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_polish_brotherhood_1}
		
		
		x = 1
		y = 1
		relative_position_id = HUN_polish_brotherhood_1
		
		cost = 10


		available = {
			NOT = {
				has_country_flag = HUN_GER_friendship_treaty_flag
			}
		}
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			63 = {
				add_core_of = POL
			}
			68 = {
				add_core_of = POL
			}
			5 = {
				add_core_of = POL
			}
			763 = {
				add_core_of = POL
			}
			custom_effect_tooltip = form_country_lithuania_coring_states_tt
			custom_effect_tooltip = form_country_latvia_coring_states_tt
			create_wargoal = {
				type = take_state_focus
				target = GER
				expire = 0
			}
			create_wargoal = {
				type = take_state_focus
				target = LAT
				expire = 0
			}
			create_wargoal = {
				type = take_state_focus
				target = LIT
				expire = 0
			}
			hidden_effect = {
				every_state = {
					limit = {
						is_core_of = LIT
					}
					PREV = {
						add_core_of = POL
					}
				}
				every_state = {
					limit = {
						is_core_of = LAT
					}
					PREV = {
						add_core_of = POL
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_eliminate_the_threats_1
		icon = GFX_goal_generic_occupy_states_ongoing_war
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_polish_brotherhood_1}
		
		
		x = -1
		y = 1
		relative_position_id = HUN_polish_brotherhood_1
		
		cost = 6


		available = {
				
		}
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			create_wargoal = {
				type = topple_government
				target = SOV
				expire = 0
			}
			if = {
				limit = {
					NOT = { has_country_flag = HUN_GER_friendship_treaty_flag }
					NOT = { has_war_with = GER }
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = GER
					expire = 0
				}
			}
		}
	}
	
	focus = {
		id = HUN_german_friendship_treaty_1
		icon = GFX_focus_generic_treaty
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_connationalism_1}
		
		
		x = 1
		y = 1
		relative_position_id = HUN_restructure_foreign_office_1
		
		cost = 6


		available = {
				
		}
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_government = neutrality }
				add_popularity = { ideology = fascism popularity = 0.1 }
			}
			GER = {
				country_event = { id = LH.205 days = 3 }
			}
		}
	}
	
	focus = {
		id = HUN_split_yugoslavia_1
		icon = GFX_focus_YUG_dissolve_serbia
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_german_friendship_treaty_1 focus = HUN_save_albania_1}
		will_lead_to_war_with = YUG
		
		x = 1
		y = 1
		relative_position_id = HUN_german_friendship_treaty_1
		
		cost = 10


		available = {
			YUG = {
				exists = yes 
				is_puppet = no
			}
			has_equipment = { infantry_equipment > 1999 }
			NOT = {
				has_completed_focus = HUN_approach_yugoslavia_1
			}
		}
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = -2000
			}
			declare_war_on = {
				target = YUG
				type = liberate_wargoal
			}
			hidden_effect = {
				YUG = {
					release_on_controlled = CRO
				}
			}
			CRO = {
				add_to_war = {
					targeted_alliance = HUN
					enemy = YUG 
					hostility_reason = HUN_wants_independance_tt
				}
			}
		}
	}
	
	focus = {
		id = HUN_claim_halics_1
		icon = GFX_focus_POL_prussia_line
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_join_axi_1 }
		x = -4
		y = 1
		relative_position_id = HUN_join_axi_1
		
		cost = 2


		available = {
			GER = {
				has_full_control_of_state = 89
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_country = {
				limit = {
					owns_state = 89
				}
				country_event = { id = LH.458 days = 2 }
			}
		}
	}
	
	focus = {
		id = HUN_claim_romania_1
		icon = GFX_focus_generic_attack_romania
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_claim_halics_1 }
		x = 0
		y = 1
		relative_position_id = HUN_claim_halics_1
		
		cost = 2


		available = {
			OR = {
				has_war_with = ROM
				is_in_faction_with = ROM
			}
		}
		
		bypass = {
			ROM = {
				is_puppet_of = ROOT
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					has_war_with = ROM
				}
				set_country_flag = HUN_at_war_with_ROM_magyarfold_flag
				add_state_claim = 81
				add_state_claim = 82
				add_state_claim = 83
				add_state_claim = 84
				add_state_claim = 76
				add_state_claim = 77
				add_state_claim = 78
				add_state_claim = 79
				add_state_claim = 80
				add_state_claim = 46
				add_state_claim = 972
				add_state_claim = 766
			}
			else_if = {
				limit = { is_in_faction_with = ROM }
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					country_event = {
						id =  LH.454
						hours = 1
					}
				}
				set_country_flag = HUN_romania_wanted_flag
			}
		}
	}
	
	focus = {
		id = HUN_centralisation_1
		icon = GFX_focus_hun_one_danubia
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_claim_romania_1 }
		x = 0
		y = 1
		relative_position_id = HUN_claim_romania_1
		
		cost = 2


		available = {
			NOT = { has_completed_focus = HUN_proclaim_greater_hun }
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			every_country = {
					limit = { is_puppet_of = HUN }
					every_state = {
						limit = {
							is_owned_by = PREV
						}
						add_core_of = HUN
					}
					HUN = {
						annex_country = {
							target = PREV
							transfer_troops = yes
						}
					}
				}
			set_cosmetic_tag = HUN_SZALASI_GREATER_EMPIRE
		}
	}
	
	focus = {
		id = HUN_claim_croatia_1
		icon = GFX_focus_YUG_banovina_of_croatia
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_join_axi_1 focus = HUN_connationalism_1 }
		mutually_exclusive = { focus = HUN_approach_yugoslavia_1 }
		x = 3
		y = 1
		relative_position_id = HUN_join_axi_1
		
		cost = 5


		available = {
			NOT = {
				is_in_faction_with = YUG
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = {country_event = LH.13 }
		}
	}
	
	focus = {
		id = HUN_approach_yugoslavia_1
		icon = GFX_focus_invite_yugoslavia
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_connationalism_1 }
		mutually_exclusive = { focus = HUN_claim_croatia_1 }
		x = 5
		y = 1
		relative_position_id = HUN_join_axi_1
		
		cost = 5


		available = {
			YUG = {
				fascism > 0.2
			}
		}
		
		bypass = {
			is_in_faction_with = YUG
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = { country_event = LH.467 }
			clr_country_flag = HUN_wants_croatia_flag
			custom_effect_tooltip = HUN_revision_of_croatia_no_longer_possible_tt
		}
	}
	
	focus = {
		id = HUN_save_albania_1
		icon = GFX_focus_generic_befriend_albania
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_connationalism_1 }
		x = 2
		y = 1
		relative_position_id = HUN_connationalism_1
		
		cost = 5


		available = {
			has_country_flag = HUN_zog_married_geraldine_flag
		}
		
		bypass = {
			ALB = {
				is_subject_of = HUN
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ALB = { country_event = LH.289 }
		}
	}
	
	focus = {
		id = HUN_greek_ally_1
		icon = GFX_focus_generic_befriend_greece
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_restructure_foreign_office_1 }
		#prerequisite = {  focus = HUN_request_bulgaria_1 }
		mutually_exclusive = { focus = HUN_turkish_ally_1 }
		x = -1
		y = 1
		relative_position_id = HUN_restructure_foreign_office_1
		
		cost = 5


		available = {
			GRE = {
				fascism > 0.25
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GRE = { country_event = LH.467 }
		}
	}
	
	focus = {
		id = HUN_greek_claims_szalasi_1
		icon = GFX_focus_GRE_resurrecting_the_megali_idea
		prerequisite = { focus = HUN_greek_ally_1 }
		x = 0
		y = 1
		relative_position_id = HUN_greek_ally_1
		
		cost = 10


		available = {
			TUR = {
				NOT = {
					is_in_faction_with = ROOT
				}
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_and_allies_declare_war_on_turkey_tt 
			
			if = {
				limit = { ITA = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 342 345 }
				}
			}	
			
			if = {
				limit = { BUL = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 341 }
				}
			}	
			
			if = {
				limit = { GRE = { is_in_faction_with = ROOT } }
				declare_war_on = {
					type = take_state_focus
					target = TUR
					generator = { 797 347 340 339 }
				}
			}	
		}
	}
	
	focus = {
		id = HUN_turkish_ally_1
		icon = GFX_focus_generic_befriend_turkey
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_restructure_foreign_office_1 focus = HUN_request_bulgaria_1 }
		#prerequisite = {   }
		mutually_exclusive = { focus = HUN_greek_ally_1 }
		x = -3
		y = 1
		relative_position_id = HUN_restructure_foreign_office_1
		
		cost = 5


		available = {
			TUR = {
				fascism > 0.25
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			TUR = { country_event = LH.467 }
		}
	}
	
	focus = {
		id = HUN_turkish_expansion_1
		icon = GFX_focus_generic_befriend_turkey
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_turkish_ally_1 }
		#prerequisite = {   }
		x = 0
		y = 1
		relative_position_id = HUN_turkish_ally_1
		
		cost = 2


		available = {
			TUR = {
				fascism > 0.25
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			TUR = {
				add_state_claim = 680
				add_state_core = 680
				add_state_claim = 454
				add_state_core = 454
				add_state_claim = 676
				add_state_core = 676
				add_state_claim = 855
				add_state_core = 855
				add_state_claim = 856
				add_state_core = 856
				add_state_claim = 675
				add_state_core = 675
				add_state_claim = 679
				add_state_core = 679
				add_state_claim = 291
				add_state_core = 291
				add_state_claim = 293
				add_state_core = 293
				add_state_claim = 765
				add_state_core = 765
				add_state_claim = 455
				add_state_core = 455
				add_state_claim = 553
				add_state_core = 553
				add_state_claim = 554
				add_state_core = 554
				add_state_claim = 799
				add_state_core = 799
				add_state_claim = 677
				add_state_core = 677
				every_state = {
					limit = { is_core_of = GRE }
					TUR = {
						add_state_claim = PREV
						add_state_core = PREV
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_request_bulgaria_1
		icon = GFX_focus_BUL_consolidate_the_third_bulgarian_state
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_connationalism_1 focus = HUN_join_axi_1 }
		x = 1
		y = 1
		relative_position_id = HUN_join_axi_1
		
		cost = 5


		available = {
			BUL = {
				fascism > 0.2
			}
		}
		
		bypass = {
			AND = {
				NOT = { has_completed_focus = HUN_join_axi }
				is_in_faction_with = BUL
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { 
					OR = {
						has_completed_focus = HUN_connationalism 
						ROOT = { NOT = { is_in_faction_with = BUL } }
					}
				}
				BUL = { country_event = LH.467 }
			}
			else_if = {
				limit = {
					has_war_with = BUL
				}
				add_state_claim = 801
				add_state_claim = 211
				add_state_claim = 212
				add_state_claim = 48
			}
			else = {
				every_other_country = {
					limit = {
						is_in_faction_with = ROOT
						is_faction_leader = yes
					}
					country_event = {
						id =  LH.454
						hours = 1
					}
				}
				set_country_flag = HUN_bulgaria_wanted_flag
			}
		}
	}
	
	focus = {
		id = HUN_support_greater_bulgaria_1
		icon = GFX_focus_BUL_prussia_of_the_balkans
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_request_bulgaria_1 }
		x = 1
		y = 1
		relative_position_id = HUN_request_bulgaria_1
		
		cost = 10


		available = {
			BUL = {
				is_in_faction_with = ROOT
			}
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					any_country = {
						NOT = {
							is_in_faction_with = ROOT
						}
						has_full_control_of_state = 803
						has_full_control_of_state = 106
					}
				}	
				BUL = { add_state_core = 803 add_state_core = 106 }
				random_country = {
					limit = {
						owns_state = 803
						owns_state = 106
					}
					BUL = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							expire = 0
							generator = { 803 106 }
						}
					}
				}
			}
			
			if = {
				limit = {
					any_country = {
						NOT = {
							is_in_faction_with = ROOT
						}
						has_full_control_of_state = 184
						has_full_control_of_state = 731
					}
				}	
				BUL = { add_state_core = 184 add_state_core = 731 }
				random_country = {
					limit = {
						owns_state = 184
						owns_state = 731
					}
					BUL = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							expire = 0
							generator = { 184 731 }
						}
					}
				}
			}
			
			if = {
				limit = {
					any_country = {
						NOT = {
							is_in_faction_with = ROM
						}
						has_full_control_of_state = 77
					}
				}	
				BUL = { add_state_core = 77 }
				random_country = {
					limit = {
						owns_state = 77
					}
					BUL = {
						create_wargoal = {
							type = take_state_focus
							target = PREV
							expire = 0
							generator = { 77 }
						}
					}
				}
			}
		}
	}
	
	
	focus = {
		id = HUN_technology_negotiations_szalasi_1
		icon = GFX_focus_ARG_fascist_researchers
		prerequisite = { focus = HUN_request_bulgaria_1 focus = HUN_strengthen_the_alliance_1 focus = HUN_restructure_foreign_office_1 }
		x = 2
		y = 3
		relative_position_id = HUN_request_bulgaria_1
		
		cost = 10


		available = {
			OR = {
				AND = {
					is_in_faction_with = GER
					is_in_faction_with = ITA
				}
				AND = {
					is_in_faction_with = AUS
					is_in_faction_with = ITA
				}
			} 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_technology_sharing
			AUS = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
			ITA = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
			GER = {
				If = {
					limit = {is_in_faction_with = HUN}
				add_ideas = HUN_technology_sharing
				}
			}
		}
	}
	
	focus = {
		id = HUN_blitzkrieg_lessons_1
		icon = GFX_focus_generic_tank_production
		prerequisite = { focus = HUN_technology_negotiations_szalasi_1}
		#mutually_exclusive = { focus =  }
		x = -3
		y = 1
		relative_position_id = HUN_technology_negotiations_szalasi_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {
			is_in_faction_with = GER
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				if = {
					limit = {
						GER = {
							NOT = { has_tech = advanced_medium_tank }
							NOT = { has_tech = improved_medium_tank }
							NOT = { has_tech = basic_medium_tank }
						}
					}
					custom_effect_tooltip = HOL_beginnings_of_a_dutch_blitzkrieg_tt_1
				}
				GER = {
					if = {
						limit = {
							has_tech = advanced_medium_tank
						}
						create_production_license = {
							target = HUN
							equipment = {
								type = medium_tank_equipment_3
							}
							cost_factor = 0
						}
						HUN = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_3
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = improved_medium_tank
							NOT = { has_tech = advanced_medium_tank }
						}
						create_production_license = {
							target = HUN
							equipment = {
								type = medium_tank_equipment_2
							}
							cost_factor = 0
						}
						HUN = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_2
							    amount = 250
							    producer = GER
							}
						}
					}
					else_if = {
						limit = {
							has_tech = basic_medium_tank
						}
						create_production_license = {
							target = HUN
							equipment = {
								type = medium_tank_equipment_1
							}
							cost_factor = 0
						}
						HUN = {
							add_equipment_to_stockpile = {
							    type = medium_tank_equipment_1
							    amount = 250
							    producer = GER
							}
						}
					}
				}
			}
			add_offsite_building = { type = arms_factory level = 2 }
		}
	}
	
	focus = {
		id = HUN_hungarian_wunderwaffe_1
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = HUN_technology_negotiations_szalasi_1}		
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = HUN_technology_negotiations_szalasi_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 1
				category = nuclear
				category = rocketry
			}
		}
	}
	
	focus = {
		id = HUN_german_equipment_1
		icon = GFX_focus_secret_rearmament
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_technology_negotiations_szalasi_1 }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = HUN_technology_negotiations_szalasi_1

		cost = 4

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_equipment_purchases_tt
		}
	}
	
	focus = {
		id = HUN_german_subs_1
		icon = GFX_focus_BRA_german_submarine_development
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_german_equipment_1 }
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = HUN_german_equipment_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			navy_experience = 15

			add_tech_bonus = {
				name = BRA_german_sub_initiative
				bonus = 0.75
				uses = 1
				category = submarine_doctrine
			}

			add_tech_bonus = {
				name = BRA_german_sub_initiative
				bonus = 0.5
				uses = 1
				category = ss_tech
			}

			custom_effect_tooltip = HUN_dockyards_if_coastal_tt
			
			random_state = {
				limit = {
					is_coastal = yes
					free_building_slots = {
						building = dockyard
						size > 0
						include_locked = yes
					}
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = naval_base
					level = 2
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_naval_base = yes
				    }
				}
			}

		}
	}
	
	focus = {
		id = HUN_german_tanks_1
		icon = GFX_focus_BRA_acquire_german_tanks
		#search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_german_equipment_1 }
		prerequisite = { focus = HUN_blitzkrieg_lessons_1 }
		#mutually_exclusive = { focus =  }
		x = -3
		y = 1
		relative_position_id = HUN_german_equipment_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			add_tech_bonus = {
				name = BRA_German_tank_exchange
				bonus = 0.5
				uses = 3
				category = armor
			}	

			IF = {
				limit = {
					has_dlc = "Arms Against Tyranny" 
				}
				show_mio_tooltip = HUN_mavag_tank_organization
				mio:HUN_mavag_tank_organization = {
					add_mio_size = 2
				}
			}
			random_core_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0 
						include_locked = yes
					}
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				} 
			}
			### MODIFY HUNGARIAN ARMY IDEA ###
			
			add_to_variable = { var = HUN_license_purchase_cost value = -0.3 }
			add_to_variable = { var = HUN_license_armor_purchase_cost value = -0.4 }
			custom_effect_tooltip = HUN_german_tanks_tt
			
			IF = {
				limit = {
					has_dlc = "No Step Back"
				}
				IF = {
					limit = {
						NOT = {
							has_tech = basic_medium_tank_chassis
						}
					}
				}
				set_technology = { basic_medium_tank_chassis = 1 }
				create_equipment_variant = {
					name = "Panzer IV Ausf. A"
					type = medium_tank_chassis_1
					parent_version = 1
					modules = {
						main_armament_slot = tank_close_support_gun
						turret_type_slot = tank_medium_three_man_tank_turret
						suspension_type_slot = tank_bogie_suspension
						armor_type_slot = tank_welded_armor
						engine_type_slot = tank_gasoline_engine
						special_type_slot_1 = tank_radio_1
						special_type_slot_2 = smoke_launchers
					}
					upgrades = {
						tank_nsb_engine_upgrade = 6
						tank_nsb_armor_upgrade = 2
					}
					icon = "GFX_GER_basic_medium_tank_medium"
				}
				custom_effect_tooltip = BRA_german_tanks_tt
				add_equipment_to_stockpile = {
					type = medium_tank_chassis_1
					variant_name = "Panzer IV Ausf. A"
					amount = 200
					producer = BRA
					#override_model = GER_medium_armor_entity
				}
			}
		}
	}
	
	focus = {
		id = HUN_szalasi_roppentyu_1
		icon = GFX_goal_generic_army_artillery2
		search_filters = { FOCUS_FILTER_HISTORICAL }
		prerequisite = { focus = HUN_german_equipment_1 }	
		#mutually_exclusive = { focus =  }
		x = 0
		y = 2
		relative_position_id = HUN_german_equipment_1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = HUN_proclaim_szlasi_the_leader_of_the_nation_1
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = HUN_roppentyu
				bonus = 2
				ahead_reduction = 2
				uses = 1
				technology = antitank2
			}
		}
	}
	
	focus = {
		id = HUN_german_hungarian_aviation_1
		icon = GFX_goal_generic_air_production
		search_filters = { FOCUS_FILTER_HISTORICAL }
		#prerequisite = { focus = HUN_support_nazification_1}
		prerequisite = { focus = HUN_join_axi_1}
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = HUN_join_axi_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_equipment_to_stockpile = {
				producer = GER
				type = small_plane_airframe_1
				amount = 50
			}
			add_equipment_to_stockpile = {
			    type = small_plane_cas_airframe_1
			    amount = 100
			    producer = GER
			}
			add_ideas = HUN_german_aviation_industry
		}
	}
	
	focus = {
		id = HUN_german_rocketry_1
		icon = GFX_focus_rocketry
		prerequisite = { focus = HUN_german_hungarian_aviation_1}		
		#prerequisite = { focus = HUN_technology_negotiations_1}
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = HUN_german_hungarian_aviation_1

		cost = 10

		ai_will_do = {
			factor = 1
		}

		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1.0
				uses = 1
				category = rocketry
			}
			add_tech_bonus = {
				name = GER_rocketry_focus
				bonus = 1.0
				uses = 1
				category = jet_technology
			}
		}
	}
	
	focus = {
		id = HUN_german_airfield_investments_1
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus = HUN_german_hungarian_aviation_1}	
		#prerequisite = { focus = HUN_industrial_cooperation_1}		
		#mutually_exclusive = { focus =  }
		x = -1
		y = 1
		relative_position_id = HUN_german_hungarian_aviation_1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = HUN_establish_airforce
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			air_experience = 25
			154 = {
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = air_base
					level = 3
					instant_build = yes
				}
			}
		}
	}
	
	focus = {
		id = HUN_german_volunteers_1
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = HUN_german_airfield_investments_1 focus = HUN_german_rocketry_1 }		
		#mutually_exclusive = { focus =  }
		x = 1
		y = 1
		relative_position_id = HUN_german_airfield_investments_1

		cost = 5

		ai_will_do = {
			factor = 1
		}

		available = {
			has_completed_focus = HUN_collaborate_with_the_volksbund
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_manpower = 50000
		}
	}
	
	############################
	### Trade deal with SOV ####
	############################
	
	focus = {
		id = HUN_trade_deal_with_soviets_1
		icon = GFX_goal_generic_trade
		prerequisite = {focus = HUN_proclaim_greater_hun_1 }
		#mutually_exclusive = { focus = HUN_germany_trade_deal_1 }
		x = 0
		y = 1
		relative_position_id = HUN_proclaim_greater_hun_1
		
		cost = 10


		available = {
			NOT = { has_war_with = SOV }
			has_completed_focus = HUN_strengthen_the_regency_monarch
			SOV = {
				has_opinion = {
					target = HUN
					value > 49
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_opinion_modifier = { target = SOV modifier = HUN_trade_deal_with_germany }
			reverse_add_opinion_modifier = { target = SOV modifier = HUN_trade_deal_with_germany }
			country_event = LH.188
			
			### SET TRADE DEAL ###
			
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_sov_trade_partner_flag
					}
				}
				HUN_remove_trade_deal_bonuses = yes
				HUN_reset_trade_deal_modifier = yes 
				HUN_set_trade_deal_sov = yes
			}
		}
	}
	
	
	############################
	####### Holy Crown #########
	############################
	
	
	
	
	
	
	
	
	
	
	
	
	focus = {
		id = HUN_strengthen_the_empire_1
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = HUN_collaborate_with_Tsar_1 focus = HUN_seek_union_with_poland_1 focus = HUN_invite_germany_1 focus = HUN_assassinate_mussolini_1 focus = HUN_ukrainean_uprising_1 }
		
		icon =  GFX_goal_generic_demand_territory
		x = -7
		y = 1
		relative_position_id = HUN_collaborate_with_Tsar_1
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = HUN_strengthen_empire_civ }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
					}
					is_core_of = ROOT
				}
				set_state_flag = HUN_strengthen_empire_civ
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = ROOT
					NOT = { has_state_flag = HUN_strengthen_empire_civ }
				}
				set_state_flag = HUN_strengthen_empire_mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
					has_government = neutrality
				}
				random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
					}
					is_core_of = PREV
					NOT = { has_state_flag = HUN_strengthen_empire_civ }
				}
				set_state_flag = HUN_strengthen_empire_mil
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				}
				
			}
		}
	}
	
	
	
	focus = {
		id = HUN_the_royal_navy_1
		available = {
			any_state = {
				is_controlled_by = HUN
				is_coastal = yes
			}
		}
		bypass = {
		}
		prerequisite = { focus = HUN_collaborate_with_Tsar_1 focus = HUN_seek_union_with_poland_1 focus = HUN_invite_germany_1 focus = HUN_assassinate_mussolini_1 focus = HUN_ukrainean_uprising_1 }
		
		icon = GFX_goal_generic_construct_naval_dockyard
		x = -5
		y = 1
		relative_position_id = HUN_collaborate_with_Tsar_1
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = HUN_royal_navy }
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
			}
		}
		search_filters = {FOCUS_FILTER_RESEARCH}
		completion_reward = {
			navy_experience = 25
			add_tech_bonus = {
				name = HUN_royal_navy
				bonus = 1
				uses = 1
				category = dd_tech
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = HUN_royal_navy
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = dockyard
						size > 2
						include_locked = yes
					}
					is_core_of = ROOT
					NOT = { has_state_flag = HUN_royal_navy }
				}
				add_extra_state_shared_building_slots = 3
				add_building_construction = {
					type = dockyard
					level = 3
					instant_build = yes
				}
				set_state_flag = HUN_royal_navy
			}
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
					has_government = neutrality
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = dockyard
							size > 2
							include_locked = yes
						}
						is_core_of = PREV
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = dockyard
						level = 3
						instant_build = yes
					}
				set_state_flag = HUN_royal_navy
				}
				
			}
		}
	}
	
	focus = {
		id = HUN_logistical_planning_1
		available = {
		}
		bypass = {
		}
		prerequisite = { focus = HUN_strengthen_the_empire_1 focus = HUN_the_royal_navy_1 }
		
		icon =  GFX_goal_generic_construct_infrastructure
		x = 1
		y = 1
		relative_position_id = HUN_strengthen_the_empire_1
		cost = 10

		available_if_capitulated = yes

		complete_tooltip = {
			every_state = {
				limit	= {	has_state_flag = HUN_logistical_planning_1 }
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			
			
		}
		search_filters = {FOCUS_FILTER_INDUSTRY}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = HUN_logistical_planning_1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = HUN_logistical_planning_1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = ROOT
				}
				set_state_flag = HUN_logistical_planning_1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
					has_government = neutrality
				}
				random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 0
					}
					is_core_of = PREV
				}
				set_state_flag = HUN_logistical_planning_1
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
				
			}
		}
	}
	
	############################
	######### Habsburg #########
	############################
	
	
	focus = {
		id = HUN_accept_the_habsburg_prince_1
		icon = GFX_focus_POL_habsburg
		prerequisite = { focus = HUN_elect_king_1 }
		mutually_exclusive = { focus = HUN_call_for_a_revisionist_king_1 }
		x = 0
		y = 1
		relative_position_id = HUN_elect_king_1
		dynamic = yes
		
		cost = 2


		available = {
			has_country_flag = HUN_repealed_dethronement_flag
			has_country_flag = HUN_habsburgs_accepted_flag
			has_government = neutrality
			has_war = no
			
			
			
			
			hidden_trigger = {
				NOT = {
					has_completed_focus = HUN_call_for_a_revisionist_king_1
				}
			}
		}
		
		bypass = {
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_country_flag = HUN_habsburg_focus_tree_load_flag
			mark_focus_tree_layout_dirty = yes
			country_event = { id = LH.276 days = 2 }
			
			hidden_effect = {
				if = {
					limit = { has_country_flag = HUN_otto_chosen_flag }
					
					news_event = { id = news.290 }
				}
				
				if = {
					limit = { has_country_flag = HUN_joseph_chosen_flag }
					
					news_event = { id = LH_news.5 }
				}
				
				set_politics = {
					ruling_party = neutrality
					elections_allowed = no
				}
			}
			
			remove_ideas = HUN_split_nation
			
			
		}
	}
	
	focus = {
		id = HUN_habsburg_middle_1
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		mutually_exclusive = { focus = HUN_hms_responsible_government_1 focus = HUN_populist_habsburg_1 }
		prerequisite = { focus = HUN_accept_the_habsburg_prince_1 }
		x = 0
		y = 1
		relative_position_id = HUN_accept_the_habsburg_prince_1
		
		cost = 5


		available = {
			has_country_flag = HUN_habsburg_crowned_flag
			NOT = {
				has_country_flag = HUN_august_chosen_flag
			}
			if = {
				limit = { has_country_flag = HUN_otto_chosen_flag }
				OR = {
					has_country_flag = HUN_traditional_model_flag
					has_country_flag = HUN_autocratic_model_flag
				}
			}
			if = {
				limit = { has_country_flag = HUN_joseph_chosen_flag }
				has_country_flag = HUN_traditional_model_flag
			}
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_hungarian_monarch_3
				add_idea = HUN_hungarian_monarch_4
			}
			
			if = {
				limit = { has_country_flag = HUN_joseph_chosen_flag }
				remove_unit_leader = 10001
				add_country_leader_trait = retired_officer
			}
			
			if = {
				limit = { has_country_flag = HUN_traditional_model_flag }
				country_event = LH.279
			}
			
			if = {
				limit = { has_country_flag = HUN_autocratic_model_flag }
				country_event = LH.278
			}
		}
	}
	
	focus = {
		id = HUN_populist_habsburg_1
		icon = GFX_goal_molotov_ribbentrop_pact
		mutually_exclusive = { focus = HUN_hms_responsible_government_1 focus = HUN_habsburg_middle_1 }
		prerequisite = { focus = HUN_accept_the_habsburg_prince_1 }
		x = 5
		y = 1
		relative_position_id = HUN_accept_the_habsburg_prince_1
		
		cost = 5


		available = {
			has_country_flag = HUN_habsburg_crowned_flag
			hidden_trigger = {
				has_country_flag = HUN_august_chosen_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_hungarian_monarch_fascist
				add_idea = HUN_hungarian_monarch_fascist_1
			}
			swap_ideas = {
				remove_idea = HUN_move_idea
				add_idea = HUN_move_idea_2
			}	
			mark_focus_tree_layout_dirty = yes
		}
	}
	
	
	
	
	
	focus = {
		id = HUN_idolize_medieval_ideals_1
		icon = GFX_focus_POL_belarus_army
		prerequisite = {focus = HUN_habsburg_middle_1 focus = HUN_populist_habsburg_1 focus = HUN_crown_king_1 }
		#prerequisite = { focus = HUN_teach_holy_crown_1}
		x = -2
		y = 1
		relative_position_id = HUN_populist_habsburg_1
		
		cost = 10


		available = {
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle }
				NOT = { has_country_flag = HUN_confederation_democracy_flag }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_war_support = 0.05
			add_political_power = 100
			if = {
				limit = { has_idea = HUN_hungarian_monarch_4 }
				swap_ideas = { remove_idea = HUN_hungarian_monarch_4 add_idea = HUN_hungarian_monarch_5 }
			}
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle }
				HUN_medieval_ideals_habsburg = yes
			}
			else_if = {
				limit = { has_idea = HUN_hungarian_monarch_6 }
				swap_ideas = { remove_idea = HUN_hungarian_monarch_6 add_idea = HUN_hungarian_monarch_7 }
			}
		}
	}
	
	focus = {
		id = HUN_demand_referendum_1
		icon = GFX_goal_generic_forceful_treaty
		mutually_exclusive = {focus = HUN_take_austria_1}
		prerequisite = { focus = HUN_hms_responsible_government_1 focus = HUN_habsburg_middle_1 focus = HUN_populist_habsburg_1 }
		x = -1
		y = 1
		relative_position_id = HUN_habsburg_middle_1
		
		cost = 5


		available = {
			NOT = { has_war_with = AUS }
			is_subject = no
			AUS = {
				OR = {
					exists = yes
					is_subject = no
				}
			}
			if = {
				limit = { has_completed_focus = HUN_hms_responsible_government_1 }
				has_country_flag = HUN_closer_ties_flag
				AUS = {
					exists = yes
					NOT = {
						is_puppet = yes
					}
				}
			}
			#has_completed_focus = HUN_strengthen_legitimist_sentiment_1
		}
		
		bypass = {
			OR = {
				AND = {
					owns_state = 4
					owns_state = 153
					owns_state = 152
				}
				has_global_flag = GER_reformed_austro_hungarian_empire
				hidden_trigger = {
					has_country_flag = HUN_no_three_kingdoms_flag
				}
			}
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = { 
				limit = { 
					OR = {
						has_completed_focus = HUN_hms_responsible_government
						has_country_flag = HUN_confederation_democracy_flag
					}
				}
				AUS = { country_event = { id = LH.126 days = 3 } }
			}
			else = {
				AUS = { country_event = { id = LH.109 } }
			}
		}
	}
	
	focus = {
		id = HUN_take_austria_1
		icon = GFX_goal_generic_territory_or_war
		mutually_exclusive = {focus = HUN_demand_referendum_1}
		prerequisite = { focus = HUN_habsburg_middle_1 focus = HUN_populist_habsburg_1 }
		x = 2
		y = 0
		relative_position_id = HUN_demand_referendum_1
		
		cost = 5


		available = {
			4 = {
				OWNER = {
					controls_state = PREV
				}
			}
			is_subject = no
			#has_completed_focus = HUN_strengthen_legitimist_sentiment_1
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle }
				NOT = { has_country_flag = HUN_confederation_democracy_flag }
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_country = {
				limit = {
					owns_state = 4
				}
				HUN = {
					create_wargoal = {
						type = take_state_focus
						target = PREV
						expire = 0
						generator = { 4 152 153 }
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_protect_cze_1
		icon = GFX_goal_generic_defence	
		prerequisite = { focus = HUN_take_austria_1 focus = HUN_demand_referendum_1 }
		x = 1
		y = 1
		relative_position_id = HUN_demand_referendum_1
		
		cost = 5


		available = {
			is_subject = no
			country_exists = CZE
			if = {
				limit = { has_completed_focus = HUN_hms_responsible_government_1 }
				has_country_flag = HUN_closer_ties_flag
				CZE = {
					exists = yes
					NOT = {
						is_puppet = yes
					}
				}
			}
		}
		
		bypass = {
			OR = {
				CZE = {
					OR = {
						exists = no
						is_subject = yes
					}
				}
				has_global_flag = GER_reformed_austro_hungarian_empire
				hidden_trigger = {
					has_country_flag = HUN_no_three_kingdoms_flag
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = { 
				limit = { 
					OR = {
						has_completed_focus = HUN_hms_responsible_government
						has_country_flag = HUN_confederation_democracy_flag
					}
				}
				CZE = { country_event = { id = LH.125 days = 3 } }
			}
			else = {
				CZE = { country_event = { id = LH.62 } }
			}
		}
	}
	
	
	
	focus = {
		id = HUN_restoration_aus_hun_1
		icon = GFX_focus_proclaim_the_restauration_of_Austria_Hungary
		mutually_exclusive = { focus = HUN_formalize_treaty_1 }
		prerequisite = { focus = HUN_protect_cze_1}
		x = 2
		y = 1
		relative_position_id = HUN_protect_cze_1
		
		cost = 10


		available = {
			controls_state = 152
			controls_state = 153
			controls_state = 4
			is_subject = no
			
			OR = {
				AND = {
					has_completed_focus = HUN_habsburg_middle_1 
					has_country_flag = HUN_autocratic_model_flag
				}
				AND = {
					has_completed_focus = HUN_habsburg_middle_1 
					has_country_flag = HUN_confederation_monarchy_flag
				}
				has_completed_focus = HUN_populist_habsburg_1
			}
		}
		
		bypass = {
			has_global_flag = GER_reformed_austro_hungarian_empire
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle }
				set_cosmetic_tag = HUN_PREEMPIRE
			}
			
			if = {
				limit = { has_completed_focus = HUN_populist_habsburg }
				activate_mission = HUN_empire_riots
				set_cosmetic_tag = HUN_EMPIRE_HABSBURG
				every_state = {
					limit = { 
						AND = {
							OR = {
								is_core_of = CRO 
								is_core_of = AUS 
								is_core_of = CZE
							}
						}
					}
					add_core_of = ROOT
				}
				
				102 = {
					add_core_of = ROOT
				}
				45 = {
					add_core_of = ROOT
				}
				764 = {
					add_core_of = ROOT
				}
				104 = {
					add_core_of = ROOT
				}
				804 = {
					add_core_of = ROOT
				}
				971 = {
					add_core_of = ROOT
				}
			}
			else = {
				set_cosmetic_tag = HUN_EMPIRE
			}
			152 = { add_core_of = ROOT }
			153 = { add_core_of = ROOT }
			4 = { add_core_of = ROOT }
			69 = { add_core_of = ROOT }
			9 = { add_core_of = ROOT }
			75 = { add_core_of = ROOT }
			74 = { add_core_of = ROOT }
			72 = { add_core_of = ROOT }
			70 = { add_core_of = ROOT }
			664 = { add_core_of = ROOT }
			71 = { add_core_of = ROOT }
			73 = { add_core_of = ROOT }
			978 = { add_core_of = ROOT }
			if = {
				limit = { CZE = { is_puppet_of = HUN}}
				HUN = { 
					annex_country = {
						target = CZE
						transfer_troops = yes
					}
				}
				custom_effect_tooltip = HUN_czech_characters_defect_tt
				hidden_effect = {
					CZE = {
						every_unit_leader = {
							set_nationality = HUN
						}
					}
					CZE = {
						every_character = {
							limit = { is_advisor = yes }
							set_nationality = HUN
						}
					}
				}
			}
			custom_effect_tooltip = HUN_austrian_characters_defect_tt
			hidden_effect = {
				AUS = {
						every_unit_leader = {
							set_nationality = HUN
						}
					}
				AUS = {
					every_character = {
						limit = { is_advisor = yes }
						set_nationality = HUN
					}
				}
			}
			
		}
	}
	
	
	focus = {
		id = HUN_march_to_shore_1
		icon = GFX_focus_YUG_banovina_of_croatia
		prerequisite = { focus = HUN_restoration_aus_hun_1 focus = HUN_formalize_treaty_1 }
		##prerequisite = { focus = HUN_demand_referendum_1 focus = HUN_take_austria_1 }
		#prerequisite = { focus = HUN_end_prime_ministry_1 }
		x = 0
		y = 1
		relative_position_id = HUN_restoration_aus_hun_1
		
		cost = 10


		available = {
			OR = {
				has_army_manpower = { size > 150000 }
				has_country_flag = HUN_austria_hungary_croatia_flag
			}
			109 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
			
		}
		
		bypass = {
			
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = { country_event = { id = LH.66 } }
		}
	}
	
	
	
	focus = {
		id = HUN_join_the_industries_1
		icon = GFX_focus_generic_industry_3
		prerequisite = { focus = HUN_formalize_treaty_1 focus = HUN_restoration_aus_hun_1 }
		x = -2
		y = 1
		relative_position_id = HUN_restoration_aus_hun_1
		
		cost = 3


		available = {
			has_country_flag = HUN_formed_empire_flag
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_AUH_companies_available_tt
			custom_effect_tooltip = HUN_receive_40_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 40
			}
		}
	}
	
	focus = {
		id = HUN_claim_galic_1
		icon = GFX_focus_generic_strike_at_democracy1
		#prerequisite = { focus = HUN_march_to_shore_1}
		prerequisite = { focus = HUN_reinstate_osiseg_1 focus = HUN_exalt_tripartitum_1}
		x = 2
		y = 1
		relative_position_id = HUN_reinstate_osiseg_1
		
		cost = 10


		available = {
			has_army_manpower = { size > 200000 }
			89 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
			if = {
				limit = { has_completed_focus = HUN_habsburg_middle_1 }
				has_completed_focus = HUN_restoration_aus_hun_1
			}
			has_completed_focus = HUN_accept_the_habsburg_prince_1
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			POL = { country_event = { id = LH.69 } } 
		}
	}
	
	focus = {
		id = HUN_claim_transyl_1
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = HUN_claim_galic_1}
		#prerequisite = { focus = HUN_reinstate_osiseg_1 focus = HUN_exalt_tripartitum_1}
		
		x = 0
		y = 1
		relative_position_id = HUN_claim_galic_1
		
		cost = 10


		available = {
			has_army_manpower = { size > 250000 }
			76 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
			is_subject = no
			
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_core = 76
			add_state_core = 83
			add_state_core = 84
			add_state_core = 82
			if = {
				limit = {
					NOT = {
						has_war_with = ROM
					}
					threat < 0.5
					ROM = {
						OR = {
							owns_state = 76
							owns_state = 83
							owns_state = 84
							owns_state = 82
						}
					}
				}
				ROM = { country_event = DOD_hungary.50 }
			}
			else = {
				add_ai_strategy = {
					type = conquer
  					id = ROM
  					value = 200
				}
			}	
		}
	}
	
	
	focus = {
		id = HUN_proclaim_apostolic_kingdom_habsburg_1
		icon = GFX_focus_hun_apostolic_kingdom
		prerequisite = { focus = HUN_claim_transyl_1 }
		prerequisite = { focus = HUN_march_to_shore_1 }
		prerequisite = { focus = HUN_jerusalem_1 }
		x = -2
		y = 1
		relative_position_id = HUN_claim_transyl_1
		
		cost = 10


		available = {
			has_full_control_of_state = 455
			has_full_control_of_state = 454
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_country_leader_trait = the_sacred_king
		}
	}

	
	
	
	focus = {
		id = HUN_the_central_power_1
		icon = GFX_goal_generic_major_alliance	
		prerequisite = { focus = HUN_formalize_treaty_1 focus = HUN_restoration_aus_hun_1 }
		mutually_exclusive = { focus = HUN_habsburg_alliance_1 }
		x = -1
		y = 2
		relative_position_id = HUN_restoration_aus_hun_1
		
		cost = 3


		available = {
			NOT = {
				has_completed_focus = HUN_populist_habsburg_1
			}
			has_country_flag = HUN_formed_empire_flag
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_rule = { can_create_factions = yes }
			if = {
				limit = {
					is_in_faction = no
				}
				create_faction = "GER_central_powers_faction"
			}
			if = {
				limit = {
					is_in_faction = yes
				}
				leave_faction = yes
				create_faction = "GER_central_powers_faction"
			}

			if = {
				limit = {
					ITA = { 
						is_puppet = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = HUN }
					}					
				}
				ITA = { country_event = { id = generic.5 } }
			}
			if = {
				limit = {
					GER = { 
						is_puppet = no
						is_in_faction = no
						has_government = neutrality
						NOT = { has_war_with = HUN }
					}					
				}
				GER = { country_event = { id = generic.5 } }
			}
		}
	}
	
	focus = {
		id = HUN_habsburg_alliance_1
		icon = GFX_focus_generic_monarchy_2
		mutually_exclusive = { focus = HUN_the_central_power_1 }
		prerequisite = { focus = HUN_formalize_treaty_1 focus = HUN_restoration_aus_hun_1 }
		x = -4
		y = 0
		relative_position_id = HUN_the_central_power_1
		
		cost = 3


		available = {
			NOT = {
				has_completed_focus = HUN_populist_habsburg_1
			}
			has_country_flag = HUN_formed_empire_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_rule = { can_create_factions = yes }
			create_faction = HUN_HABSBURG_ALLIANCE
		}
	}
	
	focus = {
		id = HUN_habsburg_poland_1
		icon = GFX_focus_POL_habsburg
		prerequisite = { focus = HUN_habsburg_alliance_1}
		#prerequisite = { focus = HUN_claim_bucovin}
		x = -2
		y = 1
		relative_position_id = HUN_habsburg_alliance_1
		
		cost = 7


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = HUN_poland_decisions_tt
		}
	}
	
	focus = {
		id = HUN_merge_with_poland_1
		icon = GFX_focus_generic_polish_deal
		mutually_exclusive = { focus = HUN_brothers_in_arms_1}
		prerequisite = { focus = HUN_habsburg_poland_1}
		#prerequisite = { focus = HUN_claim_bucovin}
		x = -1
		y = 1
		relative_position_id = HUN_habsburg_poland_1
		
		cost = 10


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			POL = { country_event = LH.250 }
			custom_effect_tooltip = HUN_habsburg_empire_tt
		}
	}
	
	focus = {
		id = HUN_brothers_in_arms_1
		icon = GFX_focus_generic_polish_deal
		mutually_exclusive = { focus = HUN_merge_with_poland_1}
		prerequisite = { focus = HUN_habsburg_poland_1}
		x = 2
		y = 0
		relative_position_id = HUN_merge_with_poland_1
		
		cost = 5


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			POL = { country_event = LH.467 }
		
		}
	}
	
	focus = {
		id = HUN_ukrainean_uprising_1
		icon = GFX_focus_POL_ukrainian_army
		prerequisite = { focus = HUN_merge_with_poland_1 focus = HUN_brothers_in_arms_1 }
		x = 1
		y = 1
		relative_position_id = HUN_merge_with_poland_1
		
		cost = 7


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = HUN_ukraine_uprising_decisions_tt
			effect_tooltip = {
				activate_mission = HUN_ukraine_uprising
			}
		}
	}
	
	focus = {
		id = HUN_habsburg_spain_1
		icon = GFX_focus_spa_no_compromise_on_carlist_ideals
		#mutually_exclusive = { focus = HUN_merge_with_poland_1}
		prerequisite = { focus = HUN_assassinate_mussolini_1 }
		prerequisite = { focus = HUN_ukrainean_uprising_1 }
		x = 2
		y = 1
		relative_position_id = HUN_ukrainean_uprising_1
		
		cost = 10


		available = {
			has_country_flag = HUN_carlists_supported_flag
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			SPR = { country_event = LH.367 }
			custom_effect_tooltip = HUN_karl_pius_acception_for_opinion_tt
		}
	}
	
	focus = {
		id = HUN_prepare_coup_1
		icon = GFX_focus_generic_italy_first
		prerequisite = { focus = HUN_the_central_power_1 focus = HUN_habsburg_alliance_1 }
		mutually_exclusive = { focus = HUN_claim_ven_1 }
		
		available = {
			is_puppet = no
			NOT = { has_war_with = ITA }
		}
		
		cancel_if_invalid = yes
		x = -3
		y = 1
		relative_position_id = HUN_the_central_power_1
		cost = 10
		
		bypass = {
			is_in_faction_with = ITA
			
		}
		
		
		completion_reward = {
			ITA = {
				country_event = { id = wtt_germany.8 }
			}
			custom_effect_tooltip = GER_prepare_italian_coup_tt
			effect_tooltip = {
				ITA = {
					add_timed_idea = { idea = GER_preparing_ITA_coup days = 1095 }
				}
			}
		}
	}

	focus = {
		id = HUN_assassinate_mussolini_1
		icon = GFX_focus_ger_assassinate_mussolini
		prerequisite = { focus = HUN_prepare_coup_1 }
		available = {
			is_puppet = no
			NOT = { has_war_with = ITA }
			ITA = { has_country_leader = { ruling_only = yes name = "Benito Mussolini" } }
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = HUN_prepare_coup_1
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		bypass = {
			
			
		}
		
		completion_reward = {
			ITA = {
				country_event = { id = LH_ITA.2 }
			}
			
			
			effect_tooltip = {
				ITA = {
					set_politics = { ruling_party = neutrality elections_allowed = no }
					add_popularity = { ideology = neutrality popularity = 0.1 }
					effect_tooltip = {
						promote_character = ITA_victor_emmanuel_iii
					}
					swap_ideas = {
						remove_idea = GER_preparing_ITA_coup
						add_idea = GER_preparing_ITA_coup2
					}
					HUN = {
						add_to_faction = ITA
						country_event = { id = wtt_germany.12 }
					}
				}
			}
			hidden_effect = {
				
			}
		}
	}
	
	focus = {
		id = HUN_address_german_monarchists_1
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = HUN_the_central_power_1 }
		available = {
			is_puppet = no
			NOT = { has_war_with = GER }
		}
		bypass = {
			GER = {
				is_in_faction_with = ROOT
				has_completed_focus = GER_oppose_hitler
			}
		}
		cancel_if_invalid = yes
		x = 1
		y = 1
		relative_position_id = HUN_the_central_power_1
		cost = 10
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			if = {
				limit = {
					GER = { exists = yes }
				}
				GER = {
					add_timed_idea = { idea = GER_rekindle_imperial_sentiment days = 365 }
				}
			}
		}
	}
	
	focus = {
		id = HUN_invite_germany_1
		icon = GFX_focus_ger_revive_kaiserreich
		prerequisite = { focus = HUN_address_german_monarchists_1 }
		available = {
			is_puppet = no
			NOT = { has_war_with = GER }
			NOT = {
				GER = {
					has_civil_war = yes
				}
			}
			OR = {
				GER = {
					neutrality > 0.30
					
				}
				GER = {
					
					has_government = neutrality
				}
			}
			
		}
		bypass = {
			GER = {
				is_in_faction_with = ROOT
				has_completed_focus = GER_oppose_hitler
				
			}
		}
		cancel_if_invalid = yes
		x = 0
		y = 1
		relative_position_id = HUN_address_german_monarchists_1
		cost = 2
		ai_will_do = {
			factor = 10
		}
		
		completion_reward = {
			GER = {
				country_event = { id = wtt_germany.1 }
			}
			GER = { country_event = { id = generic.5 days = 20 } }
			GER = { complete_national_focus = GER_oppose_hitler }
			GER = {
				uncomplete_national_focus = {
				  focus = GER_rhineland
				  uncomplete_children = yes
				  refund_political_power = no
				}
			}
		}
	}
	
	
	
	
	
	

	
	#focus = {
	#	id = HUN_claim_bucovin
	#	icon = GFX_goal_generic_attack_allies
	#	
	#	prerequisite = { focus = HUN_claim_galic_1}
	#	prerequisite = { focus = HUN_claim_transyl_1}
	#	x = -2
	#	y = 1
	#	relative_position_id = HUN_claim_transyl_1
	#	
	#	cost = 10
	#
	#
	#	available = {
	#		is_subject = no
	#	}
	#	
	#	bypass = {
	#		controls_state = 80
	#	}
	#
	#	cancel_if_invalid = yes
	#	continue_if_invalid = no
	#	available_if_capitulated = no
	#
	#	complete_tooltip = {
	#
	#	}
	#
	#	completion_reward = {
	#		add_state_claim = 80
	#	}
	#}
	
	
	
	focus = {
		id = HUN_claim_ven_1
		icon = GFX_goal_generic_occupy_states_coastal
		prerequisite = { focus = HUN_the_central_power_1}
		mutually_exclusive = { focus = HUN_prepare_coup_1 }
		x = -1
		y = 1
		relative_position_id = HUN_the_central_power_1
		
		cost = 10


		available = {
			has_army_manpower = { size > 300000 }
			160 = { OWNER = { NOT = { is_in_faction_with = HUN } } }
		}
		
		bypass = {
			is_subject = no
			controls_state = 736
			
			controls_state = 39
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_state_claim = 736
			add_state_claim = 163
			
			add_state_claim = 39
			ITA = { country_event = { id = LH.72 } }
		}
	}
	focus = {
		id = HUN_settle_austro_hungarians_1
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_claim_ven_1}
		x = 0
		y = 1
		relative_position_id = HUN_claim_ven_1
		
		cost = 3


		available = {
			has_full_control_of_state = 736
			has_full_control_of_state = 160
			has_full_control_of_state = 39
			has_full_control_of_state = 163
		}
		
		bypass = {
			
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			736 = {
				add_core_of = HUN
			}
			160 = {
				add_core_of = HUN
			}
			39 = {
				add_core_of = HUN
			}
			163 = {
				add_core_of = HUN
			}
		}
	}
	
	
	
	
	############################
	### Democratic Monarchy ####
	############################
	
	
		
	focus = {
		id = HUN_hms_responsible_government_1
		icon = GFX_goal_support_democracy
		mutually_exclusive = { focus = HUN_habsburg_middle_1 focus = HUN_populist_habsburg_1 }
		prerequisite = { focus = HUN_accept_the_habsburg_prince_1 }
		#prerequisite = { focus = HUN_praise_parliamentary_monarchy_1 }
		x = -6
		y = 1
		relative_position_id = HUN_accept_the_habsburg_prince_1
		
		cost = 5


		available = {
			has_country_flag = HUN_habsburg_crowned_flag
			OR = {
				has_country_flag = HUN_democratic_model_flag
				has_country_flag = HUN_traditional_model_flag
			}
			hidden_trigger = {
				OR = {
					has_country_flag = HUN_joseph_chosen_flag
					has_country_flag = HUN_otto_chosen_flag
				}
			}
			NOT = {
				has_idea = HUN_gyula_gombos_de_jakfa
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_politics = { ruling_party = democratic }
			
			### Who will be country leader? ### 
			
			if = {
				limit = {
					has_country_flag = HUN_democratic_model_flag
					has_country_flag = HUN_joseph_chosen_flag
					has_country_flag = HUN_szell_prime_flag
				}
				promote_character = HUN_jozsef_szell
				add_ideas = HUN_joseph_idea
			}
			
			else_if = {
				limit = {
					has_country_flag = HUN_democratic_model_flag
					has_country_flag = HUN_joseph_chosen_flag
					has_country_flag = HUN_daranyi_prime_flag
				}
				promote_character = HUN_kalman_daranyi
				add_ideas = HUN_joseph_idea
			}
			
			else_if = {
				limit = {
					has_country_flag = HUN_democratic_model_flag
					has_country_flag = HUN_joseph_chosen_flag
					has_country_flag = HUN_bethlen_prime_flag
				}
				promote_character = HUN_istvan_bethlen
				add_ideas = HUN_joseph_idea
			}
			
			### Change the Hungarian Monarchy idea ###
			
			if = {
				limit = { has_idea = HUN_hungarian_monarchy_democratic_1 }
				swap_ideas = {
					remove_idea = HUN_hungarian_monarchy_democratic_1
					add_idea = HUN_his_majestys_government
				}
			}
			
			if = {
				limit = { has_idea = HUN_hungarian_monarch_3 }
				swap_ideas = {
					remove_idea = HUN_hungarian_monarch_3
					add_idea = HUN_his_majestys_government
				}
			}
			
			### Other Stuff ###
			
			if = {
				limit = { 
					has_country_flag = HUN_joseph_chosen_flag
					has_country_flag = HUN_traditional_model_flag
				}
				remove_unit_leader = 10001
				add_country_leader_trait = retired_officer
			}
						
			country_event = { id = LH.124 days = 7 }
			
			mark_focus_tree_layout_dirty = yes
			
			hidden_effect = {
				if = {
					limit = { has_idea = HUN_gyula_gombos_de_jakfa }
					retire_character = HUN_gyula_gombos_de_jakfa
				}
			}
		}
	}
	
	focus = {
		id = HUN_multiethnic_problem_1 
		icon = GFX_goal_tfv_sever_ties_with_uk
		prerequisite = { focus = HUN_habsburg_middle_1 focus = HUN_hms_responsible_government_1}
		
		x = -3
		y = 1
		relative_position_id = HUN_habsburg_middle_1
		
		cost = 10


		available = {
			has_idea = HUN_multiethnic_nation_idea
		}
		
		bypass = {
			OR = {
				AND = {
					AUS = {
					is_puppet_of = HUN
					}
					CZE = {
						is_puppet_of = HUN
					}
				}
				has_country_flag = HUN_formed_empire_flag
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_multiethnic_nation_idea
				add_idea = HUN_multiethnic_nation_2_idea
			}
		}
	}
	
	focus = {
		id = HUN_clamp_down_on_extremists_1
		icon = GFX_goal_tfv_strengthen_commonwealth_ties
		prerequisite = { focus = HUN_hms_responsible_government_1 focus = HUN_habsburg_middle_1 }
		x = 1
		y = 1
		relative_position_id = HUN_hms_responsible_government_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = fascism popularity = -0.15}
			
			custom_effect_tooltip = HUN_clamp_down_on_extremists_tt
			hidden_effect = {
				set_temp_variable = {
					var = remove_rivals_var
					value = party_popularity@fascism
				}
				multiply_temp_variable = {
					var = remove_rivals_var
					value = -0.5
				}
			
			}
			add_stability = remove_rivals_var
			remove_ideas = HUN_move_idea
		}
	}
	
	
	
	focus = {
		id = HUN_demonstrate_good_will_1
		icon = GFX_focus_generic_concessions
		prerequisite = { focus = HUN_hms_responsible_government_1 }
		x = -1
		y = 1
		relative_position_id = HUN_hms_responsible_government_1
		
		cost = 3


		available = {

		}
		
		bypass = {
		
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.05}
			add_political_power = 50
			add_opinion_modifier = { 
				target = ENG
				modifier = HUN_hungarian_diplomats
			}
			reverse_add_opinion_modifier = { 
				target = ENG
				modifier = HUN_hungarian_diplomats
			}
			add_opinion_modifier = { 
				target = FRA
				modifier = HUN_hungarian_diplomats
			}
			reverse_add_opinion_modifier = { 
				target = FRA
				modifier = HUN_hungarian_diplomats
			}
			
		}
	}
	
	focus = {
		id = HUN_western_guarantees_1
		icon = GFX_goal_generic_defence
		prerequisite = { focus = HUN_provincial_autonomy_1 }
		prerequisite = { focus = HUN_demonstrate_good_will_1 }
		x = -1
		y = 2
		relative_position_id = HUN_demonstrate_good_will_1
		
		cost = 5


		available = {

		}
		
		bypass = {
		
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ENG = {
				country_event = LH.131
			}
			if = {
				limit = { FRA = { is_in_faction = yes } }
				FRA = {
				country_event = LH.131
				}
			}
			
		}
	}
	
	focus = {
		id = HUN_establish_imperial_diet_1
		icon = GFX_goal_generic_national_unity
		#prerequisite = { focus = HUN_m }
		prerequisite = { focus = HUN_multiethnic_problem_1 }
		x = -1
		y = 2
		relative_position_id = HUN_multiethnic_problem_1
		
		cost = 3


		available = {
			has_completed_focus = HUN_habsburg_middle_1
			NOT = {
				has_country_flag = HUN_autocratic_model_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_country_flag = HUN_confederation_monarchy_flag }
				add_country_leader_trait = head_of_the_imperial_diet
			}
			add_ideas = HUN_imperial_congress_1
			every_other_country = {
				limit = {
					OR = {
						TAG = AUS 
						TAG = CZE 
					}
					is_puppet_of = HUN
				}
				add_ideas = HUN_imperial_congress_1
			}
		}
	}
	
	focus = {
		id = HUN_karls_dream_1
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = HUN_establish_imperial_diet_1 }
		x = 0
		y = 1
		relative_position_id = HUN_establish_imperial_diet_1
		
		cost = 3


		available = {
			has_country_flag = HUN_austria_invited_flag
			has_country_flag = HUN_bohemia_invited_flag
			OR = {
				has_completed_focus = HUN_restoration_aus_hun
				has_completed_focus = HUN_formalize_treaty
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			if = {
				limit = { has_idea = HUN_multiethnic_nation_idea }
				remove_ideas = HUN_multiethnic_nation_idea
				}
			if = {
				limit = { has_idea = HUN_multiethnic_nation_2_idea }
				remove_ideas = HUN_multiethnic_nation_2_idea
			}
		
			hidden_effect = {
				set_cosmetic_tag = HUN_FEDERATION
			}
			custom_effect_tooltip = HUN_formation_danubian_confederation_tt
		}
	}
	
	
	focus = {
		id = HUN_provincial_autonomy_1
		icon = GFX_focus_generic_self_management
		prerequisite = { focus = HUN_multiethnic_problem_1 focus = HUN_demonstrate_good_will_1 }
		prerequisite = {  }
		x = 1
		y = 1
		relative_position_id = HUN_demonstrate_good_will_1
		
		cost = 3


		available = {
			NOT = {
				has_country_flag = HUN_autocratic_model_flag
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_idea = HUN_his_majestys_government }
				swap_ideas = {
					remove_idea = HUN_his_majestys_government
					add_idea = HUN_his_majestys_government_2
				}
			}
			if = {
				limit = { has_country_flag = HUN_confederation_monarchy_flag }
				every_state = {
					limit = { 
						NOT = {
							is_core_of = ROOT 
						}
						is_controlled_by = ROOT
					}
					add_dynamic_modifier = { modifier = HUN_provincial_autonomy }
				}
			}
		}
	}
	
	focus = {
		id = HUN_united_against_extremism_1
		icon = GFX_goal_anti_comintern_pact
		prerequisite = { focus = HUN_provincial_autonomy_1 }
		x = 0
		y = 1
		relative_position_id = HUN_provincial_autonomy_1
		
		cost = 3


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_front_against_extremism
			every_other_country = {
				limit = { is_puppet_of = HUN }
				add_ideas = HUN_front_against_extremism
			}
		}
	}
	
	focus = {
		id = HUN_emergency_conscription_1
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = HUN_united_against_extremism_1 focus = HUN_establish_imperial_diet_1 }
		x = 0
		y = 1
		relative_position_id = HUN_united_against_extremism_1
		
		cost = 3


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = extensive_conscription
		}
	}
	
	focus = {
		id = HUN_develop_the_empire_1
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = HUN_multiethnic_problem_1 }
		#prerequisite = { focus = HUN_claim_bucovin}
		x = 0
		y = 1
		relative_position_id = HUN_multiethnic_problem_1
		
		cost = 3


		available = {
		
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_receive_60_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 60
			}
		}
	}
	
	#focus = {
	#	id = HUN_youth_training_1
	#	icon = GFX_focus_hun_elect_a_king
	#	#prerequisite = { focus = HUN_hms_responsible_government_1 focus = HUN_austro_hungarian_army_1}
	#	x = 2
	#	y = 20
	#	relative_position_id = HUN_hms_responsible_government_1
	#	
	#	cost = 10
#
#
#		available = {
#
#		}
#		
#		bypass = {
#		
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#			custom_effect_tooltip = HUN_focus_under_construction_tt
#		}
#	}
	
	focus = {
		id = HUN_formalize_treaty_1
		icon = GFX_focus_hol_the_foundations_of_defense
		mutually_exclusive = { focus = HUN_restoration_aus_hun_1 }
		prerequisite = { focus = HUN_demand_referendum_1 }
		prerequisite = { focus = HUN_protect_cze_1  }
		x = -2
		y = 1
		relative_position_id = HUN_protect_cze_1
		
		cost = 10


		available = {
			OR = {
				has_completed_focus = HUN_hms_responsible_government_1
				AND = {
					has_completed_focus = HUN_habsburg_middle_1
					has_country_flag = HUN_traditional_model_flag
				}
			}
			NOT = {
				OR = {
					AND = {
						has_completed_focus = HUN_habsburg_middle_1
						has_country_flag = HUN_confederation_monarchy_flag
					}
					AND = {
						has_completed_focus = HUN_habsburg_middle_1
						has_country_flag = HUN_autocratic_model_flag
					}
					has_completed_focus = HUN_populist_habsburg_1
				}
			}
		}
		
		bypass = {
			OR = {
				has_country_flag = HUN_no_three_kingdoms_flag
				AND = {
					has_global_flag = HUN_AUS_refused_flag
					has_global_flag = HUN_CZE_refused_flag
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
				### Traditional Constitution ###
			
			if = {
				limit = {
					has_country_flag = HUN_traditional_model_flag
					OR = {
						has_government = neutrality
						has_government = democratic
					}
					has_global_flag = HUN_CZE_agreed_flag
					if = {
						limit = { has_completed_focus = HUN_demand_referendum }
						has_global_flag = HUN_AUS_refused_flag
					}
				}
				CZE = {
					every_unit_leader = {
					set_nationality = HUN
					}
				}
				annex_country = { target = CZE transfer_troops = yes }
				HUN = { set_country_flag = CZE_annexed_peacefully } # Used to change division name lists for HUN
				add_state_core = 69
				add_state_core = 9
				add_state_core = 74
				add_state_core = 75
				add_state_core = 664
				add_state_core = 71
				add_state_core = 72
				add_state_core = 73
				add_state_core = 70
				
				set_cosmetic_tag = HUN_CZE
				
			}
			
			else_if = {
				limit = {
					has_country_flag = HUN_traditional_model_flag
					OR = {
						has_government = neutrality
						has_government = democratic
					}
					has_global_flag = HUN_AUS_agreed_flag
					if = {
						limit = { has_completed_focus = HUN_protect_cze }
						has_global_flag = HUN_CZE_refused_flag
					}
				}
				AUS = {
					every_unit_leader = {
					set_nationality = HUN
					}
				}
				annex_country = { target = AUS transfer_troops = yes }
				add_state_core = 978
				add_state_core = 4
				add_state_core = 152
				add_state_core = 153
				
				set_cosmetic_tag = HUN_AUS
			}
			
			else_if = {
				limit = {
					has_country_flag = HUN_traditional_model_flag
					OR = {
						has_government = neutrality
						has_government = democratic
					}
					has_global_flag = HUN_AUS_agreed_flag
					has_global_flag = HUN_CZE_agreed_flag
				}
				AUS = {
					every_unit_leader = {
					set_nationality = HUN
					}
				}
				annex_country = { target = AUS transfer_troops = yes }
				CZE = {
					every_unit_leader = {
					set_nationality = HUN
					}
				}
				annex_country = { target = CZE transfer_troops = yes }
				add_state_core = 69
				add_state_core = 9
				add_state_core = 74
				add_state_core = 75
				add_state_core = 664
				add_state_core = 71
				add_state_core = 72
				add_state_core = 73
				add_state_core = 70
				add_state_core = 978
				add_state_core = 4
				add_state_core = 152
				add_state_core = 153
				
				set_cosmetic_tag = HUN_AUS_CZE
			}
			
				### Civic Constitution ###
				
			else_if = {
				limit = {
					OR = {
						has_country_flag = HUN_democratic_model_flag
						has_country_flag = HUN_confederation_democracy_flag
					}
					has_global_flag = HUN_CZE_agreed_flag
					if = {
						limit = { has_completed_focus = HUN_demand_referendum }
						has_global_flag = HUN_AUS_refused_flag
					}
				}
				puppet = CZE
				set_autonomy = { target = CZE autonomy_state = autonomy_integrated_puppet }
				CZE = {
					add_ideas = HUN_otto_idea_other_nations
				}
			}
			
			else_if = {
				limit = {
					OR = {
						has_country_flag = HUN_democratic_model_flag
						has_country_flag = HUN_confederation_democracy_flag
					}
					has_global_flag = HUN_AUS_agreed_flag
					if = {
						limit = { has_completed_focus = HUN_protect_cze }
						has_global_flag = HUN_CZE_refused_flag
					}
				}
				puppet = AUS
				set_autonomy = { target = AUS autonomy_state = autonomy_integrated_puppet }
				AUS = {
					add_ideas = HUN_otto_idea_other_nations
				}
			}
			
			else_if = {
				limit = {
					OR = {
						has_country_flag = HUN_democratic_model_flag
						has_country_flag = HUN_confederation_democracy_flag
					}
					has_global_flag = HUN_AUS_agreed_flag
					has_global_flag = HUN_CZE_agreed_flag
				}
				puppet = AUS
				set_autonomy = { target = AUS autonomy_state = autonomy_integrated_puppet }
				puppet = CZE
				set_autonomy = { target = CZE autonomy_state = autonomy_integrated_puppet }
				CZE = {
					add_ideas = HUN_otto_idea_other_nations
				}
				AUS = {
					add_ideas = HUN_otto_idea_other_nations
				}
			}
			
			else = {
				custom_effect_tooltip = HUN_we_will_join_them_tt
			}
		}
	}
	
	focus = {
		id = HUN_connect_cisleithania_with_transleithania_1
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = HUN_formalize_treaty_1 focus = HUN_restoration_aus_hun_1 }
		x = 0
		y = 1
		relative_position_id = HUN_formalize_treaty_1
		
		cost = 7


		available = {
			has_country_flag = HUN_formed_empire_flag
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_build_railways_between_cis_trans_tt
			add_timed_idea = { idea = HUN_cis_with_trans_idea days = 180 }
			hidden_effect = {
				build_railway = {	# Between Györ and Wien
					level = 1
					controller_priority = {
						base = 1
					}
					path = { 6720 13238 3700 11666 }
					start_province = 6720
					target_province = 11666
				}
				
				build_railway = {	# Between Szombathely and Graz
					level = 1
					controller_priority = {
						base = 1
					}
					path = { 11627 13236 11630 9648 }
					#start_province = 6720
					#target_province = 3700
				}
				
				build_railway = {	# Between Zagreb and Graz
					level = 1
					controller_priority = {
						base = 1
					}
					path = { 11581 3654 596 9646 9648 }
					#start_province = 6720
					#target_province = 3700
				}
				
				build_railway = {	# Between Pozsony and Vienna
					level = 1
					controller_priority = {
						base = 1
					}
					path = { 9692 6739 11666 }
					#start_province = 6720
					#target_province = 3700
				}
				
				build_railway = {	# Between Zilina and Brno
					level = 1
					controller_priority = {
						base = 1
					}
					#path = { 11539 6739 11666 }
					start_province = 11539
					target_province = 3569
				}
			}
		}
	}
	
	
	############################
	####### Join Allies ########
	############################
	
	focus = {
		id = HUN_join_the_allies_1
		icon = GFX_goal_generic_alliance
		mutually_exclusive = {focus = HUN_the_ceco_1 focus = HUN_join_com_1 }
		prerequisite = { focus = HUN_reapproachement_with_the_entente_1 focus = HUN_trade_with_the_west_1 focus = HUN_western_guarantees_1 }
		x = -1
		y = 1
		relative_position_id = HUN_western_guarantees_1
		
		cost = 2


		available = {
			is_in_faction = no
			is_subject = no
			ENG = {
				exists = yes
				is_puppet = no
				NOT = {
					has_war_with = HUN
				}
			}
			any_other_country = {
				is_major = yes
				is_faction_leader = yes
				has_government = democratic
			}
			NOT = {
				any_other_country = {
					is_in_faction_with = ENG
					has_war_with = HUN	
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					ENG = {
						has_government = democratic
						is_faction_leader = yes
						not = { has_war_with = ROOT }
					}
				}
				ENG = { country_event = generic.2 }
			}
			else = {
				get_best_alliance_match_democratic_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}
	
	focus = {
		id = HUN_industrial_investments_1
		icon = GFX_goal_generic_production
		prerequisite = { focus =  HUN_join_the_allies_1}
		x = -3
		y = 1
		relative_position_id = HUN_join_the_allies_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_joint_development days = 365}
			random_country = {
				limit = {
					is_in_faction_with = HUN
				}
				add_timed_idea = { idea = HUN_joint_development days = 365}
			}
			custom_effect_tooltip = HUN_receive_40_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 40
			}
		}
	}
	
	focus = {
		id = HUN_tax_reform_1
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = { focus =  HUN_industrial_investments_1}
		x = 1
		y = 1
		relative_position_id = HUN_industrial_investments_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_tax_reform_idea
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_tt = yes 
			HUN_add_4_construction = yes
		}
	}
	
	focus = {
		id = HUN_joint_oil_1
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus =  HUN_industrial_investments_1}
		x = -1
		y = 2
		relative_position_id = HUN_industrial_investments_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
			ENG = {
				is_faction_leader = yes
				has_government = democratic
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_to_tech_sharing_group = HUN_joint_oil_1_exploitation_company_tech_group
			ENG = { add_to_tech_sharing_group = HUN_joint_oil_1_exploitation_company_tech_group }
		}
	}
	
	focus = {
		id = HUN_joint_manufacturing_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus =  HUN_tax_reform_1}
		x = 0
		y = 1
		relative_position_id = HUN_tax_reform_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_tax_reform_idea
				add_idea = HUN_joint_manufacturing_idea
			}
		}
	}
	
	focus = {
		id = HUN_renegotiate_trianon_1
		icon = GFX_goal_generic_improve_relations
		mutually_exclusive = {focus = HUN_autonomy_for_transylvania_1}
		prerequisite = { focus =  HUN_joint_manufacturing_1 focus = HUN_joint_oil_1 focus = HUN_joint_steel_development_with_romania_1 focus = HUN_joint_industrial_investments_1}
		x = -1
		y = 1
		relative_position_id = HUN_joint_manufacturing_1
		
		cost = 10


		available = {
			NOT = {
				#has_completed_focus = HUN_praise_parliamentary_monarchy_1
			}
			if = {
				limit = {
					has_completed_focus = HUN_preach_12_points_1
				}
				has_country_flag = HUN_revision_supported_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					has_completed_focus = HUN_join_the_allies
				}
				ENG = {
					country_event = { id = LH.209 days = 5 }
				}
			}
			else = {
				if = {
					limit = { 
						NOT = {
							has_country_flag = HUN_immigration_romania_flag
						}
					}
					ROM = { country_event = { id = LH.228 days = 2 } }
				}
				
				if = {
					limit = { 
						NOT = {
							has_country_flag = HUN_immigration_yugoslavia_flag
						}
					}
					YUG = { country_event = { id = LH.228 days = 3 } }
				}
				
				if = {
					limit = { 
						NOT = {
							has_country_flag = HUN_immigration_slovakia_flag
						}
					}
					CZE = { country_event = { id = LH.228 days = 4 } }
				}
				
			}
			custom_effect_tooltip = HUN_immigration_not_good_tt
		}
	}
	
	focus = {
		id = HUN_british_imports_1
		icon = GFX_focus_chi_british_cooperation
		prerequisite = { focus = HUN_join_the_allies_1 }
		x = 0
		y = 1
		relative_position_id = HUN_join_the_allies_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.102
		}
	}
	
	focus = {
		id = HUN_british_naval_expertise_1
		icon = GFX_goal_generic_navy_cruiser
		prerequisite = { focus =  HUN_british_imports_1}
		x = 0
		y = 1
		relative_position_id = HUN_british_imports_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_naval_expertise_decision_unlock_tt
			add_tech_bonus = {
				name = HUN_italian_naval_expertise
				bonus = 1.0
				uses = 4
				category = naval_doctrine
			}
		}
	}
	
	focus = {
		id = HUN_motorized_tactics_1
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus =  HUN_british_naval_expertise_1}
		x = 0
		y = 1
		relative_position_id = HUN_british_naval_expertise_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_motorized_decision_unlock_tt
		}
	}
	
	focus = {
		id = HUN_british_fighters_1
		icon = GFX_goal_generic_air_fighter
		prerequisite = { focus =  HUN_motorized_tactics_1}
		x = 2
		y = 2
		relative_position_id = HUN_motorized_tactics_1
		
		cost = 10


		available = {
			is_in_faction_with = ENG
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = HUN_light_fighter_effort
				bonus = 3
				ahead_reduction = 2
				uses = 1
				technology = early_fighter
				technology = fighter1
				technology = fighter2
				technology = fighter3
			}
			custom_effect_tooltip = HUN_fighter_decision_unlock_tt
		}
	}
	
	
	focus = {
		id = HUN_firepower_1
		icon = GFX_goal_generic_army_artillery2
		mutually_exclusive = {focus = HUN_defensive_strategy_1} 
		prerequisite = { focus =  HUN_motorized_tactics_1}
		x = 1
		y = 1
		relative_position_id = HUN_motorized_tactics_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = { FRA_firepower }
		}
	}
	
	focus = {
		id = HUN_defensive_strategy_1
		icon = GFX_goal_generic_defence
		mutually_exclusive = {focus = HUN_firepower_1} 
		prerequisite = { focus =  HUN_motorized_tactics_1 }
		x = -1
		y = 1
		relative_position_id = HUN_motorized_tactics_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_defensive_effort_idea
		}
	}
	
	
	
	focus = {
		id = HUN_allied_aviation_1
		icon = GFX_goal_generic_build_airforce
		prerequisite = { focus =  HUN_firepower_1}
		x = -1
		y = 1
		relative_position_id = HUN_firepower_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = FRA_firepower
				add_idea = HUN_allied_aviation_idea 
			}
		}
	}
	
	focus = {
		id = HUN_aa_focus_1
		icon = GFX_focus_generic_air_defense
		prerequisite = { focus = HUN_defensive_strategy_1}
		x = -1
		y = 1
		relative_position_id = HUN_defensive_strategy_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_defensive_effort_idea
				add_idea = HUN_anti_air_idea
			}
		}
	}
	
	focus = {
		id = HUN_educational_reform_1
		icon = GFX_focus_research2
		prerequisite = { focus = HUN_join_the_allies_1 focus = HUN_the_ceco_1}
		x = -5
		y = 1
		relative_position_id = HUN_join_the_allies_1
		
		cost = 10


		available = {
			if = {
				limit = { has_completed_focus = HUN_join_the_allies_1 }
				is_in_faction_with = ENG
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_research_slot = 1
		}
	}
	
	focus = {
		id = HUN_joint_research_1
		icon = GFX_goal_tfv_generic_tech_sharing
		prerequisite = { focus = HUN_educational_reform_1}
		x = 0
		y = 1
		relative_position_id = HUN_educational_reform_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			#custom_effect_tooltip = HUN_joint_research_tt
			add_to_tech_sharing_group = allied_laboratories
			ENG = { add_to_tech_sharing_group = allied_laboratories }
			#hidden_effect = {
			#	add_ideas = HUN_joint_research_1_idea
			#}
			
		}
	}
	
	focus = {
		id = HUN_allied_atomic_research_1
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = HUN_join_the_allies_1 focus = HUN_the_ceco_1}
		x = -7
		y = 1
		relative_position_id = HUN_join_the_allies_1
		
		cost = 10


		available = {
			if = {
				limit = { has_completed_focus = HUN_join_the_allies_1 }
				is_in_faction_with = ENG
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_tech_bonus = {
				name = secret_bonus
				bonus = 1.0
				uses = 2
				category = nuclear
				category = rocketry
			}
		}
	}
	
	############################
	##### Social Reforms #######
	############################
	
	focus = {
		id = HUN_social_reforms_1
		icon = GFX_focus_generic_treaty
		
		mutually_exclusive = { focus = HUN_continue_bethlens_consolidation_1 focus = HUN_empower_the_far_right_1}
		x = 5
		y = 0
		
		cost = 10


		available = {
			custom_trigger_tooltip = {
			tooltip = HUN_chose_left_prime_minister_tooltip
				OR = {
				has_country_flag = HUN_szakasits_prime_flag
				has_country_flag = HUN_pleyer_prime_flag
				has_country_flag = HUN_bajcsy_prime_flag
					AND = {
						has_country_flag = HUN_gombos_alive
						NOT = {
							has_country_flag = gombos_death
						}
					}
				}
			}
			#NOT = {
			#	has_idea = HUN_gyula_gombos_de_jakfa
			#}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			country_event = LH.253
			hidden_effect = {
				load_focus_tree = LH_left
				set_country_flag = HUN_left_side_chosen_flag
				unlock_national_focus = HUN_social_reforms
			}
		}
	}
	
	############################
	######## Democratic ########
	############################
	
	focus = {
		id = HUN_utilize_the_march_front_1
		icon = GFX_goal_support_democracy
		prerequisite = {focus = HUN_social_reforms_1}
		mutually_exclusive = { focus = HUN_council_of_commisars_1}
		x = 6
		y = 1
		relative_position_id = HUN_social_reforms_1
		
		cost = 5


		available = {
			
			NOT = {
				has_idea = HUN_social_reforms_idea
				
			}
			has_country_flag = HUN_democratic_path_chosen
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			
			add_timed_idea = {idea = HUN_march_front days = 180}
			set_country_flag = HUN_democratic_path_flag
		}
	}
	
	############################
	####### March Front ########
	############################
	
	focus = {
		id = HUN_preach_12_points_1
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = {focus = HUN_utilize_the_march_front_1}
		mutually_exclusive = { focus = HUN_strengthen_the_dragon_movement_1}
		x = -4
		y = 1
		relative_position_id = HUN_utilize_the_march_front_1
		
		cost = 3


		available = {
			date > 1937.3.15
			OR = {
				has_country_flag = HUN_szakasits_prime_flag
				has_country_flag = HUN_pleyer_prime_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LH.87
			set_country_flag = HUN_0_point_enacted_flag
		}
	}
	
	
	
	focus = {
		id = HUN_unite_liberals_1
		icon = GFX_goal_generic_national_unity
		prerequisite = {focus = HUN_preach_12_points_1}
		prerequisite = {focus = HUN_break_bethlen_pleyer_agreement_1}
		x = 0
		y = 2
		relative_position_id = HUN_preach_12_points_1
		
		cost = 5


		available = {
		
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		

			

		

		completion_reward = {
			
			add_stability = 0.05
			add_popularity = {
					ideology = democratic
					popularity = 0.05
				}
				
			promote_character = HUN_arpad_szakasits
		}
	}
	
	focus = {
		id = HUN_work_with_the_kmp_1
		icon = GFX_focus_por_workers_of_iberia
		prerequisite = {focus = HUN_unite_liberals_1}
		x = 0
		y = 1
		relative_position_id = HUN_unite_liberals_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			SOV = {
				remove_opinion_modifier = {
					target = HUN 
					modifier = HUN_SOV_banned_communism
				}
			}
			
			custom_effect_tooltip = HUN_work_with_the_kmp_tt
			hidden_effect = {
				
				set_temp_variable = {
					var = kmp_pop
					value = party_popularity@communism
				}
				
				add_popularity = {
					ideology = democratic
					popularity = kmp_pop
				}
				
				add_popularity = {
					ideology = communism
					popularity = -1
				}
			
			}
			
			hidden_effect = {
				if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
				if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
			}
			
			if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state  }
				}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1  }
					}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
					}
			}
			if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1 }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
					}
			}
			
		}
	}
	
	focus = {
		id = HUN_state_education_1		
		#mutually_exclusive = { focus = HUN_catholic_education_1 }
		icon = GFX_focus_research2
		prerequisite = { focus = HUN_work_with_the_kmp_1 }
		x = 0
		y = 1
		relative_position_id = HUN_work_with_the_kmp_1
		
		cost = 10


		available = {

		}
		
		bypass = {
		
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_focus_under_construction_tt
		}
	}
	

	
	
	
	############################
	##### Dragon Movement ######
	############################
	
	focus = {
		id = HUN_strengthen_the_dragon_movement_1
		icon = GFX_dragon_movement
		prerequisite = {focus = HUN_utilize_the_march_front_1}
		mutually_exclusive = { focus = HUN_preach_12_points_1}
		x = 4
		y = 1
		relative_position_id = HUN_utilize_the_march_front_1
		
		cost = 10


		available = {
			has_country_flag = HUN_bajcsy_prime_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = {
				ideology = democratic 
				popularity = 0.05
			}
			add_ideas = HUN_sarkanyos_mozgalom
			
			set_party_name = { ideology = democratic long_name = HUN_dragon_party_long name = HUN_dragon_party }
			
			
			
			hidden_effect = {
			
				news_event = LH_news.3
				
				promote_character = HUN_endre_zsilinszky
			}
			
		}
	}

	
	focus = {
		id = HUN_break_bethlen_pleyer_agreement_1
		icon = GFX_focus_renounce_the_treaty_of_trianon
		prerequisite = {focus = HUN_preach_12_points_1 focus = HUN_strengthen_the_dragon_movement_1}
		x = 3
		y = 1
		relative_position_id = HUN_preach_12_points_1
		
		cost = 3


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_popularity = { ideology = democratic popularity = 0.05}
			custom_effect_tooltip = HUN_broke_bethlen_pact_tt
			set_country_flag = HUN_broke_bethlen_pact_flag
		}
	}
	
	
	
	focus = {
		id = HUN_invest_in_banking_sector_1
		icon = GFX_focus_usa_reestablish_the_gold_standard
		prerequisite = {focus = HUN_strengthen_the_dragon_movement_1 }
		x = 1
		y = 2
		relative_position_id = HUN_strengthen_the_dragon_movement_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_3_construction = yes
			HUN_add_2_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_land_reform_1
		icon = GFX_focus_generic_the_giant_wakes
		prerequisite = {focus = HUN_break_bethlen_pleyer_agreement_1}
		#prerequisite = {focus = HUN_preach_12_points_1}
		x = -1
		y = 1
		relative_position_id = HUN_break_bethlen_pleyer_agreement_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			custom_effect_tooltip = HUN_land_reform_decisions_available_tt
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_output_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	
	
	
	
	
	focus = {
		id = HUN_assert_torzsokosseg_1
		icon = GFX_goal_generic_demand_territory
		prerequisite = {focus = HUN_break_bethlen_pleyer_agreement_1 focus = HUN_nullify_numerus_clausus_1}
		prerequisite = {focus = HUN_strengthen_the_dragon_movement_1}
		x = -1
		y = 2
		relative_position_id = HUN_strengthen_the_dragon_movement_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_completed_focus = HUN_invest_in_banking_sector_1 }
				add_ideas = HUN_torzsokosseg_2
			}
			else = {
				add_ideas = HUN_torzsokosseg
			}
			
			custom_effect_tooltip = HUN_torzsokosseg_tt
			
		}
	}
	
	focus = {
		id = HUN_deny_the_germans_1
		icon = GFX_goal_generic_demand_territory
		prerequisite = {focus = HUN_preach_12_points_1}
		x = -1
		y = 1
		relative_position_id = HUN_preach_12_points_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_country_flag = HUN_denied_germans_flag
			add_political_power = 50
			add_war_support = 0.1
			custom_effect_tooltip = HUN_deny_germany_available_tt
			
		}
	}
	
	focus = {
		id = HUN_solidify_conservative_stance_1
		icon = GFX_goal_generic_neutrality_focus
		prerequisite = {focus = HUN_assert_torzsokosseg_1 focus = HUN_invest_in_banking_sector_1}
		x = 1
		y = 1
		relative_position_id = HUN_assert_torzsokosseg_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_conservative_stance_tt
			
			hidden_effect = {
				country_event = LH.89
			}
			
		}
	}
	
	focus = {
		id = HUN_catholic_education_1
		icon = GFX_focus_por_concordat
		#mutually_exclusive = { focus = HUN_state_education_1 }
		prerequisite = { focus = HUN_solidify_conservative_stance_1 }
		x = -1
		y = 1
		relative_position_id = HUN_solidify_conservative_stance_1
		
		cost = 10


		available = {

		}
		
		bypass = {
		
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_focus_under_construction_tt
		}
	}
	
	
	
	
	focus = {
		id = HUN_constitutional_reform_1
		icon = GFX_focus_generic_treaty
		dynamic = yes
		prerequisite = {focus = HUN_abolish_the_monarchy_1}
		prerequisite = {focus = HUN_work_with_the_kmp_1 focus = HUN_solidify_conservative_stance_1 focus = HUN_protect_local_businesses_1}
		
		
		x = -4
		y = 1
		relative_position_id = HUN_solidify_conservative_stance_1
		
		cost = 10


		available = {
			if = {
				limit = { has_completed_focus = HUN_strengthen_the_dragon_movement_1 }
				democratic > 0.50
			}
			
			is_subject = no
			
			hidden_trigger = {
				OR = {
					AND = {
						has_completed_focus = HUN_protect_local_businesses_1
						has_completed_focus = HUN_solidify_conservative_stance_1
					}
					has_completed_focus = HUN_work_with_the_kmp_1
				}
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 120
			if = {
				limit = { has_completed_focus = HUN_strengthen_the_dragon_movement_1 }
				set_politics = {
					ruling_party = democratic
					elections_allowed = yes
				}
				set_cosmetic_tag = HUN_DRAGON
			}
			
			else_if = {
				limit = { has_completed_focus = HUN_preach_12_points_1 } 
			custom_effect_tooltip = HUN_civil_war_march_front
			custom_effect_tooltip = HUN_civil_war_size_tt
			hidden_effect = {
				
				set_cosmetic_tag = HUN_REP
				
				set_temp_variable = { civil_war_strength = party_popularity@neutrality }
				#multiply_temp_variable = { civil_war_strength = 100 }
				
				if = {
					limit = {
						OR = {
							
							has_country_flag = HUN_0_point_enacted_flag
							has_country_flag = HUN_1_point_enacted_flag
							has_country_flag = HUN_2_point_enacted_flag
							has_country_flag = HUN_3_point_enacted_flag
							has_country_flag = HUN_4_point_enacted_flag
							has_country_flag = HUN_5_point_enacted_flag
							has_country_flag = HUN_6_point_enacted_flag
						}
					}
					start_civil_war = {
						ideology = neutrality 
						size = var:civil_war_strength
						states = {
							155 972
						}
					}
					
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
				}
				
				else = {
					set_politics = {
						ruling_party = democratic
						elections_allowed = yes
					}
				}
				
				
			}
		}
		}
	}
	
	focus = {
		id = HUN_reapproachement_with_the_entente_1
		icon = GFX_focus_generic_little_entente
		#mutually_exclusive = { focus = HUN_hms_responsible_government_1 }
		prerequisite = {  focus = HUN_constitutional_reform_1}
		x = 4
		y = 1
		relative_position_id = HUN_state_education_1
		
		cost = 5


		available = {
			has_war = no
		}
		
		bypass = {
			OR = {
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
				AND = {
					ROM = {
						OR = {
							exists = no
							is_puppet = yes
						}
					}
					FRA = {
						OR = {
							exists = no
							is_puppet = yes
							NOT = { has_completed_focus = FRA_strengthen_the_little_entente }
						}
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					FRA = { 
						exists = yes
						is_subject = no
						has_completed_focus = FRA_strengthen_the_little_entente 
					}
				}
				FRA = { country_event = { id = DOD_hungary.30 } }
			}
			if = {
				limit = {
					country_exists = ROM
					OR = {
						FRA = { NOT = { has_completed_focus = FRA_strengthen_the_little_entente } }
						FRA = { exists = no }
						FRA = { is_subject = yes }
					}
				}
				ROM = { country_event = { id = DOD_hungary.30 } }
			}
			
		}
	}
	
	
	############################
	########## CECO ############
	############################
	
	focus = {
		id = HUN_the_ceco_1
		icon = GFX_goal_generic_national_unity
		mutually_exclusive = {focus = HUN_join_the_allies_1 focus = HUN_join_com_1 }
		prerequisite = { focus = HUN_reapproachement_with_the_entente_1  focus = HUN_trade_with_the_west_1 focus = HUN_western_guarantees_1} 
		x = -5
		y = 1
		relative_position_id = HUN_reapproachement_with_the_entente_1
		
		cost = 2


		available = {
			is_in_faction = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			set_rule = { can_create_factions = yes } 
			create_faction = HUN_BALKAN_FACTION
		}
	}
	
	focus = {
		id = HUN_spread_democracy_1
		icon = GFX_goal_support_democracy
		prerequisite = { focus = HUN_the_ceco_1 }
		x = 0
		y = 1
		relative_position_id = HUN_the_ceco_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 100
			custom_effect_tooltip = HUN_spread_democracy_tt
			set_country_flag = HUN_spread_democracy_1_flag
		}
	}
	
	focus = {
		id = HUN_unlikely_alliance_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_spread_democracy_1 }
		x = 1
		y = 1
		relative_position_id = HUN_spread_democracy_1
		
		cost = 5


		available = {
			ROM = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
			
		}
		
		bypass = {
			OR = {
				NOT = {
					ROM = {
						is_puppet = no
						exists = yes
					}
				}
				is_in_faction_with = ROM
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ROM = { country_event = generic.5 }
		}
	}
	
	
	
	focus = {
		id = HUN_invite_yugoslavia_1
		icon = GFX_focus_invite_yugoslavia
		prerequisite = { focus = HUN_spread_democracy_1 }
		x = -1
		y = 1
		relative_position_id = HUN_spread_democracy_1
		
		cost = 5


		available = {
			YUG = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					YUG = {
						is_puppet = no
						exists = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			YUG = { country_event = generic.5 }
		}
	}
	
	focus = {
		id = HUN_protect_cze_1_for_southern_slovakia_1
		icon = GFX_focus_generic_treaty
		prerequisite = { focus = HUN_spread_democracy_1 }
		x = -3
		y = 1
		relative_position_id = HUN_spread_democracy_1
		
		cost = 10


		available = {
			CZE = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.45
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					CZE = {
						is_puppet = no
						exists = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					NOT = {
						has_full_control_of_state = 664
					}
				}
				CZE = { country_event = LH.99 }
			}
			else = {
				CZE = { country_event = generic.5 }
			}
		}
	}
	
	
	
	focus = {
		id = HUN_joint_industrial_developments_with_weiss_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = HUN_protect_cze_1_for_southern_slovakia_1 focus = HUN_nationalize_the_industry_1 }
		x = -1
		y = 1
		relative_position_id = HUN_protect_cze_1_for_southern_slovakia_1
		
		cost = 10


		available = {
			OR = {
				is_in_faction_with = CZE
				has_full_control_of_state = 9
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no 

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_weiss
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
			CZE = {
				add_tech_bonus = {
				name = industrial_bonus
				bonus = 0.5
				uses = 2
				category = industry
			}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 2
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_weiss
			}
			70 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				
			}
		}
	}
	
	focus = {
		id = HUN_joint_steel_development_in_slovakia_1
		icon = GFX_focus_generic_steel
		prerequisite = { focus = HUN_joint_industrial_developments_with_weiss_1 }
		x = 0
		y = 2
		relative_position_id = HUN_joint_industrial_developments_with_weiss_1
		
		cost = 10


		available = {
			OR = {
				is_in_faction_with = CZE
				has_full_control_of_state = 70
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_joint_steel_with_weiss
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 664 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}

				set_state_flag = HUN_joint_steel_with_weiss
				add_resource = {
					type = steel
					amount = 8
				}
			}
			70 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
			
		}
	}
	
	focus = {
		id = HUN_invite_poland_1
		icon = GFX_focus_generic_polish_deal
		prerequisite = { focus = HUN_protect_cze_1_for_southern_slovakia_1 focus = HUN_invite_yugoslavia_1}
		x = 1
		y = 1
		relative_position_id = HUN_protect_cze_1_for_southern_slovakia_1
		
		cost = 5


		available = {
			POL = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					POL = {
						is_puppet = no
						exists = yes
						is_in_faction = no
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			POL = { country_event = generic.5 }
		}
	}
	
	focus = {
		id = HUN_invite_baltics_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_invite_poland_1 }
		x = -1
		y = 1
		relative_position_id = HUN_invite_poland_1
		
		cost = 10


		available = {
			
			POL = {
				is_in_faction_with = HUN
			}
		
			LIT = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
			LAT = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
			EST = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
		}
		
		bypass = {
			OR = {
				
				LIT = {
					is_puppet = yes
					exists = no
					is_in_faction = yes
				}
				LAT = {
					is_puppet = yes
					exists = no
					is_in_faction = yes
				}
				EST = {
					is_puppet = yes
					exists = no
					is_in_faction = yes
				}
				
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			LIT = { country_event = generic.5 }
			LAT = { country_event = generic.5 }
			EST = { country_event = generic.5 }
		}
	}
	
	
	
	focus = {
		id = HUN_danubian_confederation_1
		icon = GFX_goal_generic_alliance
		prerequisite = { focus = HUN_invite_poland_1 }
		prerequisite = { focus = HUN_invite_bulgaria_1}
		x = 0
		y = 2
		relative_position_id = HUN_invite_poland_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { ROM = { is_in_faction_with = HUN}}
				HUN = { 
					annex_country = {
						target = ROM
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = { YUG = { is_in_faction_with = HUN}}
				HUN = { 
					annex_country = {
						target = YUG
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = { BUL = { is_in_faction_with = HUN}}
				HUN = { 
					annex_country = {
						target = BUL
						transfer_troops = yes
					}
				}
			}
			if = {
				limit = { CZE = { is_in_faction_with = HUN}}
				HUN = { 
					annex_country = {
						target = CZE
						transfer_troops = yes
					}
				}
			}
			else = {
				custom_effect_tooltip = HUN_members_of_faction_annex_tt
			}
		}
	}
	
	focus = {
		id = HUN_oil_with_yug_1
		icon = GFX_goal_generic_oil_refinery
		prerequisite = { focus = HUN_invite_yugoslavia_1}
		x = 1
		y = 1
		relative_position_id = HUN_invite_yugoslavia_1
		
		cost = 10


		available = {
			is_in_faction_with = yug
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			
			
		}

		completion_reward = {
			972 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 10
				}
			}
			107 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = synthetic_refinery
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = oil
					amount = 10
				}
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_3_construction = yes
			HUN_add_4_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_invite_albania_1
		icon = GFX_focus_generic_befriend_albania
		prerequisite = { focus = HUN_invite_yugoslavia_1}
		x = 0
		y = 2
		relative_position_id = HUN_invite_yugoslavia_1
		
		cost = 5


		available = {
			ALB = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.10
				}
			}
			has_country_flag = HUN_albania_guaranteed
		}
		
		bypass = {
			OR = {
				NOT = {
					ALB = {
						is_puppet = no
						exists = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ALB = { country_event = generic.5 }
		}
	}
	
	
	focus = {
		id = HUN_invite_bulgaria_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_invite_yugoslavia_1}
		prerequisite = { focus = HUN_unlikely_alliance_1}
		x = 0
		y = 2
		relative_position_id = HUN_unlikely_alliance_1
		
		cost = 5


		available = {
			BUL = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					BUL = {
						is_puppet = no
						exists = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			BUL = { country_event = generic.5 }
		}
	}
	
	focus = {
		id = HUN_joint_industrial_investments_1
		icon = GFX_goal_generic_production
		prerequisite = { focus = HUN_unlikely_alliance_1}
		x = 1
		y = 1
		relative_position_id = HUN_unlikely_alliance_1
		
		cost = 5


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_joint_development days = 365}
			every_other_country = {
				limit = {
					is_in_faction_with = HUN
					
				}
				add_timed_idea = { idea = HUN_joint_development days = 365}
			}
			custom_effect_tooltip = HUN_receive_40_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 40
			}
		}
	}
	
	focus = {
		id = HUN_joint_steel_development_with_romania_1
		icon = GFX_focus_generic_steel
		prerequisite = { focus = HUN_unlikely_alliance_1}
		x = 3
		y = 1
		relative_position_id = HUN_unlikely_alliance_1
		
		cost = 10


		available = {
			is_in_faction_with = ROM
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		complete_tooltip = {
			random_state = {
				limit = {
					has_state_flag = HUN_joint_steel_with_romania_flag
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
			
		}

		completion_reward = {
			random_owned_controlled_state = {
				prioritize = { 43 }
				limit = {
					ROOT = { has_full_control_of_state = PREV } 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}

				set_state_flag = HUN_joint_steel_with_romania_flag
				add_resource = {
					type = steel
					amount = 8
				}
			}
			84 = {
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				add_resource = {
					type = steel
					amount = 8
				}
			}
			
		}
		
	}
	
	focus = {
		id = HUN_autonomy_for_transylvania_1
		icon = GFX_focus_YUG_autonomous_transylvania
		mutually_exclusive = {focus = HUN_renegotiate_trianon_1}
		prerequisite = { focus =  HUN_joint_manufacturing_1 focus = HUN_joint_oil_1 focus = HUN_joint_steel_development_with_romania_1 focus = HUN_joint_industrial_investments_1}
		x = 1
		y = 1
		relative_position_id = HUN_joint_industrial_investments_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			ROM = { country_event = LH.103 }
		}
	}
	
	focus = {
		id = HUN_invite_greece_1
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = HUN_invite_bulgaria_1}
		x = 0
		y = 1
		relative_position_id = HUN_invite_bulgaria_1
		
		cost = 5


		available = {
			GRE = {
				is_in_faction = no
				OR = {
				has_government = democratic
				democratic > 0.35
				}
			}
		}
		
		bypass = {
			OR = {
				NOT = {
					GRE = {
						is_puppet = no
						exists = yes
					}
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			GRE = { country_event = generic.5 }
		}
	}
	
	
	
	
	focus = {
		id = HUN_avenge_the_white_terror_1
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = {focus = HUN_solidify_conservative_stance_1}
		#prerequisite = {focus = HUN_abolish_the_monarchy_1}
		x = -2
		y = 2
		relative_position_id = HUN_solidify_conservative_stance_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			SOV = {
				remove_opinion_modifier = {
					target = HUN 
					modifier = HUN_SOV_banned_communism
				}
			}
			
			custom_effect_tooltip = HUN_work_with_the_kmp_tt
			hidden_effect = {
				
				set_temp_variable = {
					var = kmp_pop
					value = party_popularity@communism
				}
				
				add_popularity = {
					ideology = democratic
					popularity = kmp_pop
				}
				
				add_popularity = {
					ideology = communism
					popularity = -1
				}
			
			}
			
			hidden_effect = {
				if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
				if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
			}
			
			if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state  }
				}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1  }
					}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
					}
			}
			if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1 }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
				}
			}
			
		
		}
	}
	
	focus = {
		id = HUN_protect_local_businesses_1
		icon = GFX_goal_generic_intelligence_exchange
		prerequisite = {focus = HUN_assert_torzsokosseg_1}
		prerequisite = {focus = HUN_expand_civil_rights_1}
		x = -1
		y = 1
		relative_position_id = HUN_assert_torzsokosseg_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = {idea = HUN_local_businesses days = 365}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_4_factory_output = yes
		}
	}
	
	
	
	
	
	
	
	focus = {
		id = HUN_nullify_numerus_clausus_1
		icon = GFX_goal_tfv_saf_anti_colonialist_crusade
		prerequisite = {focus = HUN_strengthen_the_dragon_movement_1 focus = HUN_preach_12_points_1}
		x = -3
		y = 1
		relative_position_id = HUN_strengthen_the_dragon_movement_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			custom_effect_tooltip = HUN_minorities_at_uni_tt
			
			hidden_effect = {
				add_ideas = HUN_nullified_numerus_clausus_idea
			}
			
		}
	}
	
	focus = {
		id = HUN_expand_civil_rights_1
		icon = GFX_goal_generic_improve_relations
		prerequisite = {focus = HUN_break_bethlen_pleyer_agreement_1 focus = HUN_nullify_numerus_clausus_1}
		x = -1
		y = 1
		relative_position_id = HUN_nullify_numerus_clausus_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.05
			add_political_power = 50
		}
	}
	
	focus = {
		id = HUN_abolish_the_monarchy_1
		icon = GFX_focus_rom_abdicate
		prerequisite = {focus = HUN_expand_civil_rights_1}
		x = 0
		y = 1
		relative_position_id = HUN_expand_civil_rights_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			add_political_power = -50
			remove_ideas = HUN_monarchy_without_monarch
		}
	}
	
	
	
	
	
	############################
	######## Communist #########
	############################
	
	focus = {
		id = HUN_council_of_commisars_1
		icon = GFX_goal_generic_national_unity
		prerequisite = {focus = HUN_social_reforms_1}
		mutually_exclusive = { focus = HUN_utilize_the_march_front_1}
		x = -8
		y = 1
		relative_position_id = HUN_social_reforms_1
		
		cost = 10


		available = {
			
			has_country_flag = HUN_communist_path_chosen_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {	
		
			SOV = {
				remove_opinion_modifier = {
					target = HUN 
					modifier = HUN_SOV_banned_communism
				}
			}
			swap_ideas = {
				remove_idea = HUN_social_reforms_idea
				add_idea = HUN_commisars
			}
			#remove_ideas = HUN_split_nation
			hidden_effect = {
				if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
				if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
					add_stability = 0.1
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
					add_war_support = 0.1
				}
				else_if = {
					limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
					add_stability = 0.1
				}
			}
			
			if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state  }
				}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1  }
					}
			}
			else_if = {
				limit = {155 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				155 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
					}
			}
			if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_1 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_1 }
					}
			}
			else_if = {
				limit = {972 ={ has_dynamic_modifier = { modifier = HUN_red_terror_state_2 } } }
				972 = {
					remove_dynamic_modifier = { modifier = HUN_red_terror_state_2 }
					}
			}
			
			HUN_mihaly_farkas = {
				add_corps_commander_role = {
					traits = { politically_connected communist_sympathizer}
					skill = 4
					attack_skill = 3
					defense_skill = 2
					planning_skill = 1
					logistics_skill = 3
					legacy_id=-1
				}
			}
			
			HUN_gabor_peter = {
				add_corps_commander_role = {
					traits = { harsh_leader communist_sympathizer}
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 2
				}
			}
			
			HUN_istvan_bata = {
				add_corps_commander_role = {
					traits = { media_personality }
					skill = 2
					attack_skill = 2
					defense_skill = 1
					planning_skill = 1
					logistics_skill = 2
					legacy_id=-1
				}
			}
			
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_laszlo_rajk
			
		}
	}
	
	focus = {
		id = HUN_rescue_bela_kun_1
		icon = GFX_rescue_kun
		prerequisite = {focus = HUN_council_of_commisars_1 }
		mutually_exclusive = { focus = HUN_new_leadership_1 focus = HUN_organize_an_official_party_1 }
		x = -7
		y = 2
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			has_civil_war = no
			NOT = {
				has_global_flag = flag_kun_dead
			}
			NOT = {
				has_completed_focus = HUN_grant_general_amnesty_1
			}
			NOT = {
				has_country_flag = HUN_revolution_started_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				custom_effect_tooltip = HUN_kun_rescue_operation_available_tt
				create_intelligence_agency = {
					name = "ÁVH"
					icon = GFX_intelligence_agency_logo_avh
				}
			}
			else = {
				HUN_bela_kun = {
					promote_character = yes
				}
			}
		}
	}
	
	focus = {
		id = HUN_improvised_weapons_1
		icon = GFX_focus_ETH_freedom_at_gunpoint
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = -6
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 2


		available = {
			has_civil_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_equipment_to_stockpile = {
				type = infantry_equipment_1
				amount = 3000 
				producer = HUN
			}
		}
	}
	
	focus = {
		id = HUN_utilize_the_youth_1
		icon = GFX_focus_ITA_peasants_rise
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = -4
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			has_civil_war = yes
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_4_volunteers_tt
			add_manpower = 100000
			add_ideas = HUN_communist_volunteers_idea
			hidden_effect = {
				load_oob = HUN_volunteers_rongyos_3
			}
			custom_effect_tooltip = HUN_removed_after_civil_war_tt
		}
	}
	
	focus = {
		id = HUN_new_leadership_1
		icon = GFX_focus_ETH_callout_to_the_world
		mutually_exclusive = { focus = HUN_rescue_bela_kun_1 focus = HUN_organize_an_official_party_1 }
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = 0
		y = 2
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			has_civil_war = no 
			has_government = communism
			has_country_flag = HUN_revolution_started_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LHelections.21
		}
	}
	
	focus = {
		id = HUN_expand_voters_rights_1
		icon = GFX_focus_generic_treaty
		#mutually_exclusive = { focus = HUN_rescue_bela_kun_1 }
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = 7
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			has_civil_war = no 
			NOT = {
				has_government = communism
			}
			NOT = {
				has_completed_focus = HUN_rescue_bela_kun_1
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.05
			add_political_power = 50
			add_popularity = { ideology = democratic popularity = 0.1 }
			add_popularity = { ideology = communism popularity = 0.1 }
			custom_effect_tooltip = HUN_new_decision_in_balance_of_power_tt
		}
	}
	
	focus = {
		id = HUN_privatize_the_press_1
		icon = GFX_goal_generic_propaganda
		#mutually_exclusive = { focus = HUN_rescue_bela_kun_1 }
		prerequisite = {focus = HUN_expand_voters_rights_1 }
		x = 1
		y = 2
		relative_position_id = HUN_expand_voters_rights_1
		
		cost = 10


		available = {
			has_civil_war = no 
		}
		
		bypass = {
			has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.05
			add_popularity = { ideology = democratic popularity = 0.1 }
			add_popularity = { ideology = communism popularity = 0.1 }
			custom_effect_tooltip = TUR_privatize_the_anadolu_agency_tt
		}
	}
	
	
	
	focus = {
		id = HUN_grant_general_amnesty_1
		icon = GFX_goal_continuous_boost_freedom
		mutually_exclusive = {focus = HUN_hungarian_stalin_1 }
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = 5
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			has_civil_war = no 
			NOT = {
				has_government = communism
			}
			NOT = {
				has_completed_focus = HUN_rescue_bela_kun_1
			}
		}
		
		bypass = {
			#has_government = communism
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_no_civil_war_possible_tt
			add_stability = 0.05
			#Imre Nagy will return to Hungary, Kádár will be released from prison. Rákosi is the menace, tries to take power -> Power struggle.
		}
	}
	
	focus = {
		id = HUN_organize_an_official_party_1
		icon = GFX_goal_support_democracy
		mutually_exclusive = { focus = HUN_new_leadership_1 focus = HUN_rescue_bela_kun_1 }
		prerequisite = {focus = HUN_grant_general_amnesty_1 }
		prerequisite = {focus = HUN_expand_voters_rights_1 }
		x = 1
		y = 1
		relative_position_id = HUN_grant_general_amnesty_1
		
		cost = 5


		available = {
			has_civil_war = no 
			communism > 0.15
			has_stability > 0.5
			NOT = { has_country_flag = HUN_revolution_started_flag }
			NOT = { has_idea = HUN_commisars }
			has_country_flag = gombos_death
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			country_event = LHelections.22
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_bela_kovacs
			### RANDOM EVENT WHEN NAGY/KÁDÁR MEETS WITH BISHOP TO DISCUSS RELIGION IN THE COUNTRY.
		}
	}
	
	
	focus = {
		id = HUN_military_industry_1
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = {focus = HUN_organize_an_official_party_1}
		x = 1
		y = 2
		relative_position_id = HUN_organize_an_official_party_1 
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_40_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 40
			}
		}
	}
	
	
	focus = {
		id = HUN_expand_the_agriculture_university_1
		icon = GFX_focus_generic_socialist_science
		prerequisite = {focus = HUN_military_industry_1 }
		prerequisite = {focus = HUN_privatize_the_press_1 }
		x = 1
		y = 1
		relative_position_id = HUN_military_industry_1
		
		cost = 10


		available = {
			has_civil_war = no 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_working_intelligentsia_idea
			custom_effect_tooltip = HUN_receive_20_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 20
			}
			#NAGY WAS NAMED PROFESSOR OF THE AGRICULTURE SCHOOL.
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_3_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_volunteers_for_spain_1
		icon = GFX_focus_generic_manpower
		
		prerequisite = {focus = HUN_council_of_commisars_1 }
		x = -1
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 5


		available = {
			SPR = { 
				has_civil_war = yes
			}
			has_civil_war = no
			has_government = communism
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			army_experience = 10
			custom_effect_tooltip = HUN_help_carlists_idea_tt
			
			hidden_effect = {
				set_rule = { can_send_volunteers = yes }
				add_timed_idea = {idea = HUN_spanish_war_volunteers days = 720 }
			}
		}
	}
	
	
	
	
	focus = {
		id = HUN_new_economical_mechanism_1
		icon = GFX_focus_spr_unify_the_london_bureau
		
		prerequisite = {focus = HUN_organize_an_official_party_1 focus = HUN_new_leadership_1 }
		x = -1
		y = 1
		relative_position_id = HUN_organize_an_official_party_1
		
		cost = 10


		available = {
			OR = {
				has_country_flag = HUN_imre_nagy_overthrew_government_flag
				has_government = communism
			}
			NOT = { has_country_flag = HUN_rakosi_leader_flag }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_pal_losonczi
			custom_effect_tooltip = HUN_unlocks_economic_reforms_tt
			custom_effect_tooltip = HUN_new_economy_law_tt
			show_ideas_tooltip = new_economic_mechanism
			hidden_effect = {
				add_ideas = new_economic_mechanism
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
		}
	}
	
	
	focus = {
		id = HUN_subsidize_factory_construction_1
		icon = GFX_goal_generic_soviet_construction
		mutually_exclusive = { focus = HUN_help_the_farmers_1 }
		prerequisite = {focus = HUN_new_economical_mechanism_1 }
		prerequisite = {focus = HUN_15_point_programme_1 }
		x = -1
		y = 2
		relative_position_id = HUN_new_economical_mechanism_1
		
		cost = 7


		available = {
			has_civil_war = no 
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_state = {
				limit = {
					#is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					#is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			add_timed_idea = {
				idea = HUN_subsidized_factories 
				days = 365
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_cut_trade_with_west_1
		icon = GFX_goal_generic_trade
		mutually_exclusive = { focus = HUN_trade_with_the_west_1 }
		prerequisite = {focus = HUN_help_the_farmers_1 focus = HUN_subsidize_factory_construction_1 }
		#prerequisite = {focus = HUN_trade_with_the_west_1}
		x = 1
		y = 1
		relative_position_id = HUN_subsidize_factory_construction_1
		
		cost = 10


		available = {
			has_government = communism
		}
		
		bypass = {
			has_idea = free_trade
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			###IN ORDER TO PROVE OUR VALUE TO THE SOVIETS WE NEED TO SHUT DOWN TRADE WITH THE WEST. OUR REFORMS HAVE AGITATED THEM A BIT SO THIS WAY WE WILL WIN BACK THEIR FAVOUR AND HOPEFULLY BE ABLE TO JOIN THEM.
			send_embargo = ITA 
			ITA = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_isolation
				}
			}
			send_embargo = ENG 
			ENG = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_isolation
				}
			}
			send_embargo = FRA 
			FRA = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_isolation
				}
			}
			send_embargo = USA
			USA = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_isolation
				}
			}			
			send_embargo = GER 
			GER = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_isolation
				}
			}
			SOV = {
				add_opinion_modifier = {
					target = HUN 
					modifier = HUN_economic_dependancy
				}
			}
			
			### SET TRADE DEAL ###
			
			if = {
				limit = {
					NOT = {
						has_country_flag = HUN_sov_trade_partner_flag
					}
				}
				HUN_remove_trade_deal_bonuses = yes
				HUN_reset_trade_deal_modifier = yes 
				HUN_set_trade_deal_sov = yes
			}
			
		}
	}
	
	focus = {
		id = HUN_help_the_farmers_1
		icon = GFX_focus_SOV_breadbasket_of_the_union
		mutually_exclusive = { focus = HUN_subsidize_factory_construction_1 }
		prerequisite = {focus = HUN_new_economical_mechanism_1 }
		prerequisite = {focus = HUN_15_point_programme_1 }
		x = 1
		y = 2
		relative_position_id = HUN_new_economical_mechanism_1
		
		cost = 7


		available = {
			has_civil_war = no 
			NOT = { has_completed_focus = HUN_one_party_state_1 }
			custom_trigger_tooltip = {
				tooltip = HUN_help_the_farmers_tt
				OR = {
					154 = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
						
					}
					155 = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
						
					}
					43 = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
					}
				}
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_help_the_farmers_reward_tt
			155 = { 
				if = {
					limit = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
					}
					add_extra_state_shared_building_slots = -1
					HUN = { add_stability = 0.05 }
				}
			}
			154 = { 
				if = {
					limit = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
					}
					add_extra_state_shared_building_slots = -1
					HUN = { add_stability = 0.05 }
				}
			}
			43 = { 
				if = {
					limit = {
						OR = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
					}
					add_extra_state_shared_building_slots = -1
					HUN = { add_stability = 0.05 }
				}
			}
			build_railway = {	# Between Szolnok, Debrecen and Nyíregyháza
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 11659 6735 3730 }
			  #start_province = 6720
			  #target_province = 3700
			}
			build_railway = {	# Between Miskolc and Nyíregyháza
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 3713 11520 3730 }
			  #start_province = 6720
			  #target_province = 3700
			}
			build_railway = {	# Between Györ, Szombathely and Nagykanizsa
			  level = 1
			  controller_priority = {
				base = 1
			  }
			  path = { 6720 3683 11627 3670 }
			  #start_province = 6720
			  #target_province = 3700
			}
			add_manpower = 250000		
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_construction = yes			
		}
	}
	
	
	focus = {
		id = HUN_trade_with_the_west_1
		icon = GFX_goal_generic_positive_trade_relations
		mutually_exclusive = { focus = HUN_cut_trade_with_west_1 }
		prerequisite = {focus = HUN_subsidize_factory_construction_1 focus = HUN_help_the_farmers_1 }
		x = 3
		y = 1
		relative_position_id = HUN_subsidize_factory_construction_1
		
		cost = 10


		available = {
			NOT = { has_completed_focus = HUN_new_leadership }
			has_country_flag = HUN_emblems_changed_flag
			has_country_flag = HUN_secret_ballot_voting_flag
			democratic > 0.2
			communism > 0.2
			has_country_flag = HUN_nagy_leader_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			custom_effect_tooltip = HUN_trade_buffed_tt
			add_ideas = free_trade
			custom_effect_tooltip = HUN_nagy_change_to_democracy_tt
			
			hidden_effect = {
				add_ideas = HUN_trade_with_west_hun
				set_temp_variable = {
					var = mszmp_pop
					value = party_popularity@communism
				}
				add_popularity = {
					ideology = democratic
					popularity = mszmp_pop
				}
				multiply_temp_variable = {
					var = mszmp_pop
					value = -1
				}
				add_popularity = {
					ideology = communism
					popularity = mszmp_pop
				}
				set_politics = { ruling_party = democratic }
				add_country_leader_role = {
					character = HUN_imre_nagy
					promote_leader = yes
					country_leader = {
						ideology = socialism
						expire = "1965.1.1.1"
						traits = { liberal_democratic_paragon }
					}
				}
				if = {
					limit = { ENG = { has_opinion = { target = HUN value > 35 } } }
					ENG = {
						add_ideas = HUN_trade_with_west_allies
					}
				}
			
				if = {
					limit = { FRA = { has_opinion = { target = HUN value > 35 } } }
					FRA = {
						add_ideas = HUN_trade_with_west_allies
					}
				}
			
				if = {
					limit = { USA = { has_opinion = { target = HUN value > 35 } } }
					USA = {
						add_ideas = HUN_trade_with_west_allies
					}
				}
			}
		}
	}
	
	
	
	focus = {
		id = HUN_15_point_programme_1
		icon = GFX_focus_hol_the_foundations_of_defense
		prerequisite = {focus = HUN_new_leadership_1 focus = HUN_organize_an_official_party_1 }
		x = 3
		y = 1
		relative_position_id = HUN_new_leadership_1
		
		cost = 4


		available = {
			OR = {
				AND = {
					has_country_flag = HUN_imre_nagy_overthrew_government_flag
					has_government = democratic
				}
				AND = {
					has_country_flag = HUN_kadar_leader_flag
					has_government = communism
				}
				AND = {
					has_country_flag = HUN_nagy_leader_flag
					has_government = communism
				}
			}
			if = {
				limit = { has_completed_focus = HUN_organize_an_official_party }
				has_power_balance = {
					id = HUN_communism_bop
				}
			}
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = { has_country_flag = HUN_nagy_leader_flag }
				custom_effect_tooltip = HUN_red_news_dec_tt
			}
			else_if = {
				limit = { has_country_flag = HUN_kadar_leader_flag }
				custom_effect_tooltip = HUN_red_news_dec_tt
				custom_effect_tooltip = HUN_unlock_15_points_tt
			}
			else = {
				custom_effect_tooltip = HUN_unlock_15_points_tt
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_janos_peter
		}
	}
	
	focus = {
		id = HUN_goulash_communism_1
		icon = GFX_goulash_communism
		mutually_exclusive = { focus = HUN_utilize_the_kadar_hussars_1 }
		prerequisite = {focus = HUN_15_point_programme_1 focus = HUN_expel_germans_1 }
		x = -1
		y = 1
		relative_position_id = HUN_15_point_programme_1
		
		cost = 10


		available = {
			has_country_flag = HUN_kadar_leader_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_political_power = 50
			country_event = LH.411
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_output_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_expel_germans_1
		icon = GFX_focus_POL_ban_nazi_party
		prerequisite = {focus = HUN_new_leadership_1 focus = HUN_organize_an_official_party_1 }
		x = 1
		y = 1
		relative_position_id = HUN_new_leadership_1
		
		cost = 10


		available = {
			has_civil_war = no 
			has_government = communism
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			# COULD ALSO BE A FOCUS FOR THE DEMOCRATIC TREE?
			# OPINION BONUS FOR EVERYONE WHO IS NOT GERMAN, GERMANY IS ANGRY AND YOU LOOSE POPULATION, BUT GAIN POLITICAL POWER AND PARTY POPULARITY. YOU ALSO GAIN LAND FROM THE GERMANS WHO IT WAS TAKEN FROM. ANTALL JÓZSEF ADVISOR (RESPONSIBLE FOR THE DEPORTATIONS, DEMOCRAT)
			# 200000 GERMANS WERE SENT TO GERMANY MOSTLY PEST AND BÁCS KISKUN! (SEND THEM TO GERMANYS BIGGEST CITIES)
			# IT GAVE A LOT OF LAND FOR HUNGARIANS TO SETTLE
			
			if = {
				limit = { has_country_flag = HUN_nagy_leader_flag }
				remove_ideas = HUN_move_idea
			}
			SOV = {
				add_opinion_modifier = {
					modifier = HUN_deported_germans 
					target = HUN
				}
			}
			GER = {
				add_opinion_modifier = {
					modifier = HUN_deported_germans_ger 
					target = HUN
				}
				add_political_power = 100
				add_popularity = { ideology = fascism popularity = 0.1 }
			}
			if = {
				limit = { GER = { has_completed_focus = GER_anschluss } }
				ENG = {
					add_opinion_modifier = {
						modifier = HUN_deported_germans 
						target = HUN
					}
				}
				FRA = {
					add_opinion_modifier = {
						modifier = HUN_deported_germans 
						target = HUN
					}
				}
				USA = {
					add_opinion_modifier = {
						modifier = HUN_deported_germans 
						target = HUN
					}
				}
			}
			973 = { 
				add_extra_state_shared_building_slots = 3
				add_manpower = -120000
			}
			972 = { 
				add_extra_state_shared_building_slots = 2
				add_manpower = -50000
			}
			43 = { 
				add_extra_state_shared_building_slots = 1
				add_manpower = -30000
			}
			64 = { 
				add_manpower = 100000
			}
			50 = { 
				add_manpower = 40000
			}
			52 = { 
				add_manpower = 60000
			}
			
		}
	}
	
	focus = {
		id = HUN_utilize_the_kadar_hussars_1
		icon = GFX_focus_ITA_moschettieri_del_duce
		mutually_exclusive = { focus = HUN_goulash_communism_1 }
		prerequisite = {focus = HUN_new_leadership_1}
		x = 0
		y = 2
		relative_position_id = HUN_new_leadership_1
		
		cost = 10


		available = {
			has_country_flag = HUN_kadar_leader_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			#PUFAJKÁSOK LIKE ÁVH
			add_ideas = HUN_pufajkasok
		}
	}
	
	
	
	focus = {
		id = HUN_soft_dictatorship_1
		icon = GFX_goal_generic_dangerous_deal
		mutually_exclusive = { focus = HUN_one_party_state_1 }
		prerequisite = {focus = HUN_goulash_communism_1}
		#prerequisite = {focus = HUN_trade_with_the_west_1}
		x = 0
		y = 1
		relative_position_id = HUN_goulash_communism_1
		
		cost = 10


		available = {
			NOT = { has_completed_focus = HUN_organize_an_official_party }
			is_power_balance_in_range = {
				id = HUN_kadar_bad_tree_bop
				range = HUN_kadar_good_bop_high
			}
			has_country_flag = HUN_quadrumvirate_dismissed_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_stability = 0.1
			add_country_leader_trait = soft_dictator
			remove_power_balance = {
				id = HUN_kadar_bad_tree_bop
			}
		}
	}
	
	
	
	
	############################
	##### Hungarian Stalin #####
	############################
	
	focus = {
		id = HUN_hungarian_stalin_1
		icon = GFX_free_rakosi
		mutually_exclusive = {focus = HUN_grant_general_amnesty_1 }
		prerequisite = {focus = HUN_council_of_commisars_1}
		x = 1
		y = 1
		relative_position_id = HUN_council_of_commisars_1
		
		cost = 2


		available = {
			#has_country_flag = HUN_revolution_started_flag
			has_civil_war = yes 
			
		}
		
		bypass = {
			has_completed_focus = HUN_grant_general_amnesty_1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### Rákosi is released from prison. If not done, he will be killed in a prison break!!
			
			
			country_event = LH.372
			
			
		}
	}
	
	focus = {
		id = HUN_ultimatum_to_the_parties_1
		icon = GFX_goal_generic_propaganda
		prerequisite = {focus = HUN_new_leadership_1}
		x = -1
		y = 1
		relative_position_id = HUN_new_leadership_1
		
		cost = 5


		available = {
			has_country_flag = HUN_rakosi_leader_flag
			has_civil_war = no
		}
		
		bypass = {
			has_completed_focus = HUN_one_party_state_1
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = {
				idea = HUN_salami_tactics
				days = 100
			}
			custom_effect_tooltip = HUN_red_news_dec_tt
		}
	}
	
	focus = {
		id = HUN_one_party_state_1
		icon = GFX_goal_generic_political_pressure
		mutually_exclusive = {focus = HUN_soft_dictatorship_1 }
		prerequisite = { focus = HUN_utilize_the_kadar_hussars_1 focus = HUN_purge_1 }
		#prerequisite = { focus = HUN_purge_1 focus = HUN_ultimatum_to_the_parties_1 }
		x = 0
		y = 2
		relative_position_id = HUN_ultimatum_to_the_parties_1
		
		cost = 10

		available = {
			if = {
				limit = { has_country_flag = HUN_rakosi_leader_flag } 
				has_country_flag = HUN_politically_purged_flag
				power_balance_value = {
					id = HUN_rakosi_tree_bop
					value > 0.9
				}
			}
			else_if = {
				limit = { has_country_flag = HUN_kadar_leader_flag } 
				power_balance_value = {
					id = HUN_kadar_bad_tree_bop
					value > 0.9
				}
			}
			communism > 0.5
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			custom_effect_tooltip = HUN_one_party_state_tt
			
			add_ideas = closed_economy
			
			hidden_effect = {
				add_popularity = {
					ideology = communism
					popularity = 1
				}
			}
			
			remove_power_balance = { id = HUN_rakosi_tree_bop }
		}
	}
	
	focus = {
		id = HUN_encourage_heavy_industry_1
		icon = GFX_focus_generic_industry_3
		prerequisite = {focus = HUN_one_party_state_1 }
		#prerequisite = {focus = HUN_stalins_best_disciple_1 }
		x = 0
		y = 1
		relative_position_id = HUN_one_party_state_1
		
		cost = 10


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_state = {
				limit = {
					is_owned_and_controlled_by = ROOT
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_50_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 50
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_5_construction = yes
			HUN_add_5_factory_output = yes
		}
	}
	
	
	
	
	
	
	
	############################
	##### 1919 Leadership ######
	############################
	
	focus = {
		id = HUN_call_back_the_leadership_of_1919_1
		icon = GFX_focus_spr_masters_of_our_own_fate
		#mutually_exclusive = {focus = HUN_hungarian_stalin_1 focus = HUN_red_guard_1_focus }
		prerequisite = {focus = HUN_rescue_bela_kun_1}
		x = 0
		y = 1
		relative_position_id = HUN_rescue_bela_kun_1
		
		cost = 5


		available = {
			has_civil_war = no 
			has_country_flag = HUN_kun_rescued_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			## NEW ADVISORS WHO SURVIVED UNTIL 1971 FROM THE ORIGINAL COUNCIL
			## Ministers: Sándor Garbai, György Nyisztor, József Pogány, György Lukács
			## CREATE FACTION: Magyarországi Nemzetközi Szocialista (Kommunista) Föderáció
			
			set_variable = { HUN_rev_max_surrender_limit_offset = 0.1 }
			set_variable = { HUN_rev_offensive_war_stability_factor = 0 }
			set_variable = { HUN_rev_party_popularity_stability_factor = 0.1 }
			set_variable = { HUN_rev_stability_factor = 0 }
			set_variable = { HUN_rev_war_support_factor = 0 }
			set_variable = { HUN_rev_conscription = 0 }
			set_variable = { HUN_rev_tank_manufacturer_cost_factor = 0 }
			set_variable = { HUN_rev_naval_manufacturer_cost_factor = 0 }
			set_variable = { HUN_rev_aircraft_manufacturer_cost_factor = 0 }
			set_variable = { HUN_rev_materiel_manufacturer_cost_factor = 0 }
			set_variable = { HUN_rev_industrial_concern_cost_factor = 0 }
			
			remove_state_claim = 664
			remove_state_claim = 73
			remove_state_claim = 971
			
			add_dynamic_modifier = { modifier = HUN_revolutionary_council_dynamic_modifier }
			custom_effect_tooltip = HUN_rev_council_tt
			
			
			custom_effect_tooltip = HUN_kun_started_civil_war_tt
			
			custom_effect_tooltip = available_political_advisor 
			show_ideas_tooltip = HUN_sandor_garbai
			show_ideas_tooltip = HUN_gyorgy_nyisztor
			show_ideas_tooltip = HUN_jozsef_pogany
			show_ideas_tooltip = HUN_gyorgy_lukacs
			show_ideas_tooltip = HUN_bela_vago
			
			hidden_effect = {
				set_cosmetic_tag = HUN_1919
				country_event = LH.17 
			}
		
		}
	}
	
	
	focus = {
		id = HUN_rakosi_red_guard_1
		icon = GFX_focus_generic_military_mission
		prerequisite = {focus = HUN_call_back_the_leadership_of_1919_1}
		x = -3
		y = 1
		relative_position_id = HUN_call_back_the_leadership_of_1919_1
		
		cost = 10


		available = {
			has_completed_focus = HUN_hungarian_stalin_1
			has_civil_war = no
			NOT = { 
				has_country_flag = HUN_rakosi_dead_flag
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### Mátyás Rákosi will receive a trait, Red guard will be upgraded. 
			
			HUN_matyas_rakosi = {
				promote_leader = yes
				add_unit_leader_trait = organizer
			}
			hidden_effect = {
				remove_trait = {
					character = HUN_matyas_rakosi
					slot = political_advisor
					trait = prince_of_terror
				}
			}
			add_trait = {
				character = HUN_matyas_rakosi
				slot = political_advisor
				trait = war_industrialist
			}
			
			add_to_variable = { HUN_rev_conscription = 0.01 }
			add_to_variable = { HUN_rev_party_popularity_stability_factor = 0.1 }
			add_to_variable = { HUN_rev_army_attack_factor = 0.05 }
			custom_effect_tooltip = HUN_red_guard_rev_tt
		}
	}
	
	
	focus = {
		id = HUN_privatize_key_organizations_1
		icon = GFX_goal_generic_soviet_construction
		#mutually_exclusive = {focus = HUN_hungarian_stalin_1 focus = HUN_red_guard_1_focus }
		prerequisite = {focus = HUN_rakosi_red_guard_1 }
		#prerequisite = {focus = HUN_restart_the_red_terror_1 }
		x = 0
		y = 2
		relative_position_id = HUN_rakosi_red_guard_1
		
		cost = 10


		available = {
		
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = HUN_support_domestic_industry_IC
			}
			add_to_variable = { HUN_rev_tank_manufacturer_cost_factor = -0.15 }
			add_to_variable = { HUN_rev_naval_manufacturer_cost_factor = -0.15 }
			add_to_variable = { HUN_rev_aircraft_manufacturer_cost_factor = -0.15 }
			add_to_variable = { HUN_rev_materiel_manufacturer_cost_factor = -0.15 }
			add_to_variable = { HUN_rev_industrial_concern_cost_factor = -0.15 }
			custom_effect_tooltip = HUN_nationalize_key_institutions_tt
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_output_tt = yes 
			HUN_add_5_factory_output = yes
		}
	}
	
	

	
	############################
	######## Comintern #########
	############################
	
	focus = {
		id = HUN_join_com_1
		icon = GFX_focus_generic_join_comintern
		mutually_exclusive = { focus = HUN_join_the_allies_1 focus = HUN_the_ceco_1}
		prerequisite = {focus = HUN_romanian_corridor_1 focus = HUN_support_romanian_communism_1 focus = HUN_cut_trade_with_west_1 }
		x = 1
		y = 1
		relative_position_id = HUN_encourage_heavy_industry_1
		
		cost = 3


		available = {
			NOT = { has_war_with = SOV }
			any_other_country = {
				is_major = yes
				has_government = communism
				not = { has_war_with = ROOT }
			}
			is_in_faction = no
			NOT = {
				any_other_country = {
					is_in_faction_with = SOV
					has_war_with = HUN	
				}
			}
			is_subject = no
			SOV = { is_faction_leader = yes }
			communism > 0.5
		}
		
		bypass = {
			OR = {
				is_in_faction_with = SOV
				is_in_faction = yes
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			if = {
				limit = {
					SOV = {
						has_government = communism
						is_faction_leader = yes
					}
				}
				SOV = {
					country_event = generic.2
				}
				
			}
			else = {
				get_best_alliance_match_communism_effect = yes
				var:best_leader = {
					country_event = generic.2
				}
			}
		}
	}
	
	
	focus = {
		id = HUN_education_for_all_1
		icon = GFX_focus_generic_socialist_science
		prerequisite = {focus = HUN_join_com_1 }
		x = -1
		y = 1
		relative_position_id = HUN_join_com_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		
		on_uncomplete = {
			remove_ideas = HUN_education_for_all_idea
		}

		completion_reward = {
			add_ideas = HUN_education_for_all_idea
		}
	}
	
	
	
	focus = {
		id = HUN_romanian_corridor_1
		icon = GFX_goal_demand_sudetenland
		mutually_exclusive = { focus = HUN_support_romanian_communism_1 }
		prerequisite = { focus = HUN_one_party_state_1 }
		x = 2
		y = 1
		relative_position_id = HUN_one_party_state_1

		cost = 7

		ai_will_do = {
			factor = 60
		}

		available = {
			ROM = { 
				exists = yes 
				NOT = { is_in_faction_with = SOV }
				NOT = { has_war_with = SOV }
				OR = {
					owns_state = 76
					owns_state = 78
				}
			}
			NOT = { has_war_with = SOV }
			SOV = { 
				is_faction_leader = yes 
				exists = yes
				is_subject = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = DOD_hungary.110 }
		}
	}
	
	focus = {
		id = HUN_support_romanian_communism_1
		icon = GFX_comunist_romania
		mutually_exclusive = { focus = HUN_romanian_corridor_1 }
		prerequisite = { focus = HUN_one_party_state_1 focus = HUN_soft_dictatorship_1 }
		x = 4
		y = 1
		relative_position_id = HUN_one_party_state_1

		cost = 7

		ai_will_do = {
			factor = 60
		}

		available = {
			ROM = { 
				exists = yes 
				NOT = { is_in_faction_with = SOV }
				NOT = { has_war_with = SOV }
			}
			SOV = { 
				is_faction_leader = yes 
				exists = yes
				is_subject = no
			}
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			ROM = {
				add_timed_idea = {
					idea = communist_influence
					days = 720
				}
				add_ai_strategy = {
					type = befriend
					id = HUN 
					value = 100
				}
				add_ai_strategy = {
					type = befriend
					id = SOV 
					value = 100
				}
				if = {
					limit = { has_completed_focus = ROM_flexible_foreign_policy }
					complete_national_focus = ROM_appoint_soviet_friendly_government
				}
			}
			custom_effect_tooltip = HUN_ROM_friend_communist_tt
		}
	}
	
	focus = {
		id = HUN_intervene_in_czech_1
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = HUN_join_com_1 }
		x = 1
		y = 1
		relative_position_id = HUN_join_com_1

		cost = 6

		ai_will_do = {
			factor = 60
		}

		available = {
			CZE = { exists = yes }
			NOT = { has_war_with = SOV }
			CZE = { NOT = { is_in_faction_with = SOV } }
			SOV = { is_faction_leader = yes }
		}

		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			SOV = { country_event = DOD_hungary.120 }
		}
	}
	
	focus = {
		id = HUN_tackle_fascism_1
		prerequisite = { focus = HUN_intervene_in_czech_1 }
		mutually_exclusive = { focus = HUN_tackle_capitalism_1 }
		available = {
			is_subject = no
			OR = {
				country_exists = GER
				country_exists = ITA
			}
			OR = {
				GER = { has_government = fascism }
				ITA = { has_government = fascism }
			}
		}
		icon = GFX_focus_generic_anti_fascist_diplomacy
		x = 1
		y = 2
		relative_position_id = HUN_intervene_in_czech_1
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		completion_reward = {
			if = {
				limit = {
					GER = { has_government = fascism }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_1
				GER = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_fascism } }
				ITA = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					GER = { has_government = fascism }
					NOT = { ITA = { has_government = fascism } }
				}
				add_ideas = ENG_tackle_fascism_idea_2
				GER = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_fascism } }
			}
			if = {
				limit = {
					NOT = { GER = { has_government = fascism } }
					ITA = { has_government = fascism }
				}
				add_ideas = ENG_tackle_fascism_idea_3
				ITA = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_fascism } }
			}
			#hidden_effect = { news_event = { id = mtg_news.39 days = 1 } }
		}
	}
	
	focus = {
		id = HUN_tackle_capitalism_1
		prerequisite = { focus = HUN_intervene_in_czech_1 }
		mutually_exclusive = { focus = HUN_tackle_fascism_1 }
		available = {
			is_subject = no
			country_exists = USA
			USA = { has_government = democratic }
		}
		icon = GFX_focus_generic_strike_at_democracy3
		x = -1
		y = 2
		relative_position_id = HUN_intervene_in_czech_1
		cost = 10
		ai_will_do = {
			factor = 1
		}
		search_filters = {FOCUS_FILTER_POLITICAL}	
		on_uncomplete = {
			remove_ideas = ENG_tackle_capitalism_idea
		}
		completion_reward = {
			add_ideas = ENG_tackle_capitalism_idea
			ENG = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_capitalism } }
			FRA = { add_opinion_modifier = { target = HUN modifier = ENG_tackle_capitalism } }
			#hidden_effect = { news_event = { id = mtg_news.40 days = 1 } }
		}
	}
	
	
	focus = {
		id = HUN_iron_curtain_1
		icon = GFX_focus_SWE_the_threat_of_the_iron_curtain
		#prerequisite = {focus = HUN_one_party_state_1}
		#prerequisite = {focus = HUN_stalins_best_disciple_1}
		prerequisite = {focus = HUN_tackle_fascism_1 }
		x = 1
		y = 1
		relative_position_id = HUN_tackle_fascism_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### TODO: NATIONAL SPIRIT THAT BREAKS TRADE RELATIONS WITH EACH COUNTRY THAT IS A NEIGHBOUR OF HUNGARY AND IS NOT COMMUNIST. IF THE FACTION EXPANDS THEN SO SHOULD THE IDEA, MAKING IT SO THAT A CONTINUOUS IMAGINATIVE BORDER IS CREATED WHICH IS THE IRON CURTAIN.
			every_state = {
				limit = {
					is_owned_and_controlled_by = HUN
					all_neighbor_state = {
						owner = { NOT = { has_government = communism } }
					}
				}
				add_building_construction = {
					type = bunker
					level = 3
					instant_build = yes
					province = {
						all_provinces = yes
						limit_to_border = yes
					}
				}
			}			
		}
	}
	
	
	

	focus = {
		id = HUN_nationalize_the_industry_1
		icon = GFX_goal_generic_soviet_construction
		mutually_exclusive = { focus = HUN_collectivize_agriculture_1 }
		prerequisite = {focus = HUN_join_com_1 }
		x = 5
		y = 1
		relative_position_id = HUN_join_com_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = arms_factory
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_consumer_construction_tt = yes 
			HUN_add_3_consumer = yes
			HUN_add_4_construction = yes
		}
	}
	
	
	############################
	# Balkan Proletariat Union #
	############################
	
	focus = {
		id = HUN_repeat_the_1919_northern_campaign_1
		icon = GFX_focus_eng_concessions_to_the_trade_unions
		prerequisite = {focus = HUN_call_back_the_leadership_of_1919_1}
		x = 0
		y = 2
		relative_position_id = HUN_call_back_the_leadership_of_1919_1
		
		cost = 5

		will_lead_to_war_with = CZE

		available = {
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			add_state_claim = 70
			add_state_claim = 71
			add_state_claim = 73
			add_state_claim = 664
			
			country_event = LH.377
			
		}
	}
	
	focus = {
		id = HUN_the_red_kingdom_1
		icon = GFX_Greater_communism
		prerequisite = {focus = HUN_fuse_with_the_democrats_1 focus = HUN_repeat_the_1919_northern_campaign_1 }
		#prerequisite = {focus = HUN_the_red_news_1}
		x = 1
		y = 1
		relative_position_id = HUN_repeat_the_1919_northern_campaign_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			
			add_state_claim = 76
			add_state_claim = 83
			add_state_claim = 84
			add_state_claim = 82
			add_state_claim = 764
			add_state_claim = 45
			add_state_claim = 109
			add_state_claim = 974
			add_state_claim = 971
			add_state_claim = 978
			
			country_event = LH.378
			country_event = { id = LH.379 days = 2 }
			
			
		}
	}
	
	focus = {
		id = HUN_federalise_the_states_1
		icon = GFX_focus_SOV_the_supreme_soviet
		prerequisite = {focus = HUN_the_red_kingdom_1 }
		#prerequisite = {focus = HUN_the_red_news_1}
		x = 0
		y = 1
		relative_position_id = HUN_the_red_kingdom_1
		
		cost = 20


		available = {
			NOT = { 
				has_power_balance = {
					id = HUN_kun_bop
				}
			}
			has_civil_war = no 
			custom_trigger_tooltip = {
				tooltip = HUN_conquered_all_territory_of_greater_hun_tt
				any_country = {
					has_full_control_of_state = 76
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 84
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 83
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 82
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 73
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 664
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 70
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 71
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 45
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 764
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 109
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 971
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
				any_country = {
					has_full_control_of_state = 974
					OR = {
						is_in_faction_with = ROOT
						is_puppet_of = ROOT
						tag = ROOT
					}
				}
			}
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### ANNEXES ALL SUBJECTS AND CORES THEM!!
			custom_effect_tooltip = HUN_states_federalisation_tt
			hidden_effect = {
				every_country = {
					limit = { is_puppet_of = HUN has_government = communism }
					every_state = {
						limit = {
							is_owned_by = PREV
						}
						add_core_of = HUN
					}
					HUN = {
						annex_country = {
							target = PREV
							transfer_troops = yes
						}
					}
				}
				set_cosmetic_tag = HUN_SOV_FEDERAL
			}
			
			create_country_leader = {
				name = "Soviet Council"
				#desc = "POLITICS_MOHAMMED_ZAHIR_SHAH_DESC"
				picture = GFX_portrait_SOV_supreme_soviet
				expire = "1965.1.1"
				ideology = marxism
				traits = { strong_party_discipline
				}
			}
			
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_all_tt = yes 
			HUN_add_4_consumer = yes
			HUN_add_5_construction = yes
			HUN_add_5_factory_output = yes
		}
	}
	
	focus = {
		id = HUN_pact_with_the_soviet_union_1
		icon = GFX_focus_chi_mission_to_the_soviet_union
		prerequisite = {focus = HUN_the_red_kingdom_1 }
		#prerequisite = {focus = HUN_the_red_news_1}
		x = 2
		y = 1
		relative_position_id = HUN_the_red_kingdom_1
		
		cost = 10


		available = {
			
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			SOV = { country_event = LH.387 }
		}
	}
	
	focus = {
		id = HUN_war_on_anti_communism_1
		icon = GFX_focus_SOV_proclaim_soviet_hegemony
		prerequisite = {focus = HUN_pact_with_the_soviet_union_1 focus = HUN_federalise_the_states_1 }
		#prerequisite = {focus = HUN_the_red_news_1}
		x = -1
		y = 1
		relative_position_id = HUN_pact_with_the_soviet_union_1
		
		cost = 10


		available = {
			
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			every_country = {
				limit = { 
					OR = { has_government = fascism has_government = democratic }
					any_owned_state = {
						is_capital = yes
						is_on_continent = europe
					}
				}
				HUN = {
					create_wargoal = {
						target = PREV 
						type = puppet_wargoal_focus
					}
				}
			}
		}
	}
	
	focus = {
		id = HUN_communist_europe_1
		icon = GFX_focus_spr_anarchism_knows_no_borders
		prerequisite = {focus = HUN_war_on_anti_communism_1 }
		prerequisite = {focus = HUN_federalise_the_states_1 }
		#prerequisite = {focus = HUN_the_red_news_1}
		x = -2
		y = 1
		relative_position_id = HUN_war_on_anti_communism_1
		
		cost = 10


		available = {
			
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### ADDS DECISIONS TO CORE ALL OF EUROPE ###
			hidden_effect = { set_cosmetic_tag = HUN_KUN_EU }
			custom_effect_tooltip = HUN_cosmetic_tag_HUN_KUN_EU_tt
			custom_effect_tooltip = HUN_decisions_to_core_europe_tt
		}
	}
	
	focus = {
		id = HUN_collectivize_agriculture_1
		icon = GFX_focus_prc_agrarian_socialism
		mutually_exclusive = { focus = HUN_nationalize_the_industry_1 }
		prerequisite = {focus = HUN_join_com_1 }
		x = 3
		y = 1
		relative_position_id = HUN_join_com_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			custom_effect_tooltip = HUN_receive_30_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 30
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_5_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_rebuild_infrastructure_1
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = {focus = HUN_collectivize_agriculture_1 focus = HUN_nationalize_the_industry_1 }
		#prerequisite = {focus = HUN_romanian_corridor_1}
		x = 1
		y = 1
		relative_position_id = HUN_collectivize_agriculture_1
		
		cost = 7


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_expand_infrastructure days = 365 }
		}
	}

	
	
	
	focus = {
		id = HUN_export_the_revolution_to_bulgaria_1
		icon = GFX_focus_BUL_the_fatherland_front
		prerequisite = {focus = HUN_the_red_kingdom_1 }
		prerequisite = {focus = HUN_the_red_news_1 }
		x = -2
		y = 1
		relative_position_id = HUN_the_red_kingdom_1
		
		cost = 5


		available = {
			BUL = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
			}
			is_faction_leader = yes
		}
		
		bypass = {
			BUL = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### EVENT TO CHOOSE IF WE WANT WAR WITH THEM OR DIPLOMATICALLY GET THEM TO COMMUNISM AND JOIN OUR FACTION
			
			country_event = LH.380
		}
	}
	
	
	
	
	
	focus = {
		id = HUN_invite_albania_com_1
		icon = GFX_focus_generic_befriend_albania
		prerequisite = { focus = HUN_export_the_revolution_to_bulgaria_1 }
		x = 0
		y = 1
		relative_position_id = HUN_export_the_revolution_to_bulgaria_1

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			ALB = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
			}
			is_faction_leader = yes
		}

		bypass = {
			ALB = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			country_event = LH.382
		}
	}
	
	
	
	focus = {
		id = HUN_invite_greece_com_1
		icon = GFX_focus_generic_befriend_greece
		prerequisite = { focus = HUN_export_the_revolution_to_bulgaria_1 }
		x = -2
		y = 1
		relative_position_id = HUN_export_the_revolution_to_bulgaria_1

		cost = 5

		ai_will_do = {
			factor = 100
		}

		available = {
			GRE = {
				NOT = { has_war_with = ROOT }
				exists = yes
				is_puppet = no
				is_in_faction = no
			}
			is_faction_leader = yes
		}

		bypass = {
			GRE = {
				OR = {
					exists = no
					is_puppet_of = ROOT
					is_in_faction = yes
					has_country_flag = banned_communism_flag
				}
			}
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no
		search_filters = { FOCUS_FILTER_POLITICAL }



		completion_reward = {
			country_event = LH.381
		}
	}
	
	
	focus = {
		id = HUN_form_the_avh_1
		icon = GFX_focus_avh
		prerequisite = {focus = HUN_new_leadership_1 }
		x = -3
		y = 1
		relative_position_id = HUN_new_leadership_1
		
		cost = 10


		available = {
			#has_country_flag = HUN_rakosi_leader_flag
			has_civil_war = no
			NOT = { has_completed_focus = HUN_goulash_communism_1 }
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		
		on_uncomplete = {
			remove_ideas = HUN_avh
		}

		completion_reward = {
			add_ideas = HUN_avh
			if = {
				limit = {
					has_dlc = "La Resistance"
				}
				create_intelligence_agency = {
					name = "ÁVH"
					icon = GFX_intelligence_agency_logo_avh
				}
			}
			custom_effect_tooltip = available_political_advisor
			show_ideas_tooltip = HUN_gabor_peter
		}
	}
	
	focus = {
		id = HUN_purge_1
		icon = GFX_focus_SOV_the_last_purge
		prerequisite = {focus = HUN_form_the_avh_1 }
		x = 1
		y = 1
		relative_position_id = HUN_form_the_avh_1
		
		cost = 14


		available = {
			has_country_flag = HUN_rakosi_leader_flag
			communism > 0.39
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		
		select_effect = {
			country_event = { id = LH.396 days = 3 } 
			add_ideas = HUN_purge_idea
		}

		completion_reward = {
			
			### SCHEINPROZESS GEGEN LASZLO RAJK, WURDE GEFOLTERT UND UMGEBRACHT. AUCH ANDERE WERDEN GESÄUBERT. SóLYOM PER
			
			custom_effect_tooltip = HUN_on_activation_tt
			show_ideas_tooltip = HUN_purge_idea
			
			custom_effect_tooltip = HUN_rakosi_purges_activation_tt
			
			custom_effect_tooltip = HUN_red_news_dec_tt
			
		}
	}
	
	
	focus = {
		id = HUN_stalins_best_disciple_1
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = HUN_ultimatum_to_the_parties_1 }
		prerequisite = { focus = HUN_purge_1 }
		x = -1
		y = 1
		relative_position_id = HUN_purge_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### TECHNOLOGY TREATY WITH THE SOVIET UNION, AND GET LICENSE EQUIPMENT
			### ASK THE SOVIETS TO BE THEIR PUPPET! 
			country_event = LH.401
			add_political_power = 50
			SOV = { add_opinion_modifier = { target = HUN modifier = HUN_SOV_disciple } }
		}
	}
	
	focus = {
		id = HUN_cult_of_personality_1
		icon = GFX_cult_of_personality_rakosi
		#prerequisite = {focus = HUN_one_party_state_1}
		prerequisite = {focus = HUN_stalins_best_disciple_1}
		#prerequisite = {focus = HUN_one_party_state_1}
		x = 0
		y = 1
		relative_position_id = HUN_stalins_best_disciple_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### UPGRADE RÁKOSI'S TRAITS LIKE STALIN IN THE SOVIET TREE	
			### NEWS EVENT SHOWING RAKOSIS BIRTHDAY
			### ADD DECISION TO CELEBRATE HIS BIRTHDAY!!!
			HUN_matyas_rakosi = {
				add_country_leader_trait = rakosi_trait
			}
			if = {
				limit = { NOT = {has_completed_focus = HUN_one_party_state_1 } }
				add_popularity = { ideology = communism popularity = 0.1 }
			}
			add_political_power = 50
			divide_variable = { rakosi_decision_cost = 2 }
			custom_effect_tooltip = HUN_red_news_dec_tt
			custom_effect_tooltip = HUN_bop_decisions_halved
		}
	}
	
	
	focus = {
		id = HUN_soviet_hungarian_academy_1
		icon = GFX_focus_generic_soviet_politics
		prerequisite = {focus = HUN_join_com_1 focus = HUN_pact_with_the_soviet_union_1 }
		x = -3
		y = 1
		relative_position_id = HUN_join_com_1
		
		cost = 10


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		
		on_uncomplete = {
			remove_ideas = HUN_soviet_officer_training
		}

		completion_reward = {
			add_to_tech_sharing_group = HUN_soviet_hungarian_military_academy_tech_group
			
			SOV = { add_to_tech_sharing_group = HUN_soviet_hungarian_military_academy_tech_group }
			custom_effect_tooltip = HUN_istvan_bata_will_become_available
			hidden_effect = { 
			}
			army_experience = 25
			every_army_leader = {
				add_defense = 1
			}
			add_ideas = HUN_soviet_officer_training
		}
	}
	
	
	
	
	focus = {
		id = HUN_red_army_1
		icon = GFX_focus_SOV_builder_of_the_red_army
		prerequisite = { focus = HUN_soviet_hungarian_academy_1 }
		x = -1
		y = 1
		relative_position_id = HUN_soviet_hungarian_academy_1
		
		cost = 10


		available = {
				if = {
					limit = {
						original_tag = HUN
						has_dlc = "Death or Dishonor"
					}
					if = {
						limit = {
							has_dlc = "Arms Against Tyranny"
						}
						NOT = { has_idea = HUN_treaty_of_triannon_aat }
					}
					else = {
						NOT = { has_idea = HUN_treaty_of_triannon  }
					}
				}
			has_completed_focus = HUN_join_com_1
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no


		
		on_uncomplete = {
			remove_ideas = HUN_the_hungarian_red_army
		}

		completion_reward = {
			swap_ideas = {
				remove_idea = HUN_the_hungarian_red_army_1 
				add_idea = HUN_the_hungarian_red_army
			}
		}
	}
	
	
	focus = {
		id = HUN_fortify_our_borders_1
		icon = GFX_goal_generic_fortify_city
		
		prerequisite = {focus = HUN_red_army_1 focus = HUN_war_on_anti_communism_1}
		#prerequisite = {focus = HUN_romanian_corridor_1}
		x = -1
		y = 1
		relative_position_id = HUN_red_army_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_timed_idea = { idea = HUN_fortify_borders days = 365 }
		}
	}
	
	focus = {
		id = HUN_focus_on_the_home_front_1
		icon = GFX_goal_generic_construct_military
		prerequisite = {focus = HUN_fortify_our_borders_1 }
		x = 0
		y = 1
		relative_position_id = HUN_fortify_our_borders_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_ideas = HUN_the_hungarian_red_army_1
		}
	}
	
	focus = {
		id = HUN_soviet_war_machine_1
		icon = GFX_goal_generic_army_tanks
		prerequisite = {focus = HUN_soviet_hungarian_academy_1 }
		x = 1
		y = 1
		relative_position_id = HUN_soviet_hungarian_academy_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_focus_under_construction_tt
		}
	}
	
	focus = {
		id = HUN_minimum_wage_focus_1
		icon = GFX_goal_generic_construction
		
		prerequisite = {focus = HUN_soviet_war_machine_1 }
		prerequisite = {focus = HUN_tackle_capitalism_1 }
		x = 1
		y = 2
		relative_position_id = HUN_soviet_war_machine_1
		
		cost = 5


		available = {

		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_all_tt = yes 
			HUN_add_4_consumer = yes
			HUN_add_5_construction = yes
			HUN_add_5_factory_output = yes
		}
	}
	
	
	focus = {
		id = HUN_soviet_technical_teams_1
		prerequisite = { focus = HUN_soviet_war_machine_1 }
		icon = GFX_goal_generic_production2
		x = 0
		y = 1
		relative_position_id = HUN_soviet_war_machine_1
		cost = 8

		available_if_capitulated = yes
		search_filters = {FOCUS_FILTER_INDUSTRY}
		on_uncomplete = {
			remove_ideas = HOL_soviet_technical_teams
		}
		completion_reward = {
			add_ideas = HOL_soviet_technical_teams
		}
	}
	
	
	
	focus = {
		id = HUN_reform_the_lenin_boys_1
		icon = GFX_focus_chi_army_reform
		prerequisite = {focus = HUN_call_back_the_leadership_of_1919_1}
		x = -1
		y = 1
		relative_position_id = HUN_call_back_the_leadership_of_1919_1
		
		cost = 10


		available = {
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			add_to_variable = { HUN_rev_conscription = 0.01 }
			add_to_variable = { HUN_rev_army_attack_factor = 0.05 }
			custom_effect_tooltip = HUN_lenin_boys_rev_tt
			custom_effect_tooltip = HUN_lenin_boys_decisions_tt
		}
	}
	
	
	focus = {
		id = HUN_restart_the_red_terror_1
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = {focus = HUN_reform_the_lenin_boys_1 focus = HUN_rakosi_red_guard_1 }
		x = -1
		y = 1
		relative_position_id = HUN_reform_the_lenin_boys_1
		
		cost = 7


		available = {
			has_country_flag = HUN_utilizing_red_terror_flag
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### UPRISINGS AT THE LUDOVICA ACADEMY CAUSED KUN TO RESTART THE RED TERROR WITH THE HELP OF THE LENIN BOYS. THE POPULATION STARTS TO THINK KUN IS BAD; POWER STRUGGLE BETWEEN KUN AND THE MILITARY OFFICERS FROM BEFORE. RESTARTING THE TERROR WILL REDUCE THE COST OF MOVING THE BOP TOWARDS KUN AND UNLOCK HARSHER DECISIONS IN THE BOP WINDOW ###
			
			custom_effect_tooltip = HUN_red_terror_starts_again_tt
			divide_variable = { HUN_bop_kun_cost_standard = 2 }
			divide_variable = { HUN_bop_kun_cost_high_standard = 2 }
		}
	}
	
	focus = {
		id = HUN_the_red_news_1
		icon = GFX_goal_generic_propaganda
		prerequisite = {focus = HUN_repeat_the_1919_northern_campaign_1 }
		prerequisite = {focus = HUN_rakosi_red_guard_1 focus = HUN_reform_the_lenin_boys_1 }
		x = -1
		y = 1
		relative_position_id = HUN_repeat_the_1919_northern_campaign_1
		
		cost = 10


		available = {
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### GET DECISIONS FOR THE FOLLOWING THINGS: abolition of aristocratic titles and privileges, the separation of church and state, codified freedom of assembly and freedom of speech, and implemented free education and language and cultural rights to minorities. 
			### GETS DECISIOINS TO BOOST COMMUNISM IN NEIGHBOURING COUNTRIES.
			### HELPS WAR SUPPORT FOR REPEATING THE 1919 ATTACKS.
			
			add_to_variable = { HUN_rev_max_surrender_limit_offset = 0.1 }
			add_to_variable = { HUN_rev_war_support_factor = 0.05 }
			add_to_variable = { HUN_rev_army_speed_factor = 0.05 }
			add_to_variable = { HUN_rev_army_morale = 10 }
			add_to_variable = { HUN_rev_attrition = -0.1 }
			custom_effect_tooltip = HUN_red_news_rev_tt
			custom_effect_tooltip = HUN_red_news_dec_tt
		}
	}
	
	
	focus = {
		id = HUN_fuse_with_the_democrats_1
		icon = GFX_goal_support_democracy
		prerequisite = {focus = HUN_call_back_the_leadership_of_1919_1 }
		x = 2
		y = 1
		relative_position_id = HUN_call_back_the_leadership_of_1919_1
		
		cost = 7


		available = {
			has_civil_war = no
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
		
			### WITH PROPAGANDA, MANY FORMER MEMBERS OF THE DEMOCRATIC PARTY WERE INFLUENCED TO CHANGE ALLEGIANCE.
			
			
			custom_effect_tooltip = HUN_fuse_with_democrats_tt
			#hidden_effect = {
				
				set_temp_variable = {
					var = mszdp_pop
					value = party_popularity@democratic
				}
				
				add_popularity = {
					ideology = communism
					popularity = mszdp_pop
				}
				
				multiply_temp_variable = {
					var = mszdp_pop
					value = -1
				}
				
				add_popularity = {
					ideology = democratic
					popularity = mszdp_pop
				}
			#}
		}
	}
	
	focus = {
		id = HUN_land_redistribution_1
		icon = GFX_focus_generic_land_reclamation
		prerequisite = {focus = HUN_fuse_with_the_democrats_1}
		x = 0
		y = 1
		relative_position_id = HUN_fuse_with_the_democrats_1
		
		cost = 7


		available = {
			
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no



		completion_reward = {
			custom_effect_tooltip = HUN_receive_50_pengos_tt
			add_to_variable = {
				var = budget_army
				value = 50
			}
			### MODIFY ECONOMIC CRISIS ###
			HUN_modify_crisis_construction_output_tt = yes 
			HUN_add_4_construction = yes
			HUN_add_3_factory_output = yes
		}
	}
	
	
	
	
	
	
}