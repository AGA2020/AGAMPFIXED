on_actions = {

	#Not run on a specific country.
	on_startup = {
		effect = {
			HUN = {
				country_event = {
					id = LH.16
				}
				country_event = {
					id = LH.18
				}
			}
		}
	}
	
	# Remove or add Generals if Government changes
	#on_government_change = {
	#	effect = {
	#		if = {
	#			limit = { 
	#				has_government = fascism
	#				NOT = { has_country_flag = HUN_horthy_fascist_flag }
	#				original_tag = HUN
	#			}
	#			every_unit_leader = {
	#				limit = {
	#					NOT = {
	#						OR = {
	#							has_trait = german_sympathies
	#							has_trait = rongyos_sympathizer
	#						}
	#					}
	#				}
	#				retire = yes
	#			}
	#		}
	#		else_if = {
	#			limit = { 
	#				has_government = fascism 
	#				has_country_flag = HUN_horthy_fascist_flag 
	#				original_tag = HUN
	#			}
	#			every_unit_leader = {
	#				limit = {
	#					NOT = {
	#						has_trait = german_sympathies
	#						has_trait = horthyist
	#					}
	#				}
	#				retire = yes
	#			}
	#		}
	#		if = {
	#			limit = { 
	#				has_government = communism 
	#				original_tag = HUN
	#			}
	#			every_unit_leader = {
	#				limit = {
	#					NOT = {
	#						has_trait = communist_sympathizer
	#						has_trait = horthyist
	#					}
	#				}
	#				retire = yes
	#			}
	#		}
	#	}
	#}
	
	on_war = {	# Give Fiume to Croatia when they declare war
		effect = {
			if = {
				limit = { CRO = { has_war_with = YUG } }
				CRO = { transfer_state = 971 transfer_state = 974 }
			}
		}
	}
	
	on_civil_war_end = {	# After civil war, change capital to Budapest
		effect = {
			if = {
				limit = { original_tag = HUN has_completed_focus = HUN_council_of_commisars }
				set_capital = { state = 973 }
			}
		}
	}
	
	on_civil_war_end = {	# After civil war, make sure whole of Hungary belongs to Hungary
		effect = {
			if = {
				limit = { original_tag = HUN has_completed_focus = HUN_march_on_capital has_war = no }
				HUN = {
					transfer_state = 155
					transfer_state = 972
					transfer_state = 973
					transfer_state = 43
					transfer_state = 154
				}
				HCO = {
					remove_state_core = 155
					remove_state_core = 937
					remove_state_core = 938
					remove_state_core = 43
					remove_state_core = 154
				}
				155 = { set_demilitarized_zone = no }
				972 = { set_demilitarized_zone = no }
				973 = { set_demilitarized_zone = no }
				43 = { set_demilitarized_zone = no }
				154 = { set_demilitarized_zone = no }
			}
		}
	}
	
	on_declare_war = {	# Give Hungary the flag when attacking Romania (Hejjas)
		effect = {
			if = {
				limit = {
					HUN = { 
						OR = {
							has_completed_focus = HUN_danubian_question
							has_country_flag = HUN_romania_refused_alliance_flag
						}	
					}
					FROM = { tag = ROM }
				}
				HUN = {
					set_country_flag = HUN_declared_war_on_romania_flag
					clr_country_flag = HUN_romania_refused_alliance_flag
				}
			}
		}
	}
	
	on_capitulation_immediate = { # Give Hungary the flag when Romania capitulated (Hejjas)
		effect = {
			if = {
				limit = { 
					HUN = { has_country_flag = HUN_declared_war_on_romania_flag }
					tag = ROM
				}
				HUN = { 
					set_country_flag = HUN_romania_capitulated_flag 
					clr_country_flag = HUN_declared_war_on_romania_flag 
				}
				HUN = { country_event = { id = LH.444 days = 5 } }
			}
			
		}
	}
	
	on_declare_war = {	# Give Hungary the flag when attacking Greece (Hejjas)
		effect = {
			if = {
				limit = {
					HUN = {
						OR = {
							has_completed_focus = HUN_greek_question
							has_country_flag = HUN_greece_refused_alliance_flag
						}	
					}
					FROM = { tag = GRE }
				}
				HUN = {
					set_country_flag = HUN_declared_war_on_greece_flag
					clr_country_flag = HUN_greece_refused_alliance_flag
				}
			}
		}
	}
	
	on_capitulation_immediate = { # Give Hungary the flag when Greece capitulated (Hejjas)
		effect = {
			if = {
				limit = { 
					HUN = { has_country_flag = HUN_declared_war_on_greece_flag }
					tag = GRE
				}
				HUN = { 
					set_country_flag = HUN_greece_capitulated_flag 
					clr_country_flag = HUN_declared_war_on_greece_flag 
				}
				HUN = { country_event = { id = LH.444 days = 5 } }
			}
		}
	}
	
	on_capitulation_immediate = { # fire event to partition Yugoslavia after war through focus (Hejjas)
		effect = {
			if = {
				limit = { 
					HUN = { 
						has_completed_focus = HUN_claims_on_yug
					}
					tag = YUG
				}
				HUN = { country_event = { id = LH.2 days = 3 } }
			}
		}
	}
	
	on_capitulation_immediate = { # fire event to partition Turkey after war through focus (Hejjas)
		effect = {
			if = {
				limit = { 
					HUN = { 
						has_completed_focus = HUN_greek_claims
					}
					tag = YUG
				}
				HUN = { country_event = { id = LH.445 days = 3 } }
			}
		}
	}
	
	on_declare_war = {	### END FRIENDSHIP TREATY WITH GERMANY IF THEY DECLARE WAR WITH HUNGARY
		effect = {
			if = {
				limit = {
					tag = GER 
					FROM = { tag = HUN }
					HUN = {
						has_country_flag = HUN_GER_friendship_treaty_flag
					}
				}
				HUN = {
					country_event = { id = LH.466 hours = 6 }
				}
			}
		}
	}
	
	on_government_change = {	### CHANGE TRADE DEAL VALUES IF GOVERNMENT IS CHANGED
		effect = {	
			set_country_flag = HUN_no_trade_modifier_flag
			if = {
				limit = { has_country_flag = HUN_allied_trade_flag }
				clr_country_flag = HUN_allied_trade_flag
				
				set_variable = { var = HUN_democratic_acceptance value = 0 }
				set_variable = { var = HUN_democratic_drift value = 0 }
				set_variable = { var = HUN_generate_wargoal_tension value = 0 }
				set_variable = { var = HUN_join_faction_tension value = 0 }
				set_variable = { var = HUN_lend_lease_tension value = 0 }
				set_variable = { var = HUN_send_volunteers_tension value = 0 }
				set_variable = { var = HUN_guarantee_tension value = 0 }
				set_variable = { var = HUN_civilian_intel_to_others value = 0 }
				set_variable = { var = HUN_army_intel_to_others value = 0 }
				set_variable = { var = HUN_navy_intel_to_others value = 0 }
				set_variable = { var = HUN_airforce_intel_to_others value = 0 }
				set_variable = { var = HUN_embargo_cost_factor value = 0 }
				set_variable = { var = HUN_embargo_threshold_factor value = 0 }
				set_variable = { var = HUN_drift_defence_factor value = 0 }
				
			}
			if = {
				limit = { has_country_flag = HUN_axis_trade_flag }
				clr_country_flag = HUN_axis_trade_flag
				
				set_variable = { var = HUN_fascism_acceptance value = 0 }
				set_variable = { var = HUN_fascism_drift value = 0 }
				set_variable = { var = HUN_justify_war_goal_when_in_major_war_time value = 0 } 
				set_variable = { var = HUN_generate_wargoal_tension value = 0 }
				set_variable = { var = HUN_lend_lease_tension value = 0 } 
				set_variable = { var = HUN_join_faction_tension value = 0 } 
				set_variable = { var = HUN_civilian_intel_to_others value = 0 }
				set_variable = { var = HUN_army_intel_to_others value = 0 }
				set_variable = { var = HUN_navy_intel_to_others value = 0 }
				set_variable = { var = HUN_airforce_intel_to_others value = 0 }
				set_variable = { var = HUN_embargo_cost_factor value = 0 }
				set_variable = { var = HUN_send_volunteers_tension value = 0 } 
				set_variable = { var = HUN_guarantee_tension value = 0 } 
				set_variable = { var = HUN_drift_defence_factor value = 0 } 
			}
			if = {
				limit = { has_country_flag = HUN_comintern_trade_flag }
				clr_country_flag = HUN_comintern_trade_flag
				
				set_variable = { var = HUN_communism_acceptance value = 0 }
				set_variable = { var = HUN_communism_drift value = 0 }
				set_variable = { var = HUN_generate_wargoal_tension value = 0 } 
				set_variable = { var = HUN_civilian_intel_to_others value = 0 } 
				set_variable = { var = HUN_army_intel_to_others value = 0 } 
				set_variable = { var = HUN_navy_intel_to_others value = 0 } 
				set_variable = { var = HUN_airforce_intel_to_others value = 0 } 
				set_variable = { var = HUN_join_faction_tension value = 0 } 
				set_variable = { var = HUN_embargo_threshold_factor value = 0 } 
				set_variable = { var = HUN_lend_lease_tension value = 0 } 
				set_variable = { var = HUN_guarantee_tension value = 0 } 
				set_variable = { var = HUN_drift_defence_factor value = 0 } 
				set_variable = { var = HUN_send_volunteers_tension value = 0 }
			}
		}
	}
	
}
